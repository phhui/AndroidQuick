function getTableClassMap(){return{tb_help:template_def.TbHelp,tb_dot:template_def.TbDot,tb_item:template_def.TbItem,tb_special_chapter:template_def.TbSpecialChapter,tb_notice:template_def.TbNotice,tb_story:template_def.TbStory,tb_random_name:template_def.TbRandomName,tb_shop:template_def.TbShop,tb_collect_pic:template_def.TbCollectPic,tb_collect_video:template_def.TbCollectVideo,tb_choose_story:template_def.TbChooseStory,tb_game_set:template_def.TbGameSet,tb_anchor_information:template_def.TbAnchorInformation,tb_chapter:template_def.TbChapter}}function nop(){}function getTimer(){var t=(new Date).getTime();return 0==gs_base_time&&(gs_base_time=t),t-gs_base_time}function traceInl0(t){DbgUtil.isDebug&&console.log(timeStamp()+t)}function traceNet(t){console.log(timeStamp()+t)}function timeStamp(){return getTimer()+" : "}function clr(t){return"#"+core.utils.StrUtils.padString(t.toString(16),6,"0")}function clr_r(t){return(t&255<<16)>>16}function clr_g(t){return(65280&t)>>8}function clr_b(t){return(255&t)>>0}function str_clr(t){if(0==t)return 0;for(var e=t.toString(16);e.length<6;)e+="0";return parseInt(e,16)}function getLocStore(t,e){var o="";return o=null==(o=egret.localStorage.getItem(t))?e:o}function saveLocStore(t,e){egret.localStorage.setItem(t,e)}var __reflect=this&&this.__reflect||function(t,e,o){t.__class__=e,o?o.push(e):o=[e],t.__types__=t.__types__?o.concat(t.__types__):o},__extends=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);o.prototype=e.prototype,t.prototype=new o},__awaiter=this&&this.__awaiter||function(t,e,o,r){return new(o||(o=Promise))(function(i,n){function s(t){try{_(r.next(t))}catch(e){n(e)}}function a(t){try{_(r["throw"](t))}catch(e){n(e)}}function _(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(s,a)}_((r=r.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function o(t){return function(e){return r([t,e])}}function r(o){if(i)throw new TypeError("Generator is already executing.");for(;_;)try{if(i=1,n&&(s=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(s=s.call(n,o[1])).done)return s;switch(n=0,s&&(o=[0,s.value]),o[0]){case 0:case 1:s=o;break;case 4:return _.label++,{value:o[1],done:!1};case 5:_.label++,n=o[1],o=[0];continue;case 7:o=_.ops.pop(),_.trys.pop();continue;default:if(s=_.trys,!(s=s.length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){_=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){_.label=o[1];break}if(6===o[0]&&_.label<s[1]){_.label=s[1],s=o;break}if(s&&_.label<s[2]){_.label=s[2],_.ops.push(o);break}s[2]&&_.ops.pop(),_.trys.pop();continue}o=e.call(t,_)}catch(r){o=[6,r],n=0}finally{i=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var i,n,s,a,_={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),"throw":o(1),"return":o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},core;!function(t){var e;!function(t){var e=function(){function t(t){this._pool=new Array,this.allocCount=0,this.obj_using=new Array,this._type=t}return t.prototype.Alloc=function(e){void 0===e&&(e=null);var o=null;return 0==this._pool.length?(this.allocCount++,o=new this._type):o=this._pool.pop(),t.DBG&&this.obj_using.push(o),o},t.prototype.Release=function(e){t.DBG&&this.obj_using.splice(this.obj_using.indexOf(e),1),this._pool.push(e)},t.DBG=!1,t}();t.ObjectPoolList=e,__reflect(e.prototype,"core.pool.ObjectPoolList")}(e=t.pool||(t.pool={}))}(core||(core={}));var flash;!function(t){var e;!function(t){var e=egret.ByteArray,o=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),Object.defineProperty(e.prototype,"uint8Array",{get:function(){return this._bytes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this.position},set:function(t){this.position=t},enumerable:!0,configurable:!0}),e.prototype.writeBoolean=function(t){this.writeByte(t?1:0)},e.prototype.writeShort2=function(t){this.writeShort(t)},e.prototype.writeInt2=function(t){this.writeInt(t)},e.prototype.writeUnsignedInt2=function(t){this.writeUnsignedInt(t)},e.prototype.writeFloat2=function(t){this.writeFloat(t)},e.prototype.writeDouble2=function(t){this.writeDouble(t)},e.prototype.writeMultiByte2=function(t,e){this.writeUTFBytes(t)},e.prototype.writeUTF2=function(t){this.writeUTF(t)},e.prototype.writeBytes2=function(t,e,o){void 0===e&&(e=0),void 0===o&&(o=0);var r=t;this.writeBytes(r,e,o)},e.writeBytes=function(t,e,o,r){void 0===o&&(o=0),void 0===r&&(r=0),t.writeBytes(e,o,r)},e.prototype.readBoolean=function(){return 1==this.readByte()?!0:!1},e.prototype.readUnsignedByte2=function(){return this.readUnsignedByte()},e.prototype.readShort2=function(){return this.readShort()},e.prototype.readUnsigned16=function(){return this.readUnsignedShort()},e.prototype.readInt2=function(){return this.readInt()},e.prototype.readUnsignedInt2=function(){return this.readUnsignedInt()},e.prototype.readFloat2=function(){return this.readFloat()},e.prototype.readDouble2=function(){return this.readDouble()},e.prototype.readMultiByte=function(t,e){return this.readUTFBytes(t)},e.prototype.readUTF2=function(){return this.readUTF()},e.prototype.readBytes=function(t,e,o){throw void 0===e&&(e=0),void 0===o&&(o=0),new Error("Method not implemented")},e}(e);t.ByteArray=o,__reflect(o.prototype,"flash.utils.ByteArray")}(e=t.utils||(t.utils={}))}(flash||(flash={}));var flash;!function(t){var e;!function(t){var e=function(){function t(){}return t.BIG_ENDIAN="bigEndian",t.LITTLE_ENDIAN="littleEndian",t}();t.Endian=e,__reflect(e.prototype,"flash.utils.Endian")}(e=t.utils||(t.utils={}))}(flash||(flash={}));var core;!function(t){var e;!function(e){var o=egret.ByteArray,r=t.pool.ObjectPoolList,i=function(){function t(){this.msgid=0,this.len=t.ERROR_LENGTH}return t.NEW=function(){null==t.ObjectPool&&(t.ObjectPool=new r(t));var e=t.ObjectPool.Alloc(t);return e},t.FREE=function(e){e.clear(),t.ObjectPool.Release(e)},t.prototype.init=function(t){null==t?this._bytes=new o:this._bytes=t,this._bytes.endian=egret.Endian.LITTLE_ENDIAN},Object.defineProperty(t.prototype,"length",{get:function(){return this._bytes.position,this._bytes.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._bytes.position},set:function(t){this._bytes.position=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bytes",{get:function(){return this._bytes},enumerable:!0,configurable:!0}),t.prototype.readHead=function(){var t=this._bytes;this.msgid=t.readUnsignedShort()},t.prototype.clear=function(){this.msgid=0,this.len=t.ERROR_LENGTH,this._bytes.length=0},t.prototype.writeString=function(e){var o=t.gTmpByteArray;o.clear(),o.writeUTFBytes(e),this.writeArraySize(o.length),this._bytes.writeBytes(o,0,o.buffer.byteLength)},t.prototype.writeBoolean=function(t){this._bytes.writeByte(t?1:0)},t.prototype.writeUInt8=function(t){this._bytes.writeByte(t)},t.prototype.writeUInt16=function(t){this._bytes.writeUnsignedShort(t)},t.prototype.writeUInt32=function(t){this._bytes.writeUnsignedInt(t)},t.prototype.writeInt8=function(t){this._bytes.writeByte(t)},t.prototype.writeInt16=function(t){this._bytes.writeShort(t)},t.prototype.writeInt32=function(t){this._bytes.writeInt(t)},t.prototype.writeFloat=function(t){this._bytes.writeFloat(t)},t.prototype.writeDouble=function(t){this._bytes.writeDouble(t)},t.prototype.writeArraySize=function(t){127>=t?this._bytes.writeByte(128|t):(this._bytes.endian=egret.Endian.BIG_ENDIAN,this._bytes.writeShort(t),this._bytes.endian=egret.Endian.LITTLE_ENDIAN)},t.prototype.readString=function(){var t=this.readArraySize();return this._bytes.readUTFBytes(t)},t.prototype.readBoolean=function(){return 0!=this._bytes.readUnsignedByte()},t.prototype.readUInt8=function(){return this._bytes.readUnsignedByte()},t.prototype.readUInt16=function(){return this._bytes.readUnsignedShort()},t.prototype.readUInt32=function(){return this._bytes.readUnsignedInt()},t.prototype.readInt8=function(){return this._bytes.readByte()},t.prototype.readInt16=function(){return this._bytes.readShort()},t.prototype.readInt32=function(){return this._bytes.readInt()},t.prototype.readFloat=function(){return this._bytes.readFloat()},t.prototype.readDouble=function(){return this._bytes.readDouble()},t.prototype.readArraySize=function(){var t=this._bytes.readUnsignedByte();if(t>127)t&=127;else{var e=this._bytes.readUnsignedByte();t=t<<8|255&e}return t},t._pool=new Array,t.gTmpByteArray=new egret.ByteArray,t.ERROR_LENGTH=65535,t.COMPRESS_MARK=16384,t.COMPRESS_CLEAR_MARK=49151,t.MaxFreePacketSize=32,t}();e.Packet=i,__reflect(i.prototype,"core.net.Packet")}(e=t.net||(t.net={}))}(core||(core={}));var core;!function(t){var e;!function(t){var e=function(){function t(){}return t.trim=function(e){if(null==e)return"";for(var o=0;t.isWhitespace(e.charAt(o));)++o;for(var r=e.length-1;t.isWhitespace(e.charAt(r));)--r;return r>=o?e.slice(o,r+1):""},t.trimArrayElements=function(e,o){if(""!=e&&null!=e){for(var r=e.split(o),i=r.length,n=0;i>n;n++)r[n]=t.trim(r[n]);i>0&&(e=r.join(o))}return e},t.isWhitespace=function(t){switch(t){case" ":case"	":case"\r":case"\n":case"\f":return!0;default:return!1}},t.repeat=function(t,e){if(0==e)return"";for(var o=t,r=1;e>r;r++)o+=t;return o},t.restrict=function(e,o){if(null==o)return e;if(""==o)return"";for(var r=[],i=e.length,n=0;i>n;n++){var s=e.charCodeAt(n);t.testCharacter(s,o)&&r.push(s)}return String.fromCharCode.apply(null,r)},t.isValidStr=function(t){return null!=t&&""!=t&&"null"!=t?!0:!1},t.padString=function(t,e,o){if(void 0===o&&(o="0"),null==o)return t;var r,i=[];for(r=0;r<Math.abs(e)-t.length;r++)i.push(o);return 0>e?i.unshift(t):i.push(t),i.join("")},t.substitute=function(e){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];if(null==e)return"";var i=o.length;1==i&&o[0]instanceof Array&&(o=o[0],i=o.length);for(var n=0;i>n;){var s=t.patterns[n]||(t.patterns[n]=new RegExp("\\{"+n+"\\}","g"));e=e.replace(s,o[n]),n++}return e},t.replaceAll=function(t,e,o){return-1==t.indexOf(e)?t:t.split(e).join(o)},t.toUpperFirstChar=function(t){return t.replace(/(\w)/,function(t){return this.v.toUpperCase()})},t.toLowerFirstChar=function(t){return t.replace(/(\w)/,function(t){return this.v.toLocaleLowerCase()})},t.testCharacter=function(t,e){var o,r=!1,i=!1,n=!1,s=!0,a=0,_=e.length;_>0&&(o=e.charCodeAt(0),94==o&&(r=!0));for(var l=0;_>l;l++){o=e.charCodeAt(l);var c=!1;i?(c=!0,i=!1):45==o?n=!0:94==o?s=!s:92==o?i=!0:c=!0,c&&(n?(t>=a&&o>=t&&(r=s),n=!1,a=0):(t==o&&(r=s),a=o))}return r},t.getCharNum=function(t){for(var e=0,o=0;o<t.length;o++){var r=t.charCodeAt(o);r>=48&&57>=r||r>=65&&90>=r||r>=97&&122>=r?e+=1:r>=19968&&40869>=r&&(e+=3)}return e},t.sprintf=function(e){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];var i=t.parsContent(e,o);return i},t.parsContent=function(e,o){for(var r=0;r<o.length;r++){var i=o[r];""!=i.toString()&&(e=e.replace("%"+(r+1),i))}return t.conversion(e)},t.conversion=function(t){return t.split("?$;").join("%")},t.patterns=[],t}();t.StrUtils=e,__reflect(e.prototype,"core.utils.StrUtils")}(e=t.utils||(t.utils={}))}(core||(core={}));var core;!function(t){var e;!function(e){var o=t.utils.StrUtils,r=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._client=0,this.low=t,this.high=e}return Object.defineProperty(t.prototype,"low",{get:function(){return this._low},set:function(t){this._low=t,this.asString=null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"high",{get:function(){return this._high},set:function(t){this._high=t,this.asString=null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"client",{get:function(){return this._client},set:function(t){this._client=t,this.asString=null},enumerable:!0,configurable:!0}),t.prototype.isZero=function(){return 0==this.high&&0==this.low},t.equals=function(t,e,o){return void 0===o&&(o=!0),null==t&&null==e||t&&e&&t.equals(e,o)},t.prototype.equals=function(t,e){void 0===e&&(e=!0);var o=this.high==t.high&&this.low==t.low&&(e?this.client==t.client:!0);return o},t.prototype.compare=function(t){var e=this.high-t.high;return 0!=e?e:this.low-t.low},t.compare=function(t,e){return t.compare(e)},t.fromString=function(e){var o=0,r=0;if(e.length<t.LOW_LEN+t.PFX.length)r=parseInt(t.PFXC+e.substr(t.PFX.length),16);else{var i=e.length-t.LOW_LEN;o=parseInt(t.PFXC+e.substring(t.PFX.length,i),16),r=parseInt(t.PFXC+e.substring(i),16)}return new t(r,o)},t.prototype.toString=function(){if(null==this.asString){var e=this.low.toString(16);if(0==this.high)this.asString=e;else{var r=o.padString(e,8,"0"),i=this.high.toString(16)+r;this.asString=i}this.asString=t.PFX+this.asString}return 0!=this.client?this.asString+"_"+this.client:this.asString},Object.defineProperty(t.prototype,"platformId",{get:function(){return this.high>>18},enumerable:!0,configurable:!0}),t.prototype.toString2=function(){var e=null;return null==e&&(e=0==this.high?this.low.toString():t.add2Num(t.mul2Num(this.high,t.UIntMax1),this.low)),e},t.mul2Num=function(t,e){var o=t.toString().split("");o=o.reverse();var r=o.length,i=e.toString().split("");i=i.reverse();for(var n=i.length,s=new Array(r*n),a=0;r>a;a++)for(var _=parseInt(o[a]),l=0;n>l;l++){var c=parseInt(i[l]),u=(s[a+l]?s[a+l]:0)+_*c;if(u>10){var p=Math.floor(u/10);s[a+l+1]=(s[a+l+1]?s[a+l+1]:0)+p,u%=10}s[a+l]=u}return s=s.reverse(),s.join("")},t.add2Num=function(t,e){var o=t.toString().split("");o=o.reverse();var r=e.toString().split("");r=r.reverse();for(var i=Math.max(o.length,r.length),n=new Array(i),s=0;i>s;s++){var a=s<o.length?parseInt(o[s]):0,_=s<r.length?parseInt(r[s]):0,l=(n[s]?n[s]:0)+a+_;l>=10&&(l-=10,n[s+1]=1),n[s]=l}return n=n.reverse(),n.join("")},t.Zero=new t(0,0),t.PFXC="0x",t.PFX="",t.LOW_LEN=8,t.UIntMax1=4294967296,t}();e.UInt64=r,__reflect(r.prototype,"core.net.UInt64")}(e=t.net||(t.net={}))}(core||(core={}));var game;!function(t){var e;!function(t){var e=flash.utils.ByteArray,o=flash.utils.Endian,r=function(){function t(t){void 0===t&&(t=0),this.UINT32_MAX=4294967295,this.m_blocks=0,this.m_blockBegin=this.UINT32_MAX,this.m_blockEnd=0,this.m_mask=new e,this.m_mask.endian=o.LITTLE_ENDIAN}return t.prototype.Clear=function(){this.m_mask.clear(),this.m_mask.endian=o.LITTLE_ENDIAN,this.m_blockBegin=this.UINT32_MAX,this.m_blockEnd=0},t.prototype.read=function(t){this.m_blockBegin=t.readArraySize(),this.m_blockEnd=t.readArraySize(),this.m_blockEnd>this.m_mask.length&&this.setBlockSize(this.m_blockEnd),this.m_mask.position=this.m_blockBegin;var e=this.m_blockEnd-this.m_blockBegin;this.m_mask.writeBytes(t.bytes,t.bytes.position,e),t.bytes.position+=e},Object.defineProperty(t.prototype,"mask",{get:function(){return this.m_mask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"begin",{get:function(){return this.m_blockBegin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.m_blockEnd},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.m_blocks=0,this.m_blockBegin=this.UINT32_MAX,this.m_blockEnd=0,this.m_mask.clear()},t.prototype.GetBlock=function(t){return this.m_mask.uint8Array[t]},t.prototype.GetBlockBit=function(t,e){return t>=this.m_blockEnd?!1:0!=(this.GetBlock(t)&1<<e)},t.prototype.GetBit=function(t){return this.GetBlockBit(t>>3,7&t)},t.prototype.GetBitMulti=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=t.length,r=0;o>r;++r)if(this.GetBit(t[r]))return!0;return!1},t.prototype.GetBitMulti2=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var r=e.length,i=0;r>i;++i)if(this.GetBit(t+e[i]))return!0;return!1},t.prototype.GetBits=function(t,e){void 0===e&&(e=1),e+=t;for(var o=t;e>o;++o)if(this.GetBit(o))return!0;return!1},t.prototype.SetBit=function(t){var e=t>>3;e<this.m_blockBegin&&(this.m_blockBegin=e),e>=this.m_blockEnd&&(this.m_blockEnd=e+1);var o=0;e>this.m_mask.length?this.setBlockSize(e+1):e<this.m_mask.length&&(this.m_mask.position=e,o=this.m_mask.readByte()),this.m_mask.position=e,this.m_mask.writeByte(o|1<<(7&t))},t.prototype.setBlockSize=function(t){this.m_mask.length=t},t.prototype.UnsetBit=function(t){this.m_mask[t>>3]&=~(1<<(7&t))},t.prototype.HaveSetted=function(){return this.m_blockBegin!=this.UINT32_MAX},t.prototype.write=function(t){var o=this.m_blockBegin==this.UINT32_MAX?0:this.m_blockBegin;t.writeArraySize(o),t.writeArraySize(this.m_blockEnd),this.m_mask.position=o,e.writeBytes(t.bytes,this.m_mask,this.m_mask.position,this.m_blockEnd-o)},t}();t.UpdateMask=r,__reflect(r.prototype,"game.objmgr.UpdateMask")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e=function(){function t(){}return t.UPDATE_MASK_NONE=0,t.UPDATE_MASK_VALUES=1,t.UPDATE_MASK_STRINGS=2,t.UPDATE_MASK_BINLOG=4,t.UPDATE_MASK_LOCATION=8,t.UPDATE_MASK_MOVEMENT=16,t.UPDATE_MASK_SLOT=32,t.UPDATE_MASK_CREATE=32768,t}();t.UpdteDefine=e,__reflect(e.prototype,"game.objmgr.UpdteDefine")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e=function(){function t(){}return t.OBJECT_DATA_VERSION=0,t.OBJECT_TYPE_ENTRY=t.OBJECT_DATA_VERSION+1,t.OBJECT_END=t.OBJECT_TYPE_ENTRY+1,t.OBJECT_STR_NAME=0,t.OBJECT_STR_END=t.OBJECT_STR_NAME+1,t}();t.GuidObjectFields=e,__reflect(e.prototype,"game.objmgr.GuidObjectFields")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var game;!function(t){var e;!function(e){var o=core.net.UInt64,r=flash.utils.ByteArray,i=flash.utils.Endian,n=t.objmgr.UpdteDefine,s=t.objmgr.UpdateMask,a=function(){function t(t,e){this.m_valueMask=null,this.m_stringMask=null,this.m_binlog=null,this.m_valueData=null,this.m_stringData=null,this.m_filedUpdateMask=null,this._cbFieldChangeds=null,this.m_guid=new o(t,e)}return Object.defineProperty(t.prototype,"ucursor",{set:function(t){this.wcursor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wcursor",{set:function(t){this.cursor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rcursor",{set:function(t){this.cursor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.m_valueData.position=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"guid",{get:function(){return this.m_guid},enumerable:!0,configurable:!0}),t.prototype.SetGUID=function(t,e){this.m_guid.low=t,this.m_guid.high=e},t.prototype.Init=function(){},t.prototype.initData=function(t,o){this.m_valueData||(this.m_valueData=new r,this.m_valueData.endian=i.LITTLE_ENDIAN,this.m_valuesCount=t,this.m_valueData.length=4*this.m_valuesCount,this.m_stringData=new Array(o),this.initStringDatas(),this.m_stringsCount=o,this.m_valueMask=new s,this.m_stringMask=new s,this.m_binlog=new e.BinLog)},t.prototype.initStringDatas=function(){for(var t=0,e=this.m_stringData.length;e>t;t++)this.m_stringData[t]=""},t.prototype.HaveUpdate=function(){return this.m_valueMask.HaveSetted()||this.m_stringMask.HaveSetted()},t.prototype.ClearUpdate=function(){this.m_valueMask.HaveSetted()&&this.m_valueMask.Clear(),this.m_stringMask.HaveSetted()&&this.m_stringMask.Clear()},t.prototype.GetBit=function(t,e){if(t=(t<<2)+(e>>3),this.m_valueData.length>t){this.rcursor=t;var o=this.m_valueData.readUnsignedInt();return 0!=(o>>(7&e)&1)}return!1},t.prototype.SetBit=function(t,e){this.m_valueMask.SetBit(t),t=(t<<2)+(e>>3),this.m_valueData.length<t&&(this.m_valueData.length=t),this.rcursor=t;var o=this.m_valueData.readUnsignedInt(),r=o|1<<(7&e);this.wcursor=t,this.m_valueData.writeUnsignedInt(r)},t.prototype.UnsetBit=function(t,e){this.m_valueMask.SetBit(t),t=(t<<2)+(e>>3),this.m_valueData.length<t&&(this.m_valueData.length=t),this.rcursor=t;var o=this.m_valueData.readUnsignedInt(),r=o&~(1<<(7&e));this.wcursor=t,this.m_valueData.writeUnsignedInt(r)},t.prototype.ToggleBit=function(t,e){this.m_valueMask.SetBit(t),t=(t<<2)+(e>>3),this.rcursor=t;var o=this.m_valueData.readUnsignedInt(),r=o^~(1<<(7&e));this.wcursor=t,this.m_valueData.writeUnsignedInt(r)},t.prototype.GetBool=function(t,e){var o=this.GetUInt8(t,e);return 0!=o},t.prototype.SetBool=function(t,e,o){o?this.SetUInt8(t,e,1):this.SetUInt8(t,e,0)},t.prototype.GetUInt8=function(t,e){return t=(t<<2)+e,this.m_valueData.length>t?(this.rcursor=t,this.m_valueData.readByte()):0},t.prototype.SetUInt8=function(t,e,o){this.m_valueMask.SetBit(t),t=(t<<2)+e,this.m_valueData.length<t&&(this.m_valueData.length=t),this.wcursor=t,this.m_valueData.writeByte(o)},t.prototype.ModUInt8=function(t,e,o){this.m_valueMask.SetBit(t),t=(t<<2)+e,this.m_valueData.length<t&&(this.m_valueData.length=t),this.rcursor=t;var r=this.m_valueData.readByte(),i=o+r;this.wcursor=t,this.m_valueData.writeByte(i)},t.prototype.GetUInt16=function(t,e){return t=(t<<2)+(e<<1),this.m_valueData.length>=t+2?(this.rcursor=t,this.m_valueData.readUnsignedShort()):0},t.prototype.SetUInt16=function(t,e,o){this.m_valueMask.SetBit(t),t=(t<<2)+(e<<1),this.m_valueData.length<t&&(this.m_valueData.length=t),this.wcursor=t,this.m_valueData.writeShort(o)},t.prototype.ModUInt16=function(t,e,o){this.m_valueMask.SetBit(t),t=(t<<2)+(e<<1),this.m_valueData.length<t&&(this.m_valueData.length=t),this.rcursor=t;var r=this.m_valueData.readUnsignedShort();0>o&&-o>r?r=0:r+=o,this.wcursor=t,this.m_valueData.writeShort(r)},t.prototype.GetInt16=function(t,e){return t=(t<<2)+(e<<1),this.m_valueData.length>=t+2?(this.rcursor=t,this.m_valueData.readShort()):0},t.prototype.SetInt16=function(t,e,o){this.m_valueMask.SetBit(t),t=(t<<2)+(e<<1),this.m_valueData.length<t&&(this.m_valueData.length=t),this.wcursor=t,this.m_valueData.writeShort(o)},t.prototype.ModInt16=function(t,e,o){this.m_valueMask.SetBit(t),t=(t<<2)+(e<<1),this.m_valueData.length<t&&(this.m_valueData.length=t),this.rcursor=t,o+=this.m_valueData.readShort(),this.wcursor=t,this.m_valueData.writeShort(o)},t.prototype.GetUInt32=function(t){return t<<=2,this.m_valueData.length>=t+4?(this.rcursor=t,this.m_valueData.readUnsignedInt()):0},t.prototype.SetUInt32=function(t,e){this.m_valueMask.SetBit(t),t<<=2,this.m_valueData.length<t&&(this.m_valueData.length=t),this.wcursor=t,this.m_valueData.writeUnsignedInt(e)},t.prototype.ModUInt32=function(t,e){this.m_valueMask.SetBit(t),t<<=2,this.m_valueData.length<t&&(this.m_valueData.length=t),this.rcursor=t;var o=this.m_valueData.readUnsignedInt();0>e&&-e>o?o=0:o+=e,this.wcursor=t,this.m_valueData.writeUnsignedInt(o)},t.prototype.GetInt32=function(t){return t<<=2,this.m_valueData.length>=t+4?(this.rcursor=t,this.m_valueData.readInt()):0},t.prototype.SetInt32=function(t,e){this.m_valueMask.SetBit(t),t<<=2,this.m_valueData.length<t&&(this.m_valueData.length=t),this.wcursor=t,this.m_valueData.writeInt(e)},t.prototype.ModInt32=function(t,e){this.m_valueMask.SetBit(t),t<<=2,this.m_valueData.length<t&&(this.m_valueData.length=t),this.rcursor=t,e+=this.m_valueData.readInt(),this.wcursor=t,this.m_valueData.writeUnsignedInt(e)},t.prototype.GetFloat=function(t){return t<<=2,this.m_valueData.length>=t+4?(this.rcursor=t,this.m_valueData.readFloat()):0},t.prototype.SetFloat=function(t,e){this.m_valueMask.SetBit(t),t<<=2,this.m_valueData.length<t&&(this.m_valueData.length=t),this.wcursor=t,this.m_valueData.writeFloat(e)},t.prototype.ModFloat=function(t,e){this.m_valueMask.SetBit(t),t<<=2,this.m_valueData.length<t&&(this.m_valueData.length=t),this.rcursor=t,e+=this.m_valueData.readFloat(),this.wcursor=t,this.m_valueData.writeFloat(e)},t.prototype.GetDouble=function(t){return t<<=2,this.m_valueData.length>=t+8?(this.rcursor=t,this.m_valueData.readDouble()):0},t.prototype.getGUID=function(t,e){return void 0===e&&(e=null),t<<=2,this.m_valueData.length>=t+8?(this.rcursor=t,null==e&&(e=new o),e.low=this.m_valueData.readUnsignedInt(),e.high=this.m_valueData.readUnsignedInt(),e):null},t.prototype.SetDouble=function(t,e){this.m_valueMask.SetBit(t),this.m_valueMask.SetBit(t+1),t<<=2,this.m_valueData.length<t&&(this.m_valueData.length=t),this.wcursor=t,this.m_valueData.writeDouble(e)},t.prototype.ModDouble=function(t,e){this.m_valueMask.SetBit(t),this.m_valueMask.SetBit(t+1),t<<=2,this.m_valueData.length<t&&(this.m_valueData.length=t),this.rcursor=t,e+=this.m_valueData.readDouble(),this.wcursor=t,this.m_valueData.writeDouble(e)},t.prototype.GetUInt64=function(t){t<<=2;var e=new o;return this.m_valueData.length>=t+8&&(this.rcursor=t,e.low=this.m_valueData.readUnsignedInt(),e.high=this.m_valueData.readUnsignedInt()),e},t.prototype.SetUInt64=function(t,e){this.m_valueMask.SetBit(t),this.m_valueMask.SetBit(t+1),t<<=2,this.m_valueData.length<t&&(this.m_valueData.length=t),this.wcursor=t,this.m_valueData.writeUnsignedInt(e.low),this.m_valueData.writeUnsignedInt(e.high)},t.prototype.GetString=function(t){return t<this.m_stringData.length?this.m_stringData[t]:""},t.prototype.SetString=function(t,e){this.m_stringMask.SetBit(t),t>=this.m_stringData.length&&(this.m_stringData.length=t+1),this.m_stringData[t]=e},t.prototype.createUpdateBlock=function(t,e){var o=0;if(this.m_valueMask.HaveSetted()&&(o|=n.UPDATE_MASK_VALUES),this.m_stringMask.HaveSetted()&&(o|=n.UPDATE_MASK_STRINGS),0!=o){e.writeUInt16(o),e.writeUInt32(this.m_guid.low),e.writeUInt32(this.m_guid.high),e.writeUInt8(t);var r,i,s,a;if(0!=(o&n.UPDATE_MASK_VALUES))for(this.m_valueMask.write(e),r=this.m_valueMask.begin,i=this.m_valueMask.end;i>r;){if(0!=this.m_valueMask.mask[r])for(s=r<<3,a=0;8>a;++a)this.m_valueMask.GetBlockBit(r,a)&&(this.m_valueData.position=s+a<<2,e.writeUInt32(this.m_valueData.readUnsignedInt()));++r}if(0!=(o&n.UPDATE_MASK_STRINGS))for(this.m_stringMask.write(e),r=this.m_stringMask.begin,i=this.m_stringMask.end;i>r;){if(0!=this.m_stringMask.mask[r])for(s=r<<3,a=0;8>a;++a)this.m_stringMask.GetBlockBit(r,a)&&e.writeString(this.m_stringData[s+a]);++r}}},t.prototype.applyUpdateBlock=function(o,r){null==this.m_filedUpdateMask&&(this.m_filedUpdateMask=new e.FiledUpdateMask),this.m_filedUpdateMask.reset();var a=!0;0!=(o&n.UPDATE_MASK_CREATE)&&(this.m_valueData.clear(),this.m_valueData.length=0,this.m_valueData.length=4*this.m_valuesCount,this.m_valueData.endian=i.LITTLE_ENDIAN,this.m_stringData=new Array(this.m_stringsCount),this.initStringDatas(),a=!1);var _,l;if(0!=(o&n.UPDATE_MASK_BINLOG)&&(this.m_binlog.readPacket(r),this.m_binlog.apply(this),a))for(var c=this.m_binlog.structList.length,u=0;c>u;++u){var p=this.m_binlog.structList[u];this.m_filedUpdateMask.AddBinLogModMask(p),p.typ==e.BinLogStruct.BINLOG_TYPE_STRING?this.m_filedUpdateMask.AddStrMask(p.index):this.m_filedUpdateMask.AddIntMask(p.index)}var h=t.mask;if(0!=(o&n.UPDATE_MASK_VALUES))for(h||(h=t.mask=new s),h.read(r),_=h.begin,l=h.end;l>_;){var E=h.GetBlock(_);if(0!=E)for(var d=_<<3,u=0;8>u;++u)if(h.GetBlockBit(_,u)){var S=d+u;this.ucursor=S<<2,this.m_valueData.writeUnsignedInt(r.readUInt32()),a&&this.m_filedUpdateMask.AddIntMask(S)}++_}if(0!=(o&n.UPDATE_MASK_STRINGS))for(h||(h=t.mask=new s),h.read(r),_=h.begin,l=h.end;l>_;){if(0!=h.GetBlock(_)){d=_<<3;for(var u=0;8>u;++u)if(h.GetBlockBit(_,u)){var S=d+u;S>=this.m_stringData.length&&(this.m_stringData.length=S+1),this.m_stringData[S]=r.readString(),a&&this.m_filedUpdateMask.AddStrMask(S)}}++_}if(0!=(o&n.UPDATE_MASK_SLOT)){var f=new e.SlotUpdate;f.readPacket(r)}this.m_filedUpdateMask.hasUpdate()&&this.onFieldChange(this.m_filedUpdateMask),this.m_binlog.clear()},t.prototype.onFieldChange=function(t){if(this._cbFieldChangeds)for(var e=[this,this.guid,t],o=null,r=0,i=this._cbFieldChangeds.length;i>r;r++)o=this._cbFieldChangeds[r],o.runWith(e)},t.prototype.addCbFielbChanged=function(t){this._cbFieldChangeds||(this._cbFieldChangeds=new Array),this._cbFieldChangeds.push(t)},t.prototype.delCbFielbChanged=function(t){if(this._cbFieldChangeds){var e=this._cbFieldChangeds.indexOf(t);-1!=e&&this._cbFieldChangeds.splice(e,1)}},t.prototype.delAllCbFileChanged=function(){if(this._cbFieldChangeds){for(var t=null,e=0,o=this._cbFieldChangeds.length;o>e;e++)t=this._cbFieldChangeds[e];this._cbFieldChangeds=null}},t.prototype.clone=function(){var t=this.constructor,e=new t(this.m_guid.low,this.m_guid.high);return e.m_valueData=new r,e.m_valueData.endian=i.LITTLE_ENDIAN,e.m_valueData.writeBytes(this.m_valueData),e.m_valuesCount=this.m_valuesCount,e.m_stringData=this.m_stringData.concat(),e.m_stringsCount=this.m_stringsCount,e},t.UP_TYPE_NONE=0,t.UP_TYPE_MASK=1,t.UP_TYPE_BIN=2,t.UP_TYPE_ABIN=3,t.mask=null,t}();e.ObjectData=a,__reflect(a.prototype,"game.objmgr.ObjectData")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var BaseView=function(t){function e(){var e=t.call(this)||this;e.mIsAutoSkin=!0,e.m_IsOpen=!1,e.m_EventList=[],e.eventList=[],e.m_RefSkinName=null;var o=Util.GetClass(e).NAME;return o&&(e.name=o),e}return __extends(e,t),e.RedPointCheck=function(){return!1},e.prototype.$setParent=function(e){var o=this.$parent;if(t.prototype.$setParent.call(this,e),o){var r=Util.GetParentByType(e,BaseEuiView);r&&r.UnRefBaseView&&r.UnRefBaseView(this)}if(e){var r=Util.GetParentByType(e,BaseEuiView);r&&r.RefBaseView&&r.RefBaseView(this)}},e.prototype._AddClick=function(t,e){this._AddEvent(egret.TouchEvent.TOUCH_TAP,t,e)},e.prototype._AddItemClick=function(t,e){this._AddEvent(eui.ItemTapEvent.ITEM_TAP,t,e)},e.prototype._AddChange=function(t,e){this._AddEvent(egret.TouchEvent.CHANGE,t,e)},e.prototype._AddEvent=function(t,e,o){if(null==e)return void console.log("没有给定目标控件",this.__class__);for(var r=this.m_EventList,i=0;i<r.length;++i)if(r[i].addObject==e)return;var n=new EventListenerData(e,t,o,this,!1,0);r.push(n)},e.prototype.destoryView=function(){this.OnDestroy(),TimerManager.ins().removeAll(this);for(var t=this.m_EventList,e=0,o=t.length;o>e;e++)t[e].clean();this.m_EventList=[],this.UnrefSkin()},e.prototype.OnDestroy=function(){},e.prototype.AddTimer=function(t,e,o){TimerManager.ins().doTimer(t,e,o,this)},e.prototype.AddLoopTimer=function(t,e){e.call(this),TimerManager.ins().doTimer(1e3,0,e,this)},e.prototype.RemoveTimer=function(t){TimerManager.ins().remove(t,this)},e.prototype.observe=function(t,e){},e.prototype.removeObserve=function(){},e.prototype.AddClick=function(t,e){this.AddEvent(egret.TouchEvent.TOUCH_TAP,e,this,t)},e.prototype.AddItemClick=function(t,e){this.AddEvent(eui.ItemTapEvent.ITEM_TAP,e,this,t)},e.prototype.AddChange=function(t,e){this.AddEvent(egret.TouchEvent.CHANGE,e,this,t)},e.prototype.AddEvent=function(t,e,o,r,i){if(void 0===r&&(r=null),void 0===i&&(i=!1),null==r)return void console.log("没有给定目标控件",this.__class__);for(var n=0,s=this.eventList;n<s.length;++n)if(s[n].addObject==r)return;var a=new EventListenerData(r,t,e,o,i,0);a?this.eventList.push(a):console.log("绑定侦听事件失败")},e.prototype.removeEvents=function(){for(var t=this.eventList,e=0,o=t.length;o>e;e++)t[e].clean();this.eventList=[]},e.prototype.DoOpen=function(t){void 0===t&&(t=null),this.m_IsOpen||(this.m_IsOpen=!0,this.OnOpen.apply(this,t||e.EMPTY)),this.OnResume.apply(this,t||e.EMPTY)},e.prototype.DoClose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.m_IsOpen){this.m_IsOpen=!1,this.OnClose.apply(this,t);for(var o=0;o<this.numChildren;o++){var r=this.getChildAt(o);egret.is(r,"BaseView")&&r.DoClose(t)}this.removeEvents(),this.removeObserve(),TimerManager.ins().removeAll(this)}},e.prototype.OnOpen=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.OnResume=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.OnClose=function(){},e.prototype.$parseSkinName=function(){t.prototype.$parseSkinName.call(this);var e=this.skinName;this.m_RefSkinName!=e&&(this.UnrefSkin(),this.m_RefSkinName=e,this.RefSkin())},e.prototype.RefSkin=function(){if(this.m_RefSkinName){ResMgr.RefSkin(this.m_RefSkinName)}},e.prototype.UnrefSkin=function(){this.m_RefSkinName&&(ResMgr.UnrefSkin(this.m_RefSkinName),this.m_RefSkinName=null)},e.prototype.$onRemoveFromStage=function(){t.prototype.$onRemoveFromStage.call(this),this.mIsAutoSkin&&this.UnrefSkin()},e.prototype.CheckUnrefSkin=function(){!this.$stage&&this.mIsAutoSkin&&this.UnrefSkin()},e.EMPTY=[],e}(eui.Component);
__reflect(BaseView.prototype,"BaseView");var game;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.OBJ_TYPE_OBJECT=0,t.OBJ_TYPE_GLOBALVALUE=1,t.OBJ_TYPE_PLAYER_SETTING=2,t.OBJ_TYPE_MAIL=3,t.OBJ_TYPE_PLAYER=4,t.OBJ_TYPE_PLAYERINFO=5,t}();t.ObjectDef=e,__reflect(e.prototype,"game.objects.def.ObjectDef")}(e=t.def||(t.def={}))}(e=t.objects||(t.objects={}))}(game||(game={}));var core;!function(t){var e;!function(t){var e=function(){function e(t){void 0===t&&(t=null)}return Object.defineProperty(e.prototype,"packet",{get:function(){return this._pack},enumerable:!0,configurable:!0}),e.prototype.writeHead=function(){this._pack=t.Packet.NEW(),this._pack.init(null);var e=this.getMsgId();this._pack.msgid=e,this._pack.writeUInt16(e)},e.prototype.writeLen=function(){},e.prototype.getMsgId=function(){return 0},e.prototype.readPacket=function(t){},e.prototype.writePacket=function(t){},e.prototype.printf=function(t,o){var r=e.regExp,i=e.search,n=e.props;i.length=0,n.length=0;for(var s;s=r.exec(t);)i.push(s[0]),n.push(s[1]);for(var a=0;a<i.length;a++)t=t.replace(i[a],o[n[a]]);return t},e.regExp=/%\(([\w]+[\w_\d]+)\)s/gi,e.props=new Array,e.search=new Array,e}();t.ProtoBase=e,__reflect(e.prototype,"core.net.ProtoBase")}(e=t.net||(t.net={}))}(core||(core={}));var game;!function(t){var e;!function(e){var o=t.objmgr.ObjectData,r=t.objmgr.GuidObjectFields,i=t.objmgr.UpdteDefine,n=function(t){function e(e,o){return t.call(this,e,o)||this}return __extends(e,t),Object.defineProperty(e.prototype,"objType",{get:function(){return this.m_type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Entry",{get:function(){return this.GetUInt16(r.OBJECT_TYPE_ENTRY,1)},set:function(t){this.SetUInt16(r.OBJECT_TYPE_ENTRY,1,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Name",{get:function(){return this.GetString(r.OBJECT_STR_NAME)},set:function(t){this.SetString(r.OBJECT_STR_NAME,t)},enumerable:!0,configurable:!0}),e.prototype.CreateUpdateBlock=function(t){var e=0;if(this.m_valueMask.HaveSetted()&&(e|=i.UPDATE_MASK_VALUES),this.m_stringMask.HaveSetted()&&(e|=i.UPDATE_MASK_STRINGS),0!=e){t.writeUInt16(e),t.writeUInt32(this.m_guid.low),t.writeUInt32(this.m_guid.high),t.writeUInt8(this.m_type);var o,r,n,s;if(0!=(e&i.UPDATE_MASK_VALUES))for(this.m_valueMask.write(t),o=this.m_valueMask.begin,r=this.m_valueMask.end;r>o;){if(0!=this.m_valueMask.mask[o])for(n=o<<3,s=0;8>s;++s);++o}if(0!=(e&i.UPDATE_MASK_STRINGS))for(this.m_stringMask.write(t),o=this.m_stringMask.begin,r=this.m_stringMask.end;r>o;){if(0!=this.m_stringMask.mask[o])for(n=o<<3,s=0;8>s;++s);++o}}},e.OBJECT_TYPE_ENTRY_SLOT_SIZE=1,e.OBJECT_TYPE_ENTRY_SLOT_COUNT=1,e.OBJECT_TYPE_ENTRY_TYPE_POS=0,e.OBJECT_TYPE_ENTRY_TYPE_OFFSET=0,e.OBJECT_TYPE_ENTRY_ENTRY_POS=0,e.OBJECT_TYPE_ENTRY_ENTRY_OFFSET=1,e.OBJECT_DATA_VERSION=0,e.OBJECT_TYPE_ENTRY=e.OBJECT_DATA_VERSION+1,e.OBJECT_TYPE_ENTRY_END=e.OBJECT_TYPE_ENTRY+1,e.OBJECT_END=e.OBJECT_TYPE_ENTRY_END,e.OBJECT_STR_NAME=0,e.OBJECT_STR_END=e.OBJECT_STR_NAME+1,e}(o);e.GuidObject=n,__reflect(n.prototype,"game.objmgr.GuidObject")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var core;!function(t){var e;!function(t){var e=function(){function e(){this._length=0,this.header=new t.ListNode,this.header.init(null,null,null),this.header.next=this.header.prev=this.header}return e.prototype.contains=function(t){return-1!=this.indexOf(t)},Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.add=function(t){this.addBefore(t,this.header)},e.prototype.getFirst=function(){return 0==this._length?null:this.header.next.data},e.prototype.getLast=function(){return 0==this._length?null:this.header.prev.data},e.prototype.getEl=function(t){return this.entry(t).data},e.prototype.removeFirst=function(){return this.removeNode(this.header.next)},e.prototype.removeLast=function(){return this.removeNode(this.header.prev)},e.prototype.addFirst=function(t){this.addBefore(t,this.header.next)},e.prototype.addLast=function(t){this.addBefore(t,this.header)},e.prototype.addBefore=function(e,o){var r=t.ListNode.NEW(e,o,o.prev);r.prev.next=r,r.next.prev=r,this._length++,null!=this.onItemAdd&&this.onItemAdd.runWith(e)},e.prototype.removeNode=function(e){if(e==this.header)throw new Error("NoSuchElementExecption");var o=e.data;return e.prev.next=e.next,e.next.prev=e.prev,e.prev=e.next=null,e.data=null,t.ListNode.FREE(e),this._length--,null!=this.onItemRemove&&this.onItemRemove.runWith(o),o},e.prototype.entry=function(t){if(0>t||t>=this.length)throw new Error("IndexOutOfBoundsException Index: "+t+", Size: "+this.length);var e=this.header;if(t<this.length>>1)for(var o=0;t>=o;o++)e=e.next;else for(var o=this.length;o>t;o--)e=e.prev;return e},e.prototype.remove=function(t){var e;for(e=this.header.next;e!=this.header;e=e.next)if(this.equals(t,e.data))return this.removeNode(e),!0;return!1},e.prototype.indexOf=function(t){var e,o=0;for(e=this.header.next;e!=this.header;e=e.next){if(this.equals(t,e.data))return o;o++}return-1},e.prototype.lastIndexOf=function(t){var e,o=this._length;for(e=this.header.prev;e!=this.header;e=e.prev)if(o--,this.equals(t,e.data))return o;return-1},e.prototype.find=function(t){var e,o=0;for(e=this.header.next;e!=this.header;e=e.next){if(t(e.data))return o;o++}return-1},e.prototype.forEach=function(t){var e;for(e=this.header.next;e!=this.header;e=e.next)t(e.data)},e.prototype.equals=function(t,e){return t==e},e.prototype.clear=function(){for(var e=this.header.next;e!=this.header;){var o=e.next,r=e.data;e.next=e.prev=null,e.data=null,t.ListNode.FREE(e),null!=this.onItemRemove&&this.onItemRemove.runWith(r),e=o}this.header.next=this.header.prev=this.header,this._length=0},e}();t.LinkList=e,__reflect(e.prototype,"core.ds.LinkList")}(e=t.ds||(t.ds={}))}(core||(core={}));var template;!function(t){var e=function(){function t(){}return t.prototype.fromByteArray=function(t){},t.prototype.initialize=function(){},t.prototype.parseVal=function(e){var o;return""==e&&(o=e),o=t.regExpInt.test(e)?parseInt(e):t.regExpFloat.test(e)?parseFloat(e):e},t.prototype.strToArray=function(t){var e=[];if(""==t)return e;for(var o=t.split(","),r=0;r<o.length;r++){var i=o[r],n=this.parseVal(i);e.push(n)}return e},t.prototype.strToArray2=function(t){var e=[];if(""==t)return e;var o=t.match(new RegExp(/\{.*?\}/g));if(null==o)return e;for(var r=0;r<o.length;r++){for(var i=o[r],n=i.replace("{","").replace("}",""),s=[],a=n.split(","),_=0;_<a.length;_++){var l=a[_],c=this.parseVal(l);s.push(c)}e.push(s)}return e},t.toDictionary=function(t){var e={};if(t.length>0)for(var o=0;o<t.length;o++){var r=t[o];e[r.ID]=r}return e},t.regExpInt=new RegExp(/^\s*[+-]*[0-9]+\s*$/),t.regExpFloat=new RegExp(/^\s*[+-]*[0-9\.]+[0-9\.]\s*$/),t}();t.TplBase=e,__reflect(e.prototype,"template.TplBase")}(template||(template={}));var BaseEuiLayer=function(t){function e(){var e=t.call(this)||this;return e.touchEnabled=!1,e}return __extends(e,t),e}(eui.Group);__reflect(BaseEuiLayer.prototype,"BaseEuiLayer");var BaseSpriteLayer=function(t){function e(){var e=t.call(this)||this;return e.touchEnabled=!1,e}return __extends(e,t),e}(egret.DisplayObjectContainer);__reflect(BaseSpriteLayer.prototype,"BaseSpriteLayer");var protocols;!function(t){var e;!function(t){var e=function(){function t(){}return t.OP_CONNECT=1,t.OP_CHAR_LOGIN=2,t.OP_ITEM_OPERATE=3,t.OP_FRIEND_OPERATE=4,t.OP_MAIL_OPERATE=5,t.OP_CHAT=6,t.OP_UNHEALTH_TIME=7,t.OP_CROSS=8,t.OP_VIP=9,t.OP_FIGHT=10,t.OP_CONQUER=11,t.OP_MERCENARY=12,t.OP_NAV=13,t.OP_RANKED_MATCH=14,t.OP_FACTION=15,t.OP_SERVEN=16,t.OP_LADDER=17,t}();t.OperationType=e,__reflect(e.prototype,"protocols.fields.OperationType")}(e=t.fields||(t.fields={}))}(protocols||(protocols={})),function(t){var e;!function(t){var e=function(){function t(){}return t.CONNECT_MANAGER_NOT_OPEN=1,t.CONNECT_APP_NOT_OPEN=2,t.CONNECT_SCENE_NOT_OPEN=3,t.CHAR_LOGIN_ONLINE=1,t.CHAR_FORCED_INTO=2,t.CHAR_OR_PWD_ERROR=3,t.CHAR_ACCOUNT_NG=4,t.CHAR_SERVER_SHUTDOWN=5,t.CHAR_IS_WELFARE_ACCOUNT=6,t.CURRENCY_CONSUME_ERROR=1,t.CURRENCY_COIN_LACK=2,t.CURRENCY_GOLD_LACK=3,t.CURRENCY_EXP_LACK=4,t.ITEM_BAG_SPACE_LACK=5,t.ITEM_MODIFY_CURRENCY_OK=6,t.CONSUME_LACK=7,t.CURRENCY_FRIEND_POINT_DAY_LIMIT=8,t.CURRENCY_FRIEND_POINT_DAY_LIMIT_FIGHT=9,t.ITEM_BAG_SPACE_LACK_PICK_UP_EMAIL=10,t.FRIEND_OK=1,t.FRIEND_GOOD_IS_MAXLIMIT=2,t.FRIEND_BLACK_IS_MAXLIMIT=3,t.FRIEND_EXIST_GOODS_LIST=4,t.FRIEND_EXIST_BLACK_LIST=5,t.FRIEND_GOODS_NOT_EXIST=6,t.FRIEND_FLOWER_INSUFFICIENT=7,t.FRIEND_CANNOT_OP=8,t.FRIEND_ADD_BLACK_SUCCESS=9,t.FRIEND_HAVE_PARTNER_CANNOT_OP=10,t.FRIEND_SIGN_ILLEGAL=11,t.FREIEND_SIGN_TOO_LONG=12,t.FRIEND_ADD_FRIEND_OK=13,t.FRIEND_OTHER_MAX=14,t.FRIEND_APPLYED=15,t.FRIEND_OTHER_APPLY_REFUSE=16,t.FRIEND_POINT_GAVE=17,t.FRIEND_POINT_OK=18,t.FRIEND_APPLY_OK=19,t.FRIEND_DEL_OK=20,t.MAIL_OK=1,t.MAIL_NOT_EXIST=2,t.MAIL_EXPIRE=3,t.MAIL_BAG_GRID_DEFICIENCY=4,t.MAIL_ATTACH_NOT_PACKUP=5,t.MAIL_ATTACH_ALREADY_PACKUP=6,t.STOP_TALK=1,t.CHAT_NOT_ENOUGH_30=2,t.CHAT_NUM_NOT_ENOUGH=3,t.CHAT_NUM_SEND_NULLSTRING=4,t.PRIVATECHAT_OFFLINE_OR_NONEXISTENT=5,t.UNHEALTH_ONE_HOUR=1,t.UNHEALTH_TWO_HOURS=2,t.UNHEALTH_THREE_HOURS=3,t.UNHEALTH_FOUR_HOURS=4,t.UNHEALTH_FIVE_HOURS=5,t.UNHEALTH_NONE_PROFIT=6,t.UNHEALTH_NONE_LOOT=7,t.CROSS_DATA_ERROR=1,t.CROSS_COMMOM_SUCCESS=2,t.CROSS_COMMOM_FAIL=3,t.CROSS_ACTIVE_NOT_EXIST=4,t.SIGNUP_NOT_IN_TIME=5,t.SIGNUP_HAS_SIGNUP=6,t.CROSS_MATCH_CANNT_SIGNUP=7,t.SIGNUP_SUCCESS=8,t.CROSS_MATCH_CANNT_UNSIGNUP=9,t.UNSIGNUP_NOT_SIGNUP=10,t.UNSIGNUP_SUCCESS=11,t.CROSSS_SVR_UNOPEN=12,t.CROSS_CLAN_MEM_COUNT=13,t.CROSS_CLAN_NO_LEADER=14,t.CROSS_ACTIVE_NOT_OPEN=15,t.CROSS_CLAN_CANNT_ENTER=16,t.CROSS_OTHER_CROSS_ACTIVE=17,t.CROSS_NOT_SATISFIED_CONDITIONS=18,t.VIP_LEVEL_NOT_ENOUGH=1,t.VIP_LEVEL_REWARD_HAS_RECEIVE=2,t.VIP_WEEK_REWARD_NUM_LIMIT=3,t.VIP_LIMIT_REWARD_BUY_TIMES_LIMIT=4,t.RECHARGE_NOT_ENOUGH=5,t.FIGHT_CONSUME_LACK=1,t.FIGHT_VALUE_LACK=2,t.MAZE_CANNT_CONQUER=1,t.CONQUER_EVENT_NOT_EXISTS=2,t.CONQUER_CANNT_REWARD=3,t.CONQUER_TURNIN_ITEM_LACK=4,t.EXTEND_PLUNDER_DROP_LIMIT=5,t.QUICK_CONQUER_LIMIT=6,t.QUICK_CONQUER_CONSUME_LACK=7,t.STRATEGY_PRAISED=8,t.ERROR_BATTLE_NAME=1,t.TRANSFER_OK=2,t.TILE_CANNT_EXPLORE=1,t.EXPLORE_FAIL=2,t.NAV_LV_LACK=3,t.NAV_EXPLORE_NUM_LACK=4,t.NAV_ITEM_LACK=5,t.PIRATE_RESET_NO_TIME_YET=6,t.PIRATE_RESET_LV_LACK=7,t.PIRATE_RESET_CONST_LACK=8,t.NAV_NOT_OPEN=9,t.ERROR_OPPONENT=1,t.MAX_BUY_TIMES=2,t.FACTION_OK=1,t.FACTION_NO_PERMISSIONS=2,t.FACTION_NOT_DEL_LEADER=3,t.FACTION_NOT_DEL_SELF=4,t.FACTION_MEMBER_NOT_EXIST=5,t.FACTION_NAME_EXIST=6,t.FACTION_EXIST=7,t.FACTION_NAME_ILLEGAL=8,t.FACTION_FULL=9,t.FACTION_APPLY_OK=10,t.FACTION_APPLYED=11,t.FACTION_QUICK_ENTER_FAIL=12,t.FACTION_NOT_EXTIS=13,t.FIGHT_LACK=1,t.HAS_REWARD=2,t.SELF_GRADE=1,t.OPP_GRADE=2,t}();t.OperationRsltType=e,__reflect(e.prototype,"protocols.fields.OperationRsltType")}(e=t.fields||(t.fields={}))}(protocols||(protocols={}));var protocols;!function(t){var e;!function(t){var e=function(){function t(){}return t.ITEM_TYPE_CURRENCY=1,t.ITEM_TYPE_BOX=2,t.ITEM_TYPE_ROOM=3,t.ITEM_TYPE_LOVE=4,t.ITEM_TYPE_VIDEO=5,t}();t.ItemType=e,__reflect(e.prototype,"protocols.fields.ItemType");var o=function(){function t(){}return t.PLAYER_BIT_CREATE_ROLE=0,t.PLAYER_BIT_UNHEALTH_TIME=1,t.PLAYER_BIT_CHAPTER_CROSS=2,t.PLAYER_BIT_CHAPTER_CROSS_END=102,t.PLAYER_BIT_SPECIAL_CHAPTER_CROSS=102,t.PLAYER_BIT_SPECIAL_CHAPTER_CROSS_END=152,t.PLAYER_BIT_PIC_UNLOCK=152,t.PLAYER_BIT_PIC_UNLOCK_END=352,t.PLAYER_BIT_VIDEO_UNLOCK=352,t.PLAYER_BIT_VIDEO_UNLOCK_END=552,t.PLAYER_BIT_CAI_DAN_MARK=552,t.PLAYER_BIT_FIRST_FREE_ADVERT=553,t.PLAYER_BIT_LIMIT_BUY=554,t.PLAYER_BIT_END=639,t}();t.PlayerBiteSetDef=o,__reflect(o.prototype,"protocols.fields.PlayerBiteSetDef");var r=function(){function t(){}return t.PLAYER_COUNT_SIGN=0,t.PLAYER_COUNT_LOVE_BUY=1,t.PLAYER_COUNT_SHARED_COUNT=2,t.PLAYER_COUNT_LOGIN_COUNT=3,t}();t.PlayerCountDef=r,__reflect(r.prototype,"protocols.fields.PlayerCountDef");var i=function(){function t(){}return t.DAILY_MARK_GET_WELFARE=0,t.DAILY_MARK_GET_MONTH_CARD=2,t.DAILY_MARK_GET_DAY_SHARE=3,t.DAILY_MARK_IS_QIAN_DAO=4,t.DAILY_MARK_IS_OPEN_TEHUI=5,t.DAILY_MARK_END=159,t}();t.PlayerDailySetDef=i,__reflect(i.prototype,"protocols.fields.PlayerDailySetDef");var n=function(){function t(){}return t.STORE_LIMIT_NONE=0,t.STORE_LIMIT_DAY=1,t.STORE_LIMIT_WEEK=2,t.STORE_LIMIT_MONTH=3,t.STORE_LIMIT_ROLE=4,t}();t.StoreLimitType=n,__reflect(n.prototype,"protocols.fields.StoreLimitType");var s=function(){function t(){}return t.RANK_TYPE_ROOM=0,t.RANK_TYPE_NUM=1,t}();t.RankType=s,__reflect(s.prototype,"protocols.fields.RankType");var a=function(){function t(){}return t.PLATFORM_TYPE_NONE=0,t.PLATFORM_TYPE_TOUTIAO=1,t.PLATFORM_TYPE_MU_ZHI8=2,t.PLATFORM_TYPE_HAIWEI=3,t.PLATFORM_TYPE_WEIXIN=5,t}();t.PlatformType=a,__reflect(a.prototype,"protocols.fields.PlatformType")}(e=t.fields||(t.fields={}))}(protocols||(protocols={}));var TestScreenAdapter=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.calculateStageSize=function(t,e,o,r,i){r=720,i=1280;var n=e,s=o,a=r,_=i,l=e/a||0,c=o/_||0,u=720,p=e/o,h=.75,E=720/1560;return p>h?(a=720,n=Math.round(r*c)):E>p?(i=Math.round(c*u/E),_=i,s=Math.round(i*l)):9/16>p?(i=Math.round(u/p),_=i,s=Math.round(i*l)):a=Math.round(e/c),n%2!=0&&(n+=1),s%2!=0&&(s+=1),{stageWidth:a,stageHeight:_,displayWidth:n,displayHeight:s}},e}(egret.HashObject);__reflect(TestScreenAdapter.prototype,"TestScreenAdapter",["egret.sys.IScreenAdapter"]);var protocols;!function(t){var e;!function(t){var e=game.objmgr.GuidObject,o=function(t){function o(e,o){return t.call(this,e,o)||this}return __extends(o,t),Object.defineProperty(o.prototype,"countDate",{get:function(){return this.GetUInt32(o.MGRPLAYER_COUNT_DATE)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"countWeek",{get:function(){return this.GetUInt32(o.MGRPLAYER_COUNT_WEEK)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"vIP",{get:function(){return this.GetUInt8(o.MGRPLAYER_LEVEL,o.MGRPLAYER_LEVEL_VIP_OFFSET)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"unhealthTimeStatus",{get:function(){return this.GetUInt8(o.MGRPLAYER_LEVEL,o.MGRPLAYER_LEVEL_UNHEALTH_STATUS_OFFSET)},enumerable:!0,configurable:!0}),o.prototype.getMgrMark=function(t){var e=16,r=e*o.MGRPLAYER_LEVEL_MGR_MARK_OFFSET;return this.GetBit(o.MGRPLAYER_LEVEL,r+t)},Object.defineProperty(o.prototype,"silenceTime",{get:function(){return this.GetUInt32(o.MGRPLAYER_SILENCE_TIME)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"sealedTime",{get:function(){return this.GetUInt32(o.MGRPLAYER_SEALED_TIME)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"weekCardDeadLine",{get:function(){return this.GetUInt16(o.MGRPLAYER_WEEK_CARD,o.MGRPLAYER_WEEK_CARD_DEAD_LINE_OFFSET)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"weekCardRewardDate",{get:function(){return this.GetUInt16(o.MGRPLAYER_WEEK_CARD,o.MGRPLAYER_WEEK_CARD_REWARD_DATE_OFFSET)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inviter",{get:function(){return this.GetUInt64(o.MGRPLAYER_INVITER)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"anchorID",{get:function(){return this.GetUInt32(o.MGRPLAYER_ANCHOR_ID)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"sign",{get:function(){return this.GetString(o.MGRPLAYER_STR_SIGN)},enumerable:!0,configurable:!0}),o.MGRPLAYER_LEVEL_SLOT_BIT_SIZE=4,o.MGRPLAYER_LEVEL_SLOT_SIZE=1,o.MGRPLAYER_LEVEL_SLOT_COUNT=1,o.MGRPLAYER_LEVEL_VIP_POS=0,o.MGRPLAYER_LEVEL_VIP_OFFSET=0,o.MGRPLAYER_LEVEL_UNHEALTH_STATUS_POS=0,o.MGRPLAYER_LEVEL_UNHEALTH_STATUS_OFFSET=1,o.MGRPLAYER_LEVEL_MGR_MARK_POS=0,o.MGRPLAYER_LEVEL_MGR_MARK_OFFSET=1,o.MGRPLAYER_WEEK_CARD_SLOT_BIT_SIZE=4,o.MGRPLAYER_WEEK_CARD_SLOT_SIZE=1,o.MGRPLAYER_WEEK_CARD_SLOT_COUNT=1,o.MGRPLAYER_WEEK_CARD_DEAD_LINE_POS=0,o.MGRPLAYER_WEEK_CARD_DEAD_LINE_OFFSET=0,o.MGRPLAYER_WEEK_CARD_REWARD_DATE_POS=0,o.MGRPLAYER_WEEK_CARD_REWARD_DATE_OFFSET=1,o.MGRPLAYER_MGR_HODE_SLOT_SIZE=1,o.MGRPLAYER_MGR_HODE_SLOT_COUNT=45,o.MGRPLAYER_STR_HODE_COUNT=4,o.MGRPLAYER_COUNT_DATE=e.OBJECT_END,o.MGRPLAYER_COUNT_WEEK=o.MGRPLAYER_COUNT_DATE+1,o.MGRPLAYER_LEVEL=o.MGRPLAYER_COUNT_WEEK+1,o.MGRPLAYER_LEVEL_END=o.MGRPLAYER_LEVEL+1,o.MGRPLAYER_SILENCE_TIME=o.MGRPLAYER_LEVEL_END,o.MGRPLAYER_SEALED_TIME=o.MGRPLAYER_SILENCE_TIME+1,o.MGRPLAYER_WEEK_CARD=o.MGRPLAYER_SEALED_TIME+1,o.MGRPLAYER_WEEK_CARD_END=o.MGRPLAYER_WEEK_CARD+1,o.MGRPLAYER_INVITER=o.MGRPLAYER_WEEK_CARD_END,o.MGRPLAYER_ANCHOR_ID=o.MGRPLAYER_INVITER+2,o.MGRPLAYER_MGR_HODE=o.MGRPLAYER_ANCHOR_ID+1,o.MGRPLAYER_MGR_HODE_END=o.MGRPLAYER_MGR_HODE+45,o.MGRPLAYER_END=o.MGRPLAYER_MGR_HODE_END,o.MGRPLAYER_STR_SIGN=e.OBJECT_STR_END,o.MGRPLAYER_STR_HODE=o.MGRPLAYER_STR_SIGN+1,o.MGRPLAYER_STR_HODE_END=o.MGRPLAYER_STR_HODE+4,o.MGRPLAYER_STR_END=o.MGRPLAYER_STR_HODE_END,o}(e);t.MgrPlayerVo=o,__reflect(o.prototype,"protocols.objects.MgrPlayerVo")}(e=t.objects||(t.objects={}))}(protocols||(protocols={}));var protocols;!function(t){var e;!function(t){var e=game.objmgr.GuidObject,o=function(t){function o(e,o){return t.call(this,e,o)||this}return __extends(o,t),Object.defineProperty(o.prototype,"initFisrt",{get:function(){return this.GetBool(o.PLAYERSETINGINFO_VOIDE,o.PLAYERSETINGINFO_VOIDE_INIT_FISRT_OFFSET)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"firstLimitBuy",{get:function(){return this.GetBool(o.PLAYERSETINGINFO_VOIDE,o.PLAYERSETINGINFO_VOIDE_FIRST_LIMIT_BUY_OFFSET)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"voiceNumber",{get:function(){return this.GetUInt16(o.PLAYERSETINGINFO_VOIDE,o.PLAYERSETINGINFO_VOIDE_VOICE_NUMBER_OFFSET)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"teHuiFirstTime",{get:function(){return this.GetUInt32(o.PLAYERSETINGINFO_TE_HUI_FIRST_TIME)},enumerable:!0,configurable:!0}),o.prototype.getVideoName=function(t){return this.GetString(o.PLAYERSETINGINFO_STR_VIDEO_NAME+t)},o.PLAYERSETINGINFO_VOIDE_SLOT_BIT_SIZE=4,o.PLAYERSETINGINFO_VOIDE_SLOT_SIZE=1,o.PLAYERSETINGINFO_VOIDE_SLOT_COUNT=1,o.PLAYERSETINGINFO_VOIDE_INIT_FISRT_POS=0,o.PLAYERSETINGINFO_VOIDE_INIT_FISRT_OFFSET=0,o.PLAYERSETINGINFO_VOIDE_FIRST_LIMIT_BUY_POS=0,o.PLAYERSETINGINFO_VOIDE_FIRST_LIMIT_BUY_OFFSET=1,o.PLAYERSETINGINFO_VOIDE_VOICE_NUMBER_POS=0,o.PLAYERSETINGINFO_VOIDE_VOICE_NUMBER_OFFSET=1,o.PLAYERSETINGINFO_INDEX_SLOT_SIZE=1,o.PLAYERSETINGINFO_INDEX_SLOT_COUNT=99,o.PLAYERSETINGINFO_STR_VIDEO_NAME_COUNT=200,o.PLAYERSETINGINFO_VOIDE=e.OBJECT_END,o.PLAYERSETINGINFO_VOIDE_END=o.PLAYERSETINGINFO_VOIDE+1,o.PLAYERSETINGINFO_TE_HUI_FIRST_TIME=o.PLAYERSETINGINFO_VOIDE_END,o.PLAYERSETINGINFO_INDEX=o.PLAYERSETINGINFO_TE_HUI_FIRST_TIME+1,o.PLAYERSETINGINFO_INDEX_END=o.PLAYERSETINGINFO_INDEX+99,o.PLAYERSETINGINFO_END=o.PLAYERSETINGINFO_INDEX_END,o.PLAYERSETINGINFO_STR_VIDEO_NAME=e.OBJECT_STR_END,o.PLAYERSETINGINFO_STR_VIDEO_NAME_END=o.PLAYERSETINGINFO_STR_VIDEO_NAME+200,o.PLAYERSETINGINFO_STR_END=o.PLAYERSETINGINFO_STR_VIDEO_NAME_END,o}(e);t.PlayerSetingInfoVo=o,__reflect(o.prototype,"protocols.objects.PlayerSetingInfoVo")}(e=t.objects||(t.objects={}))}(protocols||(protocols={}));var game;!function(t){var e;!function(t){var e=function(){function t(t,e,o,r){void 0===r&&(r=!1),this._id=0,this._id=0,this.setTo(t,e,o,r)}return t.prototype.run=function(){null!=this._callback&&(this._callback.apply(this._caller,this._arg),this._once&&this.recover())},t.prototype.setTo=function(e,o,r,i){void 0===i&&(i=!1),this._caller=e,this._callback=o,this._once=i,this._arg=r,t._gid++,this._id=t._gid},t.prototype.runWith=function(t){this._arg=t,this.run()},t.prototype.clear=function(){this._caller=null,this._callback=null,this._arg=null,this._id=0},t.prototype.recover=function(){this._id>0&&(this.clear(),t._pool.push(this))},t.create=function(e,o,r,i){if(void 0===i&&(i=!0),i&&t._pool.length>0){var n=t._pool.pop();return n.setTo(e,o,r,i),n}return new t(e,o,r,i)},t.destory=function(){t._pool.length=0},t._pool=[],t._gid=1,t}();t.Handler=e,__reflect(e.prototype,"game.objmgr.Handler")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var template_def;!function(t){var e=template.TplBase,o=function(t){function o(){return t.call(this)||this}return __extends(o,t),o.getTb=function(){return o.vec},o.getTmplt=function(t){return null==o.dic&&(o.dic=e.toDictionary(o.getTb())),o.dic[t]},o.prototype.fromByteArray=function(e){t.prototype.fromByteArray.call(this,e),this.ID=e.readInt(),this.tilte=e.readUTF(),this.content=e.readUTF()},o.XLSNAME="B_帮助表.xlsx",o.TBLNAME="tb_help",o}(e);t.TbHelp=o,__reflect(o.prototype,"template_def.TbHelp")}(template_def||(template_def={})),function(t){var e=template.TplBase,o=function(t){function o(){return t.call(this)||this}return __extends(o,t),o.getTb=function(){return o.vec},o.getTmplt=function(t){return null==o.dic&&(o.dic=e.toDictionary(o.getTb())),o.dic[t]},Object.defineProperty(o.prototype,"arr_value2",{get:function(){return null!=this._arr_value2?this._arr_value2:this._arr_value2=this.strToArray(this._str_value2)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"arr2_value3",{get:function(){return null!=this._arr2_value3?this._arr2_value3:this._arr2_value3=this.strToArray2(this._str_value3)},enumerable:!0,configurable:!0}),o.prototype.fromByteArray=function(e){t.prototype.fromByteArray.call(this,e),this.ID=e.readUnsignedInt(),this.value1=e.readInt(),this._str_value2=e.readUTF(),this._str_value3=e.readUTF(),this.cover=e.readInt(),this.record=e.readUTF()},o.XLSNAME="D_打点表.xlsx",o.TBLNAME="tb_dot",o}(e);t.TbDot=o,__reflect(o.prototype,"template_def.TbDot")}(template_def||(template_def={})),function(t){var e=template.TplBase,o=function(t){function o(){return t.call(this)||this}return __extends(o,t),o.getTb=function(){return o.vec},o.getTmplt=function(t){return null==o.dic&&(o.dic=e.toDictionary(o.getTb())),o.dic[t]},Object.defineProperty(o.prototype,"arr_effect",{get:function(){return null!=this._arr_effect?this._arr_effect:this._arr_effect=this.strToArray(this._str_effect)},enumerable:!0,configurable:!0}),o.prototype.fromByteArray=function(e){t.prototype.fromByteArray.call(this,e),this.ID=e.readInt(),this.name=e.readUTF(),this.desc=e.readUTF(),this.type=e.readInt(),this._str_effect=e.readUTF(),this.icon=e.readUTF(),this.max_overlap=e.readInt(),this.daily_limit=e.readInt(),this.link=e.readInt()},o.XLSNAME="D_道具表.xlsx",o.TBLNAME="tb_item",o}(e);t.TbItem=o,__reflect(o.prototype,"template_def.TbItem")}(template_def||(template_def={})),function(t){var e=template.TplBase,o=function(t){function o(){return t.call(this)||this}return __extends(o,t),o.getTb=function(){return o.vec},o.getTmplt=function(t){return null==o.dic&&(o.dic=e.toDictionary(o.getTb())),o.dic[t]},o.prototype.fromByteArray=function(e){t.prototype.fromByteArray.call(this,e),this.ID=e.readInt(),this.banner_pic=e.readUTF(),this.unlock_chapter_id=e.readInt(),this.pic=e.readUTF(),this.desc=e.readUTF(),this.cost_type=e.readInt(),this.init_cost=e.readInt(),this.cur_cost=e.readInt(),this.sale=e.readInt(),this.free_video=e.readUTF(),this.pay_video=e.readUTF(),this.full_video=e.readUTF()},o.XLSNAME="F_番外篇表.xlsx",o.TBLNAME="tb_special_chapter",o}(e);t.TbSpecialChapter=o,__reflect(o.prototype,"template_def.TbSpecialChapter")}(template_def||(template_def={})),function(t){var e=template.TplBase,o=function(t){function o(){return t.call(this)||this}return __extends(o,t),o.getTb=function(){return o.vec},o.getTmplt=function(t){return null==o.dic&&(o.dic=e.toDictionary(o.getTb())),o.dic[t]},o.prototype.fromByteArray=function(e){t.prototype.fromByteArray.call(this,e),this.ID=e.readUnsignedInt(),this.notice_name=e.readUTF(),this.notice_content=e.readUTF()},o.XLSNAME="G_公告表.xlsx",o.TBLNAME="tb_notice",o}(e);t.TbNotice=o,__reflect(o.prototype,"template_def.TbNotice")}(template_def||(template_def={})),function(t){var e=template.TplBase,o=function(t){function o(){return t.call(this)||this}return __extends(o,t),o.getTb=function(){return o.vec},o.getTmplt=function(t){return null==o.dic&&(o.dic=e.toDictionary(o.getTb())),o.dic[t]},o.prototype.fromByteArray=function(e){t.prototype.fromByteArray.call(this,e),this.ID=e.readInt(),this.chapter_id=e.readInt(),this.name_pos=e.readInt(),this.pic=e.readUTF(),this.name_bg=e.readUTF(),this.bg_pic=e.readUTF(),this.role_pic=e.readUTF(),this.item_pic=e.readUTF(),this.bgm=e.readUTF(),this.effect=e.readUTF(),this.next_story_id=e.readInt(),this.video=e.readUTF(),this.choose_story_id=e.readInt(),this.love_add=e.readInt(),this.content=e.readUTF()},o.XLSNAME="J_剧情表.xlsx",o.TBLNAME="tb_story",o}(e);t.TbStory=o,__reflect(o.prototype,"template_def.TbStory")}(template_def||(template_def={})),function(t){var e=template.TplBase,o=function(t){function o(){return t.call(this)||this}return __extends(o,t),o.getTb=function(){return o.vec},o.getTmplt=function(t){return null==o.dic&&(o.dic=e.toDictionary(o.getTb())),o.dic[t]},o.prototype.fromByteArray=function(e){t.prototype.fromByteArray.call(this,e),this.ID=e.readUnsignedInt(),this.xing=e.readUTF(),this.ming=e.readUTF()},o.XLSNAME="M_名字库.xlsx",o.TBLNAME="tb_random_name",o}(e);t.TbRandomName=o,__reflect(o.prototype,"template_def.TbRandomName")}(template_def||(template_def={})),function(t){var e=template.TplBase,o=function(t){function o(){return t.call(this)||this}return __extends(o,t),o.getTb=function(){return o.vec},o.getTmplt=function(t){return null==o.dic&&(o.dic=e.toDictionary(o.getTb())),o.dic[t]},Object.defineProperty(o.prototype,"arr_num",{get:function(){return null!=this._arr_num?this._arr_num:this._arr_num=this.strToArray(this._str_num)},enumerable:!0,configurable:!0}),o.prototype.fromByteArray=function(e){t.prototype.fromByteArray.call(this,e),this.ID=e.readInt(),this._str_num=e.readUTF(),this.shopType=e.readInt(),this.icon=e.readUTF(),this.costType=e.readInt(),this.cost=e.readInt()},o.XLSNAME="S_商城表.xlsx",o.TBLNAME="tb_shop",o}(e);t.TbShop=o,__reflect(o.prototype,"template_def.TbShop")}(template_def||(template_def={})),function(t){var e=template.TplBase,o=function(t){function o(){return t.call(this)||this}return __extends(o,t),o.getTb=function(){return o.vec},o.getTmplt=function(t){return null==o.dic&&(o.dic=e.toDictionary(o.getTb())),o.dic[t]},o.prototype.fromByteArray=function(e){t.prototype.fromByteArray.call(this,e),this.ID=e.readInt(),this.pic_s=e.readUTF(),this.pic_s2=e.readUTF(),this.pic_name=e.readUTF(),this.unlock_chapter_id=e.readInt(),this.cost_type=e.readInt(),this.cost=e.readInt(),this.rank_id=e.readInt()},o.XLSNAME="S_收藏表.xlsx",o.TBLNAME="tb_collect_pic",o}(e);t.TbCollectPic=o,__reflect(o.prototype,"template_def.TbCollectPic")}(template_def||(template_def={})),function(t){var e=template.TplBase,o=function(t){function o(){return t.call(this)||this}return __extends(o,t),o.getTb=function(){return o.vec},o.getTmplt=function(t){return null==o.dic&&(o.dic=e.toDictionary(o.getTb())),o.dic[t]},o.prototype.fromByteArray=function(e){t.prototype.fromByteArray.call(this,e),this.ID=e.readInt(),this.video_name=e.readUTF(),this.cost_type=e.readInt(),this.cost=e.readInt(),this.v_type=e.readInt(),this.para=e.readInt(),this.c_id=e.readInt(),this.rank_id=e.readInt()},o.XLSNAME="S_收藏表.xlsx",o.TBLNAME="tb_collect_video",o}(e);t.TbCollectVideo=o,__reflect(o.prototype,"template_def.TbCollectVideo")}(template_def||(template_def={})),function(t){var e=template.TplBase,o=function(t){function o(){return t.call(this)||this}return __extends(o,t),o.getTb=function(){return o.vec},o.getTmplt=function(t){return null==o.dic&&(o.dic=e.toDictionary(o.getTb())),o.dic[t]},Object.defineProperty(o.prototype,"arr_cost_type1",{get:function(){return null!=this._arr_cost_type1?this._arr_cost_type1:this._arr_cost_type1=this.strToArray(this._str_cost_type1)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"arr_cost1",{get:function(){return null!=this._arr_cost1?this._arr_cost1:this._arr_cost1=this.strToArray(this._str_cost1)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"arr_desc_1",{get:function(){return null!=this._arr_desc_1?this._arr_desc_1:this._arr_desc_1=this.strToArray(this._str_desc_1)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"arr_story_id_1",{get:function(){return null!=this._arr_story_id_1?this._arr_story_id_1:this._arr_story_id_1=this.strToArray(this._str_story_id_1)},enumerable:!0,configurable:!0}),o.prototype.fromByteArray=function(e){t.prototype.fromByteArray.call(this,e),this.ID=e.readInt(),this._str_cost_type1=e.readUTF(),this._str_cost1=e.readUTF(),this._str_desc_1=e.readUTF(),this._str_story_id_1=e.readUTF()},o.XLSNAME="X_选项表.xlsx",o.TBLNAME="tb_choose_story",o}(e);t.TbChooseStory=o,__reflect(o.prototype,"template_def.TbChooseStory")}(template_def||(template_def={})),function(t){var e=template.TplBase,o=function(t){function o(){return t.call(this)||this}return __extends(o,t),o.getTb=function(){return o.vec},o.getTmplt=function(t){return null==o.dic&&(o.dic=e.toDictionary(o.getTb())),o.dic[t]},Object.defineProperty(o.prototype,"arr_value2",{get:function(){return null!=this._arr_value2?this._arr_value2:this._arr_value2=this.strToArray(this._str_value2)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"arr2_value3",{get:function(){return null!=this._arr2_value3?this._arr2_value3:this._arr2_value3=this.strToArray2(this._str_value3)},enumerable:!0,configurable:!0}),o.prototype.fromByteArray=function(e){t.prototype.fromByteArray.call(this,e),this.ID=e.readUnsignedInt(),this.value1=e.readInt(),this._str_value2=e.readUTF(),this._str_value3=e.readUTF()},o.XLSNAME="Y_游戏设置表.xlsx",o.TBLNAME="tb_game_set",o}(e);t.TbGameSet=o,__reflect(o.prototype,"template_def.TbGameSet")}(template_def||(template_def={})),function(t){var e=template.TplBase,o=function(t){function o(){return t.call(this)||this}return __extends(o,t),o.getTb=function(){return o.vec},o.getTmplt=function(t){return null==o.dic&&(o.dic=e.toDictionary(o.getTb())),o.dic[t]},Object.defineProperty(o.prototype,"arr_pic",{get:function(){return null!=this._arr_pic?this._arr_pic:this._arr_pic=this.strToArray(this._str_pic)},enumerable:!0,configurable:!0}),o.prototype.fromByteArray=function(e){t.prototype.fromByteArray.call(this,e),this.ID=e.readInt(),this.anchorid=e.readInt(),this.name=e.readUTF(),this._str_pic=e.readUTF(),this.story=e.readUTF(),this.outline=e.readUTF()},o.XLSNAME="Z_主播信息表.xlsx",o.TBLNAME="tb_anchor_information",o}(e);t.TbAnchorInformation=o,__reflect(o.prototype,"template_def.TbAnchorInformation")}(template_def||(template_def={})),function(t){var e=template.TplBase,o=function(t){function o(){return t.call(this)||this}return __extends(o,t),o.getTb=function(){return o.vec},o.getTmplt=function(t){return null==o.dic&&(o.dic=e.toDictionary(o.getTb())),o.dic[t]},Object.defineProperty(o.prototype,"arr_branch_desc",{get:function(){return null!=this._arr_branch_desc?this._arr_branch_desc:this._arr_branch_desc=this.strToArray(this._str_branch_desc)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"arr_branch_to_story_id",{get:function(){return null!=this._arr_branch_to_story_id?this._arr_branch_to_story_id:this._arr_branch_to_story_id=this.strToArray(this._str_branch_to_story_id)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"arr_chapter_over_desc",{get:function(){return null!=this._arr_chapter_over_desc?this._arr_chapter_over_desc:this._arr_chapter_over_desc=this.strToArray(this._str_chapter_over_desc)},enumerable:!0,configurable:!0}),o.prototype.fromByteArray=function(e){t.prototype.fromByteArray.call(this,e),this.ID=e.readInt(),this.chapter_num=e.readUTF(),this.chapter_name=e.readUTF(),this.story_start_id=e.readInt(),this.story_end_id=e.readInt(),this.cost_key_num=e.readInt(),this.branch_num=e.readInt(),this._str_branch_desc=e.readUTF(),this._str_branch_to_story_id=e.readUTF(),this.chapter_over_pic=e.readUTF(),this._str_chapter_over_desc=e.readUTF()},o.XLSNAME="Z_章节表.xlsx",o.TBLNAME="tb_chapter",o}(e);t.TbChapter=o,__reflect(o.prototype,"template_def.TbChapter")
}(template_def||(template_def={}));var BaseSound=function(){function t(){this._cache={},this._loadingCache=[],TimerManager.ins().doTimer(6e4,0,this.dealSoundTimer,this)}return t.prototype.dealSoundTimer=function(){var t=egret.getTimer();for(var e in this._cache)this.checkCanClear(e)&&t-this._cache[e]>=SoundManager.CLEAR_TIME&&(delete this._cache[e],RES.destroyRes(e))},t.prototype.getSound=function(t){var e=RES.getRes(t);if(e)this._cache[t]&&(this._cache[t]=egret.getTimer());else{if(-1!=this._loadingCache.indexOf(t))return null;this._loadingCache.push(t),RES.getResAsync(t,this.onResourceLoadComplete,this)}return e},t.prototype.getSound2=function(t){var e=RES.getRes(t);return e?this._cache[t]&&(this._cache[t]=egret.getTimer()):(t||this._loadingCache.push(t),RES.getResAsync(t,this.onResourceLoadComplete,this)),e},t.prototype.onResourceLoadComplete=function(t,e){var o=this._loadingCache.indexOf(e);-1!=o&&(this._loadingCache.splice(o,1),this._cache[e]=egret.getTimer(),this.loadedPlay(e))},t.prototype.loadedPlay=function(t){},t.prototype.checkCanClear=function(t){return!0},t}();__reflect(BaseSound.prototype,"BaseSound");var BaseCtr=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.addClick=function(t,e){this.btnNameList.push(t),this.funcList.push(e)},e.prototype.regEvent=function(t,e,o,r){t.addEventListener(e,o,r)},e.prototype.AddClick=function(t,e){this.AddEvent(egret.TouchEvent.TOUCH_TAP,e,this,t)},e.prototype.AddEvent=function(t,e,o,r,i){if(void 0===r&&(r=null),void 0===i&&(i=!1),null!=r){for(var n=0,s=this.eventList;n<s.length;++n)if(s[n].addObject==r)return;var a=new EventListenerData(r,t,e,o,i,0);a&&this.eventList.push(a)}},e.NAME="BaseModuleController",e}(PqController);__reflect(BaseCtr.prototype,"BaseCtr");var BaseMgr=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(PqMgr);__reflect(BaseMgr.prototype,"BaseMgr");var BaseProxy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.get=function(t,e,o,r,i){var n=this;HttpHelper.get(t,e,function(t){o.call(n,n.parse(t))},r)},e.prototype.post=function(t,e,o,r,i){var n=this;HttpHelper.post(t,e,function(t){o.call(n,n.parse(t))},r)},e.prototype.addMsgFunc=function(t,e){this.addListen(t.toString(),e)},e.prototype.sendPacket=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var r;e&&e.length?1==e.length?r=new t(e[0]):2==e.length?r=new t(e[0],e[1]):3==e.length?r=new t(e[0],e[1],e[2]):4==e.length?r=new t(e[0],e[1],e[2],e[3]):5==e.length?r=new t(e[0],e[1],e[2],e[3],e[4]):6==e.length?r=new t(e[0],e[1],e[2],e[3],e[4],e[5]):7==e.length?r=new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]):8==e.length?r=new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):9==e.length?r=new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]):10==e.length&&(r=new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9])):r=new t,SocketMgr.send(r)},e.prototype.init=function(){},e.prototype._updateObjList=function(t,e){},e.prototype._updateObj=function(t,e){},e.NAME="BaseProxy",e}(PqProxy);__reflect(BaseProxy.prototype,"BaseProxy");var BaseUI=function(t){function e(){var e=t.call(this)||this;return e.ALIGN="center",e.init(),e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.init=function(){},e.prototype.onAddToStage=function(t){},e}(eui.Component);__reflect(BaseUI.prototype,"BaseUI");var BaseV=function(t){function e(e){var o=t.call(this,e)||this;return o.addEventListener(egret.Event.ADDED_TO_STAGE,o.onAddToStage,o),o}return __extends(e,t),e.prototype.init=function(){},e.prototype.onAddToStage=function(t){},e.prototype.bindPanel=function(t,e){return this.renderPanel(RES.getRes(t),e)},e.prototype.createPanel=function(t,e){var o=RES.getRes(t),r=new e;return this.renderPanel(o,r),r},e.prototype.renderPanel=function(t,e){for(var o=t.length,r=0;o>r;r++){var i=t[r];e.configDict[i.id]=i;var n;this.typeFunc[i.category]&&(n=this.typeFunc[i.category][0].apply(this.typeFunc[i.category][1],[i]),"action"!=i.category&&(i.id&&(n.name=i.id,e.uiDict[i.id]=n),n.x=i.x||0,n.y=i.y||0,n.scaleX=i.scaleX||1,n.scaleY=i.scaleY||1,"undefined"!=typeof i.alpha?n.alpha=i.alpha:n.alpha=1,i.width&&(n.width=i.width),i.height&&(n.height=i.height),n.rotation=i.rotation||0,i.mask&&(n.mask=e.uiDict[i.mask]),0==i.visible&&(n.visible=!1),i.pid&&""!=i.pid?e.uiDict[i.pid].addChild(n):e.addChild(n)))}},e}(PqView);__reflect(BaseV.prototype,"BaseV");var BaseClass=function(){function t(){}return t.ins=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=this;if(!o._instance){var r=t.length;0==r?o._instance=new o:1==r?o._instance=new o(t[0]):2==r?o._instance=new o(t[0],t[1]):3==r?o._instance=new o(t[0],t[1],t[2]):4==r?o._instance=new o(t[0],t[1],t[2],t[3]):5==r&&(o._instance=new o(t[0],t[1],t[2],t[3],t[4]))}return o._instance},t}();__reflect(BaseClass.prototype,"BaseClass");var game;!function(t){var e;!function(e){var o=core.net.UInt64,r=core.ds.LinkList,i=function(){function i(){this._syncEvents={},this.guid=null,this.isNew=!1,this.objListArray=new Array}return i.prototype.register=function(t,o){this.objListArray[t]=o,EventHelper.call(e.OMGEvent.EV_TYPE_LIST_CREATE,o)},i.prototype.saveObj=function(t,o){this.objListArray[t].addLast(o),EventHelper.call(e.OMGEvent.EV_TYPE_OBJ_ADD+t,o)},i.prototype.findObj=function(t,e,o){var i=this.objListArray[t];i||(i=new r,this.register(t,i));for(var n=0;n<i.length;n++){var s=i.getEl(n),a=s.guid.low==e&&s.guid.high==o;if(a)return s}return null},i.prototype.removeObj=function(t,o){this.objListArray[t].remove(o),EventHelper.call(e.OMGEvent.EV_TYPE_OBJ_REMOVE+t,o)},i.prototype.clearObjects=function(){for(var t=0;t<this.objListArray.length;t++){var e=this.objListArray[t];null!=e&&e.clear()}},i.prototype.updateSingle=function(t){var r,i=t.readUInt16(),n=t.readUInt32(),s=t.readUInt32(),a=t.readUInt8();if(0!=s||0!=n){var _=this.createObjIfNotExist(a,n,s);if(_)if(this.isNew){if(0==(i&e.UpdteDefine.UPDATE_MASK_CREATE)){var l="对象不在列表，又不是创建\nGUID["+_.guid.toString2()+"]\ntype["+a+"]";return void console.log(l)}this.positionBefore=t.position,_.applyUpdateBlock(i,t),this.positionAfter=t.position,_.bakObj&&this.applyToBackup(i,_,t),this.saveObj(a,_),Log.logNet("typeid-----"+a),a==SysCmd.OBJ_TYPE_PLAYER?EventHelper.call(SysCmd.OBJ_TYPE_PLAYERMSG,_):a==SysCmd.OBJ_TYPE_PLAYER_SETTING&&EventHelper.call(SysCmd.OBJ_TYPE_SETTING_MSG,_)}else 0!=(i&e.UpdteDefine.UPDATE_MASK_CREATE)&&o.equals(this.guid,_.guid)&&(r=!0),this.positionBefore=t.position,_.applyUpdateBlock(i,t),this.positionAfter=t.position,_.bakObj&&this.applyToBackup(i,_,t),r&&EventHelper.call(e.OMGEvent.EV_TYPE_OBJ_REST+a,_),0!=(i&e.UpdteDefine.UPDATE_MASK_LOCATION)&&EventHelper.call(e.OMGEvent.EV_TYPE_LOCATION_UPDATE,_.guid)}},i.prototype.updateMultiple=function(t){var o,r,i,n,s=t.readArraySize();for(n=0;s>n;++n)this.updateSingle(t);for(s=t.readArraySize(),n=0;s>n;++n){r=t.readUInt32(),o=t.readUInt32(),i=e.TypeConvert.GetGUIDType(r,o),Log.logNet("typeid=======>>>>"+i);var a=this.findObj(i,r,o);this.removeObj(i,a),a&&(a.delAllCbFileChanged(),EventHelper.call(e.OMGEvent.EV_TYPE_OBJ_REMOVE+i,a))}},i.prototype.applyToBackup=function(t,e,o){o.position=this.positionBefore,e.bakObj.applyUpdateBlock(t,o),o.position=this.positionAfter},i.prototype.getClassOfType=function(e){return t.objects.SvrObjFactory.getObjectTypeInfo(e)},i.prototype.createObjIfNotExist=function(t,e,o){this.isNew=!1;var r=this.findObj(t,e,o);if(null==r){this.isNew=!0;var i=this.getClassOfType(t);if(!i)return null;var n=i.cls;if(r=new n(e,o),r.initData(i.blkSize,i.strSize),i.isBackObj){var s=new n(e,o);s.initData(i.blkSize,i.strSize),r.bakObj=s}r.Init()}return r},i.prototype.addObjRestListen=function(t,o,r){EventHelper.addListener(e.OMGEvent.EV_TYPE_OBJ_REST+t,o,r)},i.prototype.addObjAddListen=function(t,o,r,i){void 0===i&&(i=0),EventHelper.addListener(e.OMGEvent.EV_TYPE_OBJ_ADD+t,o,r)},i.prototype.addObjDelListen=function(t,o,r){EventHelper.addListener(e.OMGEvent.EV_TYPE_OBJ_REMOVE+t,o,r)},i.prototype.addLocationUpdateListen=function(t,o){EventHelper.addListener(e.OMGEvent.EV_TYPE_LOCATION_UPDATE,t,o)},i.prototype.dispatchObjectChange=function(t,e){EventHelper.call(t,e)},i}();e.UpdateService=i,__reflect(i.prototype,"game.objmgr.UpdateService")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var BaseEuiView=function(t){function e(){var e=t.call(this)||this;return e.mIsAutoSkin=!1,e._resources=null,e._isInit=!1,e.mRefBaseView={},e._resources=null,e._isInit=!1,Util.GetClass(e)._instance=e,e.SetFullType(),e}return __extends(e,t),e.prototype.SetFullType=function(){this.percentHeight=100,this.percentWidth=100},e.prototype.isInit=function(){return this._isInit},e.prototype.isShow=function(){return ViewManager.ins().isShow(this)},e.prototype.DoClose=function(){t.prototype.DoClose.call(this)},e.prototype.DoInit=function(){this._isInit=!0,this.initUI()},e.prototype.initUI=function(){},e.prototype.initData=function(){},e.prototype.destoryView=function(){if(!this.mRemoveNotDestroyView&&(t.prototype.destoryView.call(this),ViewManager.ins().destroy(this.hashCode),this.mRefBaseView)){for(var e in this.mRefBaseView){var o=this.mRefBaseView[e];o&&o.destoryView()}this.mRefBaseView=null}},e.prototype.loadResource=function(t,e){this._resources&&this._resources.length>0?ResourceUtils.ins().loadResource(this._resources,[],function(){t(),e()},null,this):(t(),e())},e.prototype.setVisible=function(t){this.visible=t},e.openCheck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return!0},e.prototype.GetLayerLevel=function(){return null},e.prototype.SetTableIndex=function(t){},e.prototype.CloseSelf=function(){ViewManager.ins().close(this)},e.prototype.RefBaseView=function(t){egret.is(t,"BaseView")&&(this.mRefBaseView||(this.mRefBaseView={}),t.mIsAutoSkin=null,this.mRefBaseView[t.hashCode]=t)},e.prototype.UnRefBaseView=function(t){egret.is(t,"BaseView")&&this.mRefBaseView&&(t.mIsAutoSkin=!0,delete this.mRefBaseView[t.hashCode],t.CheckUnrefSkin())},e.LAYER_LEVEL=null,e.VIEW_LAYER_LEVEL=null,e}(BaseView);__reflect(BaseEuiView.prototype,"BaseEuiView");var game;!function(t){var e;!function(t){var e=function(){function e(){this._intMasks=[],this._strMasks=[],this._intStuMasks={},this._strStuMasks={}}return Object.defineProperty(e.prototype,"intMasks",{get:function(){return this._intMasks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strMasks",{get:function(){return this._strMasks},enumerable:!0,configurable:!0}),e.prototype.FiledUpdateMask=function(){},e.prototype.hasUpdate=function(){return 0!=this._intMasks.length||0!=this._strMasks.length},e.prototype.AddBinLogModMask=function(e){var o;e.opt!=t.BinLogStruct.BINLOG_OPT_UNSET&&(e.typ==t.BinLogStruct.BINLOG_TYPE_STRING?(null==this._strStuMasks[e.index]&&(this._strStuMasks[e.index]=Array()),o=this._strStuMasks[e.index]):(null==this._intStuMasks[e.index]&&(this._intStuMasks[e.index]=Array()),o=this._intStuMasks[e.index]),o.push(e))},e.prototype.AddIntMask=function(t){this._intMasks.indexOf(t)&&this._intMasks.push(t)},e.prototype.AddStrMask=function(t){this._strMasks.indexOf(t)&&this._strMasks.push(t)},e.prototype.GetIntBlock=function(t,e){void 0===e&&(e=1),e+=t;for(var o=t;e>o;o++)if(-1!=this._intMasks.indexOf(o))return!0;return!1},e.prototype.GetIntMasks=function(t,o){void 0===o&&(o=1),e.masks.length=0,o+=t;for(var r=0;r<this._intMasks.length;r++)this._intMasks[r]>=t&&this._intMasks[r]<o&&e.masks.push(this._intMasks[r]);return e.masks},e.prototype.GetStrMasks=function(t,o){void 0===o&&(o=1),e.masks.length=0,o+=t;for(var r=0;r<this._strMasks.length;r++)this._strMasks[r]>=t&&this._strMasks[r]<o&&e.masks.push(this._intMasks[r]);return e.masks},e.prototype.GetStrBlock=function(t,e){void 0===e&&(e=1),e+=t;for(var o=t;e>o;o++)if(-1!=this._strMasks.indexOf(o))return!0;return!1},e.prototype.reset=function(){this._intMasks.length=0,this._strMasks.length=0;var t;for(t in this._intStuMasks)delete this._intStuMasks[t];for(t in this._strStuMasks)delete this._intStuMasks[t]},e.masks=[],e}();t.FiledUpdateMask=e,__reflect(e.prototype,"game.objmgr.FiledUpdateMask")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var protocols;!function(t){var e=function(){function t(){}return t.MSG_NULL_ACTION=0,t.CMSG_HODER1=1,t.CMSG_HODER2=2,t.CMSG_HODER3=3,t.CMSG_HODER4=4,t.CMSG_HODER5=5,t.CMSG_HODER6=6,t.CMSG_HODER7=7,t.CMSG_HODER8=8,t.CMSG_GET_SESSION=9,t.CMSG_CROSS_SESSION=10,t.CMSG_CHECK_NAME=11,t.CMSG_CREATE_CHAR=12,t.CMSG_CHAR_READY=13,t.CMSG_PLAYER_INFO=14,t.CMSG_SAVE_SETTING=15,t.CMSG_API_SIGN=16,t.CMSG_RANK_DATA=17,t.CMSG_PING_PONG=100,t.CMSG_SYN_MSTIME=101,t.CMSG_GM_COMMOD=102,t.CMSG_BAG_ITEM_DESTROY=400,t.CMSG_SOUND_CLOSE=401,t.CMSG_LOVE_BUY=402,t.CMSG_COMMON_OPEN=403,t.CMSG_SET_AVATAR=404,t.CMSG_MAIL_SET_READED=405,t.CMSG_MAIL_PICKUP=406,t.CMSG_DEL_MAIL=407,t.CMSG_BUY_AND_USES=408,t.CMSG_GUIDE_CROSS=409,t.CMSG_SET_UNHEALTH_ADDITION=410,t.CMSG_OPEN_SYSTEM=411,t.CMSG_BUY_AND_USE=412,t.CMSG_OPEN_SYSTEM_SPECIAL=413,t.CMSG_WELFARE_GET=414,t.CMSG_FIRST_RECHARGE_REWARD=415,t.CMSG_WEEK_CARD_WELFARE_DAILY=416,t.CMSG_QUEST_REWARD=417,t.CMSG_SIGIN_REWARD=418,t.CMSG_WX_RECHAGE=419,t.CMSG_STORY_SELECT=420,t.CMSG_STORY_CHOOSE=421,t.CMSG_CHAPTER_UNLOCK=422,t.CMSG_CHAPTER_RESTART=423,t.CMSG_SPECIAL_CHAPTER=424,t.CMSG_FREE_ADVERT_BEGIN=425,t.CMSG_FREE_ADVERT_END=426,t.CMSG_CAI_DAN_VIDEO=427,t.CMSG_LIMIT_BUY=428,t.CMSG_SHOP_BUY=429,t.CMSG_LIMIT_BUY_GET=430,t.CMSG_SHARED_GAME=431,t.CMSG_VIDEO_UNLOCK=432,t.CMSG_PIC_UNLOCK=433,t.CMSG_MEMORY_UNLOCK=434,t.CMSG_CLOTHES_UNLOCK=435,t.CMSG_CLOTHES_USE=436,t.CMSG_MONTH_CARD=437,t.CMSG_DOLL_MACHINE=438,t.CMSG_RED_PACKET_GIFT=439,t.CMSG_SHARE_GIFT=440,t.CMSG_LIMIT_GIFT=441,t.CMSG_MONTH_CARD_DAY=442,t.SMSG_PING_PONG=2e3,t.SMSG_SYN_MSTIME=2001,t.SMSG_CREATE_CHAR=2002,t.SMSG_CHECK_NAME_RESULT=2003,t.SMSG_CREATE_CHAR_RESULT=2004,t.SMSG_CHAR_LOGIN_RESPONSE=2005,t.SMSG_OPERATION_RESULT=2006,t.SMSG_UPDATE_OBJECT_LIST=2007,t.SMSG_UPDATE_OBJECT=2008,t.SMSG_GONGGAO=2009,t.SMSG_MAIL_SYNC=2010,t.SMSG_MAIL_PICKUP=2011,t.SMSG_DEL_MAIL=2012,t.SMSG_ITEM_SOURCE=2013,t.SMSG_SERVER_CLOSE=2014,t.SMSG_OPEN_SERVER_VERSION=2015,t.SMSG_GONGGAO_BY_SERVER=2016,t.SMSG_BUY_RECORD_UPDATE=2017,t.SMSG_PHONE_GET_MSG=2018,t.SMSG_SERVER_OPEN_DAY_COUNT=2019,t.SMSG_BUY_RECORD_LIST=2020,t.SMSG_ITEM_USED_RECORD_LIST=2021,t.SMSG_ITEM_USED_RECORD_UPDATE=2022,t.SMSG_ORDER_INFO=2023,t.SMSG_API_SIGN=2024,t.SMSG_OFFLINE_REWARD=2025,t.SMSG_RANK_DATA=2026,t}();t.MsgId=e,__reflect(e.prototype,"protocols.MsgId")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=core.net.UInt64,r=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.type=0,o.readFlag=!1,o.pickupFlag=0,o.deliveryTime=0,o.expiryTime=0,o.title=null,o.body=null,o.attacments=null,o.sender=null,o}return __extends(e,t),e.prototype.readPacket=function(t){this.guid=new o,this.guid.low=t.readUInt32(),this.guid.high=t.readUInt32(),this.type=t.readUInt16(),this.readFlag=t.readBoolean(),this.pickupFlag=t.readUInt8(),this.deliveryTime=t.readUInt32(),this.expiryTime=t.readUInt32(),this.title=t.readString(),this.body=t.readString(),this.attacments=t.readString(),this.sender=t.readString()},e.prototype.writePacket=function(t){t.writeUInt32(this.guid.low),t.writeUInt32(this.guid.high),t.writeUInt16(this.type),t.writeBoolean(this.readFlag),t.writeUInt8(this.pickupFlag),t.writeUInt32(this.deliveryTime),t.writeUInt32(this.expiryTime),t.writeString(this.title),t.writeString(this.body),t.writeString(this.attacments),t.writeString(this.sender)},e.prototype.toString=function(){return this.printf("MailVO:{guid:%(guid)s,type:%(type)s,readFlag:%(readFlag)s,pickupFlag:%(pickupFlag)s,deliveryTime:%(deliveryTime)s,expiryTime:%(expiryTime)s,title:%(title)s,body:%(body)s,attacments:%(attacments)s,sender:%(sender)s,}",this)},e}(e);t.MailVO=r,__reflect(r.prototype,"protocols.MailVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.item_id=0,o.item_count=0,o.bind=!1,o}return __extends(e,t),e.prototype.readPacket=function(t){this.item_id=t.readUInt16(),this.item_count=t.readUInt32(),this.bind=t.readBoolean()},e.prototype.writePacket=function(t){t.writeUInt16(this.item_id),t.writeUInt32(this.item_count),t.writeBoolean(this.bind)},e.prototype.toString=function(){return this.printf("RewardVO:{item_id:%(item_id)s,item_count:%(item_count)s,bind:%(bind)s,}",this)},e}(e);t.RewardVO=o,__reflect(o.prototype,"protocols.RewardVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.enrtyid=0,o.count=0,o.isbind=!1,o}return __extends(e,t),e.prototype.readPacket=function(t){this.enrtyid=t.readUInt16(),this.count=t.readUInt32(),this.isbind=t.readBoolean()},e.prototype.writePacket=function(t){t.writeUInt16(this.enrtyid),t.writeUInt32(this.count),t.writeBoolean(this.isbind)},e.prototype.toString=function(){return this.printf("ItemSourceInfoVO:{enrtyid:%(enrtyid)s,count:%(count)s,isbind:%(isbind)s,}",this)},e}(e);t.ItemSourceInfoVO=o,__reflect(o.prototype,"protocols.ItemSourceInfoVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.entryid=0,o.count=0,o}return __extends(e,t),e.prototype.readPacket=function(t){this.entryid=t.readUInt16(),this.count=t.readUInt32()},e.prototype.writePacket=function(t){t.writeUInt16(this.entryid),t.writeUInt32(this.count)},e.prototype.toString=function(){return this.printf("ItemInfoVO:{entryid:%(entryid)s,count:%(count)s,}",this)},e}(e);t.ItemInfoVO=o,__reflect(o.prototype,"protocols.ItemInfoVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=core.net.UInt64,r=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.name=null,o}return __extends(e,t),e.prototype.readPacket=function(t){this.guid=new o,this.guid.low=t.readUInt32(),this.guid.high=t.readUInt32(),this.name=t.readString()},e.prototype.writePacket=function(t){t.writeUInt32(this.guid.low),t.writeUInt32(this.guid.high),t.writeString(this.name)},e.prototype.toString=function(){return this.printf("PlayerBaseInfoVO:{guid:%(guid)s,name:%(name)s,}",this)},e}(e);t.PlayerBaseInfoVO=r,__reflect(r.prototype,"protocols.PlayerBaseInfoVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=core.net.UInt64,r=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.count=0,o}return __extends(e,t),e.prototype.readPacket=function(t){this.itemGuid=new o,this.itemGuid.low=t.readUInt32(),this.itemGuid.high=t.readUInt32(),this.count=t.readUInt16()},e.prototype.writePacket=function(t){t.writeUInt32(this.itemGuid.low),t.writeUInt32(this.itemGuid.high),t.writeUInt16(this.count)},e.prototype.toString=function(){return this.printf("ItemUseListVO:{itemGuid:%(itemGuid)s,count:%(count)s,}",this)},e}(e);t.ItemUseListVO=r,__reflect(r.prototype,"protocols.ItemUseListVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.activateId=0,o.enroll_time=0,o.open_time=0,o}return __extends(e,t),e.prototype.readPacket=function(t){this.activateId=t.readUInt16(),this.enroll_time=t.readUInt32(),this.open_time=t.readUInt32()},e.prototype.writePacket=function(t){t.writeUInt16(this.activateId),t.writeUInt32(this.enroll_time),t.writeUInt32(this.open_time)},e.prototype.toString=function(){return this.printf("ActivateStatusItemVO:{activateId:%(activateId)s,enroll_time:%(enroll_time)s,open_time:%(open_time)s,}",this)},e}(e);t.ActivateStatusItemVO=o,__reflect(o.prototype,"protocols.ActivateStatusItemVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.vip1=0,o.vip2=0,o}return __extends(e,t),e.prototype.readPacket=function(t){this.vip1=t.readUInt16(),this.vip2=t.readUInt16()},e.prototype.writePacket=function(t){t.writeUInt16(this.vip1),t.writeUInt16(this.vip2)},e.prototype.toString=function(){return this.printf("PlatformVipVO:{vip1:%(vip1)s,vip2:%(vip2)s,}",this)},e}(e);t.PlatformVipVO=o,__reflect(o.prototype,"protocols.PlatformVipVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.key=0,o.value=null,o}return __extends(e,t),e.prototype.readPacket=function(t){this.key=t.readUInt8(),this.value=t.readString()},e.prototype.writePacket=function(t){t.writeUInt8(this.key),t.writeString(this.value)},e.prototype.toString=function(){return this.printf("platfromInfoStructVO:{key:%(key)s,value:%(value)s,}",this)},e}(e);t.platfromInfoStructVO=o,__reflect(o.prototype,"protocols.platfromInfoStructVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=core.net.UInt64,r=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.entry=0,o.name=null,o.score=0,o}return __extends(e,t),e.prototype.readPacket=function(t){this.guid=new o,this.guid.low=t.readUInt32(),this.guid.high=t.readUInt32(),this.entry=t.readUInt8(),this.name=t.readString(),this.score=t.readDouble()},e.prototype.writePacket=function(t){t.writeUInt32(this.guid.low),t.writeUInt32(this.guid.high),t.writeUInt8(this.entry),t.writeString(this.name),t.writeDouble(this.score)},e.prototype.toString=function(){return this.printf("RankDataVO:{guid:%(guid)s,entry:%(entry)s,name:%(name)s,score:%(score)s,}",this)},e}(e);t.RankDataVO=r,__reflect(r.prototype,"protocols.RankDataVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.goodsid=0,o.count=0,o}return __extends(e,t),e.prototype.readPacket=function(t){this.goodsid=t.readUInt16(),this.count=t.readUInt16()},e.prototype.writePacket=function(t){t.writeUInt16(this.goodsid),t.writeUInt16(this.count)},e.prototype.toString=function(){return this.printf("BuyRecordListVO:{goodsid:%(goodsid)s,count:%(count)s,}",this)},e}(e);t.BuyRecordListVO=o,__reflect(o.prototype,"protocols.BuyRecordListVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.activateId=0,o.next_open_time=0,o}return __extends(e,t),e.prototype.readPacket=function(t){this.activateId=t.readUInt16(),this.next_open_time=t.readUInt32()},e.prototype.writePacket=function(t){t.writeUInt16(this.activateId),t.writeUInt32(this.next_open_time)},e.prototype.toString=function(){return this.printf("ActivateNextOpenTimeItemVO:{activateId:%(activateId)s,next_open_time:%(next_open_time)s,}",this)},e}(e);t.ActivateNextOpenTimeItemVO=o,__reflect(o.prototype,"protocols.ActivateNextOpenTimeItemVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.entryid=0,o.count=0,o}return __extends(e,t),e.prototype.readPacket=function(t){this.entryid=t.readUInt16(),this.count=t.readUInt16()},e.prototype.writePacket=function(t){t.writeUInt16(this.entryid),t.writeUInt16(this.count)},e.prototype.toString=function(){return this.printf("ItemUsedInfoVO:{entryid:%(entryid)s,count:%(count)s,}",this)},e}(e);t.ItemUsedInfoVO=o,__reflect(o.prototype,"protocols.ItemUsedInfoVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.id=0,o.beginTime=0,o.endTime=0,o.sort=0,o.windowId=0,o.group=0,o.icon=null,o.description=null,o}return __extends(e,t),e.prototype.readPacket=function(t){this.id=t.readUInt16(),this.beginTime=t.readUInt32(),this.endTime=t.readUInt32(),this.sort=t.readUInt16(),this.windowId=t.readUInt16(),this.group=t.readUInt32(),this.icon=t.readString(),this.description=t.readString()},e.prototype.writePacket=function(t){t.writeUInt16(this.id),t.writeUInt32(this.beginTime),t.writeUInt32(this.endTime),t.writeUInt16(this.sort),t.writeUInt16(this.windowId),t.writeUInt32(this.group),t.writeString(this.icon),t.writeString(this.description)},e.prototype.toString=function(){return this.printf("ActivityInfoVO:{id:%(id)s,beginTime:%(beginTime)s,endTime:%(endTime)s,sort:%(sort)s,windowId:%(windowId)s,group:%(group)s,icon:%(icon)s,description:%(description)s,}",this)},e}(e);t.ActivityInfoVO=o,__reflect(o.prototype,"protocols.ActivityInfoVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){void 0===t&&(t=null);var o=e.call(this,t)||this;return o.id=0,o.group=0,o.conditionType=0,o.timeBegin=0,o.timeEnd=0,o.receiveType=0,o.sort=0,o.storeType=0,o.offset=0,o.parame1=new Array,o.parame2=new Array,o.parame3=new Array,o.reward=new Array,o}return __extends(o,e),o.prototype.readPacket=function(e){this.id=e.readUInt32(),this.group=e.readUInt32(),this.conditionType=e.readUInt8(),this.timeBegin=e.readUInt8(),this.timeEnd=e.readUInt8(),this.receiveType=e.readUInt8(),this.sort=e.readUInt8(),this.storeType=e.readUInt8(),this.offset=e.readUInt8(),this.parame1=new Array;for(var o=e.readArraySize(),r=0;o>r;++r)this.parame1.push(e.readUInt32());this.parame2=new Array;for(var i=e.readArraySize(),n=0;i>n;++n)this.parame2.push(e.readUInt32());this.parame3=new Array;for(var s=e.readArraySize(),a=0;s>a;++a)this.parame3.push(e.readUInt32());this.reward=new Array;for(var _=e.readArraySize(),l=0;_>l;++l){var c=new t.ItemInfoVO;c.readPacket(e),this.reward.push(c)}},o.prototype.writePacket=function(t){t.writeUInt32(this.id),t.writeUInt32(this.group),t.writeUInt8(this.conditionType),t.writeUInt8(this.timeBegin),t.writeUInt8(this.timeEnd),t.writeUInt8(this.receiveType),t.writeUInt8(this.sort),t.writeUInt8(this.storeType),t.writeUInt8(this.offset);var e=this.parame1.length;t.writeArraySize(e);for(var o=0;e>o;++o)t.writeUInt32(this.parame1[o]);var r=this.parame2.length;t.writeArraySize(r);for(var i=0;r>i;++i)t.writeUInt32(this.parame2[i]);var n=this.parame3.length;t.writeArraySize(n);for(var s=0;n>s;++s)t.writeUInt32(this.parame3[s]);var a=this.reward.length;t.writeArraySize(a);for(var _=0;a>_;++_)this.reward[_].writePacket(t)},o.prototype.toString=function(){return this.printf("ActivityItemVO:{id:%(id)s,group:%(group)s,conditionType:%(conditionType)s,timeBegin:%(timeBegin)s,timeEnd:%(timeEnd)s,receiveType:%(receiveType)s,sort:%(sort)s,storeType:%(storeType)s,offset:%(offset)s,parame1:[%(parame1)s],parame2:[%(parame2)s],parame3:[%(parame3)s],reward:[%(reward)s],}",this)},o}(e);t.ActivityItemVO=o,__reflect(o.prototype,"protocols.ActivityItemVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=core.net.UInt64,r=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.profession=0,o.fight=0,o.name=null,o}return __extends(e,t),e.prototype.readPacket=function(t){this.guid=new o,this.guid.low=t.readUInt32(),this.guid.high=t.readUInt32(),this.profession=t.readUInt8(),this.fight=t.readDouble(),this.name=t.readString()},e.prototype.writePacket=function(t){t.writeUInt32(this.guid.low),t.writeUInt32(this.guid.high),t.writeUInt8(this.profession),t.writeDouble(this.fight),t.writeString(this.name)},e.prototype.toString=function(){return this.printf("OpenServerRankItemVO:{guid:%(guid)s,profession:%(profession)s,fight:%(fight)s,name:%(name)s,}",this)},e}(e);t.OpenServerRankItemVO=r,__reflect(r.prototype,"protocols.OpenServerRankItemVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.pinglunid=0,o.goods=0,o}return __extends(e,t),e.prototype.readPacket=function(t){this.pinglunid=t.readUInt16(),this.goods=t.readUInt8()},e.prototype.writePacket=function(t){t.writeUInt16(this.pinglunid),t.writeUInt8(this.goods)},e.prototype.toString=function(){return this.printf("PyqInfoVO:{pinglunid:%(pinglunid)s,goods:%(goods)s,}",this)},e}(e);t.PyqInfoVO=o,__reflect(o.prototype,"protocols.PyqInfoVO")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){return e.call(this,t)||this}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){},o.prototype.toString=function(){return this.printf("RspdNullAction:{}",this)},o.MSG_ID=t.MsgId.MSG_NULL_ACTION,o}(e);t.RspdNullAction=o,__reflect(o.prototype,"protocols.RspdNullAction")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){return e.call(this,t)||this}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){},o.prototype.toString=function(){return this.printf("RspdPingPong:{}",this)},o.MSG_ID=t.MsgId.SMSG_PING_PONG,o}(e);t.RspdPingPong=o,__reflect(o.prototype,"protocols.RspdPingPong")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.time=0,o.tick=0,o.unixtime=0,o.severOpenTime=0,o.timeZoneSeconds=0,o.serverOpenDays=0,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){this.time=t.readUInt32(),this.tick=t.readUInt32(),this.unixtime=t.readUInt32(),this.severOpenTime=t.readUInt32(),this.timeZoneSeconds=t.readInt32(),this.serverOpenDays=t.readUInt32()},o.prototype.toString=function(){return this.printf("RspdSynMsTime:{time:%(time)s,tick:%(tick)s,unixtime:%(unixtime)s,severOpenTime:%(severOpenTime)s,timeZoneSeconds:%(timeZoneSeconds)s,serverOpenDays:%(serverOpenDays)s,}",this)},o.MSG_ID=t.MsgId.SMSG_SYN_MSTIME,o}(e);t.RspdSynMsTime=o,__reflect(o.prototype,"protocols.RspdSynMsTime")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){return e.call(this,t)||this}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){},o.prototype.toString=function(){return this.printf("RspdCreateChar:{}",this)},o.MSG_ID=t.MsgId.SMSG_CREATE_CHAR,o}(e);t.RspdCreateChar=o,__reflect(o.prototype,"protocols.RspdCreateChar")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.result=0,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){this.result=t.readUInt8()},o.prototype.toString=function(){return this.printf("RspdCheckNameResult:{result:%(result)s,}",this)},o.MSG_ID=t.MsgId.SMSG_CHECK_NAME_RESULT,o}(e);t.RspdCheckNameResult=o,__reflect(o.prototype,"protocols.RspdCheckNameResult")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.reason=0,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){this.reason=t.readUInt8()},o.prototype.toString=function(){return this.printf("RspdCreateCharResult:{reason:%(reason)s,}",this)},o.MSG_ID=t.MsgId.SMSG_CREATE_CHAR_RESULT,o}(e);t.RspdCreateCharResult=o,__reflect(o.prototype,"protocols.RspdCreateCharResult")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=core.net.UInt64,r=function(e){function r(t){var o=e.call(this,t)||this;return o.registTime=0,o}return __extends(r,e),r.prototype.getMsgId=function(){return r.MSG_ID},r.prototype.readPacket=function(t){this.guid=new o,this.guid.low=t.readUInt32(),this.guid.high=t.readUInt32(),this.registTime=t.readUInt32()},r.prototype.toString=function(){return this.printf("RspdCharLogin:{guid:%(guid)s,registTime:%(registTime)s,}",this)},r.MSG_ID=t.MsgId.SMSG_CHAR_LOGIN_RESPONSE,r}(e);t.RspdCharLogin=r,__reflect(r.prototype,"protocols.RspdCharLogin")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.type=0,o.param=0,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){this.type=t.readUInt16(),this.param=t.readUInt16()
},o.prototype.toString=function(){return this.printf("RspdOperationResult:{type:%(type)s,param:%(param)s,}",this)},o.MSG_ID=t.MsgId.SMSG_OPERATION_RESULT,o}(e);t.RspdOperationResult=o,__reflect(o.prototype,"protocols.RspdOperationResult")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){return e.call(this,t)||this}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){},o.prototype.toString=function(){return this.printf("RspdUpdateObjectList:{}",this)},o.MSG_ID=t.MsgId.SMSG_UPDATE_OBJECT_LIST,o}(e);t.RspdUpdateObjectList=o,__reflect(o.prototype,"protocols.RspdUpdateObjectList")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){return e.call(this,t)||this}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){},o.prototype.toString=function(){return this.printf("RspdUpdateObject:{}",this)},o.MSG_ID=t.MsgId.SMSG_UPDATE_OBJECT,o}(e);t.RspdUpdateObject=o,__reflect(o.prototype,"protocols.RspdUpdateObject")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.gonggao_id=0,o.gonggao_content=null,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){this.gonggao_id=t.readUInt16(),this.gonggao_content=t.readString()},o.prototype.toString=function(){return this.printf("RspdGonggaoMgr:{gonggao_id:%(gonggao_id)s,gonggao_content:%(gonggao_content)s,}",this)},o.MSG_ID=t.MsgId.SMSG_GONGGAO,o}(e);t.RspdGonggaoMgr=o,__reflect(o.prototype,"protocols.RspdGonggaoMgr")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.mails=new Array,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(e){this.mails=new Array;for(var o=e.readArraySize(),r=0;o>r;++r){var i=new t.MailVO;i.readPacket(e),this.mails.push(i)}},o.prototype.toString=function(){return this.printf("RspdMailSync:{mails:[%(mails)s],}",this)},o.MSG_ID=t.MsgId.SMSG_MAIL_SYNC,o}(e);t.RspdMailSync=o,__reflect(o.prototype,"protocols.RspdMailSync")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=core.net.UInt64,r=function(e){function r(t){var o=e.call(this,t)||this;return o.guids=new Array,o}return __extends(r,e),r.prototype.getMsgId=function(){return r.MSG_ID},r.prototype.readPacket=function(t){this.guids=new Array;for(var e=t.readArraySize(),r=0;e>r;++r){var i=new o;i.low=t.readUInt32(),i.high=t.readUInt32(),this.guids.push(i)}},r.prototype.toString=function(){return this.printf("RspdMailPickup:{guids:[%(guids)s],}",this)},r.MSG_ID=t.MsgId.SMSG_MAIL_PICKUP,r}(e);t.RspdMailPickup=r,__reflect(r.prototype,"protocols.RspdMailPickup")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=core.net.UInt64,r=function(e){function r(t){var o=e.call(this,t)||this;return o.guids=new Array,o}return __extends(r,e),r.prototype.getMsgId=function(){return r.MSG_ID},r.prototype.readPacket=function(t){this.guids=new Array;for(var e=t.readArraySize(),r=0;e>r;++r){var i=new o;i.low=t.readUInt32(),i.high=t.readUInt32(),this.guids.push(i)}},r.prototype.toString=function(){return this.printf("RspdDelMail:{guids:[%(guids)s],}",this)},r.MSG_ID=t.MsgId.SMSG_DEL_MAIL,r}(e);t.RspdDelMail=r,__reflect(r.prototype,"protocols.RspdDelMail")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.type=0,o.itemInfo=new Array,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(e){this.type=e.readUInt16(),this.itemInfo=new Array;for(var o=e.readArraySize(),r=0;o>r;++r){var i=new t.ItemInfoVO;i.readPacket(e),this.itemInfo.push(i)}},o.prototype.toString=function(){return this.printf("RspdItem_Source:{type:%(type)s,itemInfo:[%(itemInfo)s],}",this)},o.MSG_ID=t.MsgId.SMSG_ITEM_SOURCE,o}(e);t.RspdItem_Source=o,__reflect(o.prototype,"protocols.RspdItem_Source")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){return e.call(this,t)||this}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){},o.prototype.toString=function(){return this.printf("RspdServerClose:{}",this)},o.MSG_ID=t.MsgId.SMSG_SERVER_CLOSE,o}(e);t.RspdServerClose=o,__reflect(o.prototype,"protocols.RspdServerClose")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.version=0,o.mergeServerTime=0,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){this.version=t.readUInt16(),this.mergeServerTime=t.readUInt32()},o.prototype.toString=function(){return this.printf("RspdOpenServerVersion:{version:%(version)s,mergeServerTime:%(mergeServerTime)s,}",this)},o.MSG_ID=t.MsgId.SMSG_OPEN_SERVER_VERSION,o}(e);t.RspdOpenServerVersion=o,__reflect(o.prototype,"protocols.RspdOpenServerVersion")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.showType=0,o.content=null,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){this.showType=t.readUInt32(),this.content=t.readString()},o.prototype.toString=function(){return this.printf("RspdGongGaoByServer:{showType:%(showType)s,content:%(content)s,}",this)},o.MSG_ID=t.MsgId.SMSG_GONGGAO_BY_SERVER,o}(e);t.RspdGongGaoByServer=o,__reflect(o.prototype,"protocols.RspdGongGaoByServer")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.goodsid=0,o.count=0,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){this.goodsid=t.readUInt16(),this.count=t.readUInt16()},o.prototype.toString=function(){return this.printf("RspdBuyRecordUpdate:{goodsid:%(goodsid)s,count:%(count)s,}",this)},o.MSG_ID=t.MsgId.SMSG_BUY_RECORD_UPDATE,o}(e);t.RspdBuyRecordUpdate=o,__reflect(o.prototype,"protocols.RspdBuyRecordUpdate")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.msg=new Array,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){this.msg=new Array;for(var e=t.readArraySize(),o=0;e>o;++o)this.msg.push(t.readUInt16())},o.prototype.toString=function(){return this.printf("RspdPhoneGetMsg:{msg:[%(msg)s],}",this)},o.MSG_ID=t.MsgId.SMSG_PHONE_GET_MSG,o}(e);t.RspdPhoneGetMsg=o,__reflect(o.prototype,"protocols.RspdPhoneGetMsg")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.dayCount=0,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){this.dayCount=t.readUInt32()},o.prototype.toString=function(){return this.printf("RspdServerOpenDayCount:{dayCount:%(dayCount)s,}",this)},o.MSG_ID=t.MsgId.SMSG_SERVER_OPEN_DAY_COUNT,o}(e);t.RspdServerOpenDayCount=o,__reflect(o.prototype,"protocols.RspdServerOpenDayCount")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.recordlist=new Array,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(e){this.recordlist=new Array;for(var o=e.readArraySize(),r=0;o>r;++r){var i=new t.BuyRecordListVO;i.readPacket(e),this.recordlist.push(i)}},o.prototype.toString=function(){return this.printf("RspdBuyRecordList:{recordlist:[%(recordlist)s],}",this)},o.MSG_ID=t.MsgId.SMSG_BUY_RECORD_LIST,o}(e);t.RspdBuyRecordList=o,__reflect(o.prototype,"protocols.RspdBuyRecordList")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.list=new Array,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(e){this.list=new Array;for(var o=e.readArraySize(),r=0;o>r;++r){var i=new t.ItemUsedInfoVO;i.readPacket(e),this.list.push(i)}},o.prototype.toString=function(){return this.printf("RspdItemUsedRecordList:{list:[%(list)s],}",this)},o.MSG_ID=t.MsgId.SMSG_ITEM_USED_RECORD_LIST,o}(e);t.RspdItemUsedRecordList=o,__reflect(o.prototype,"protocols.RspdItemUsedRecordList")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(o){var r=e.call(this,o)||this;return r.info=new t.ItemUsedInfoVO,r}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){this.info.readPacket(t)},o.prototype.toString=function(){return this.printf("RspdItemUsedRecordUpdate:{info:%(info)s,}",this)},o.MSG_ID=t.MsgId.SMSG_ITEM_USED_RECORD_UPDATE,o}(e);t.RspdItemUsedRecordUpdate=o,__reflect(o.prototype,"protocols.RspdItemUsedRecordUpdate")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.id=0,o.count=0,o.amount=0,o.price=0,o.time=0,o.pid=0,o.sid=0,o.sign=null,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){this.id=t.readUInt16(),this.count=t.readUInt16(),this.amount=t.readDouble(),this.price=t.readDouble(),this.time=t.readUInt32(),this.pid=t.readUInt32(),this.sid=t.readUInt32(),this.sign=t.readString()},o.prototype.toString=function(){return this.printf("RspdOrderInfo:{id:%(id)s,count:%(count)s,amount:%(amount)s,price:%(price)s,time:%(time)s,pid:%(pid)s,sid:%(sid)s,sign:%(sign)s,}",this)},o.MSG_ID=t.MsgId.SMSG_ORDER_INFO,o}(e);t.RspdOrderInfo=o,__reflect(o.prototype,"protocols.RspdOrderInfo")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.time=0,o.sign=null,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(t){this.time=t.readUInt32(),this.sign=t.readString()},o.prototype.toString=function(){return this.printf("RspdApiSign:{time:%(time)s,sign:%(sign)s,}",this)},o.MSG_ID=t.MsgId.SMSG_API_SIGN,o}(e);t.RspdApiSign=o,__reflect(o.prototype,"protocols.RspdApiSign")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.offlineTime=0,o.rewards=new Array,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(e){this.offlineTime=e.readUInt32(),this.rewards=new Array;for(var o=e.readArraySize(),r=0;o>r;++r){var i=new t.ItemInfoVO;i.readPacket(e),this.rewards.push(i)}},o.prototype.toString=function(){return this.printf("RspdOfflineReward:{offlineTime:%(offlineTime)s,rewards:[%(rewards)s],}",this)},o.MSG_ID=t.MsgId.SMSG_OFFLINE_REWARD,o}(e);t.RspdOfflineReward=o,__reflect(o.prototype,"protocols.RspdOfflineReward")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this,t)||this;return o.rankType=0,o.myRank=0,o.records=new Array,o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.readPacket=function(e){this.rankType=e.readUInt8(),this.myRank=e.readUInt8(),this.records=new Array;for(var o=e.readArraySize(),r=0;o>r;++r){var i=new t.RankDataVO;i.readPacket(e),this.records.push(i)}},o.prototype.toString=function(){return this.printf("RspdRankData:{rankType:%(rankType)s,myRank:%(myRank)s,records:[%(records)s],}",this)},o.MSG_ID=t.MsgId.SMSG_RANK_DATA,o}(e);t.RspdRankData=o,__reflect(o.prototype,"protocols.RspdRankData")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstNullAction:{}",this)},o.MSG_ID=t.MsgId.MSG_NULL_ACTION,o}(e);t.RqstNullAction=o,__reflect(o.prototype,"protocols.RqstNullAction")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstHODER1:{}",this)},o.MSG_ID=t.MsgId.CMSG_HODER1,o}(e);t.RqstHODER1=o,__reflect(o.prototype,"protocols.RqstHODER1")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstHolder2:{}",this)},o.MSG_ID=t.MsgId.CMSG_HODER2,o}(e);t.RqstHolder2=o,__reflect(o.prototype,"protocols.RqstHolder2")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstHolder3:{}",this)},o.MSG_ID=t.MsgId.CMSG_HODER3,o}(e);t.RqstHolder3=o,__reflect(o.prototype,"protocols.RqstHolder3")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstHolder4:{}",this)},o.MSG_ID=t.MsgId.CMSG_HODER4,o}(e);t.RqstHolder4=o,__reflect(o.prototype,"protocols.RqstHolder4")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstHolder5:{}",this)},o.MSG_ID=t.MsgId.CMSG_HODER5,o}(e);t.RqstHolder5=o,__reflect(o.prototype,"protocols.RqstHolder5")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstHolder6:{}",this)},o.MSG_ID=t.MsgId.CMSG_HODER6,o}(e);t.RqstHolder6=o,__reflect(o.prototype,"protocols.RqstHolder6")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstHolder7:{}",this)},o.MSG_ID=t.MsgId.CMSG_HODER7,o}(e);t.RqstHolder7=o,__reflect(o.prototype,"protocols.RqstHolder7")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstHolder8:{}",this)},o.MSG_ID=t.MsgId.CMSG_HODER8,o}(e);t.RqstHolder8=o,__reflect(o.prototype,"protocols.RqstHolder8")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t,o,r,i,n,s,a,_){var l=e.call(this)||this;return l.writeHead(),l.time=t,l.sessionkey=o,l.account=r,l.sid=i,l.anchor=n,l.health=s,l.version=a,l.args=_,l._pack.writeUInt32(l.time),l._pack.writeString(l.sessionkey),l._pack.writeString(l.account),l._pack.writeUInt32(l.sid),l._pack.writeUInt16(l.anchor),l._pack.writeUInt8(l.health),l._pack.writeString(l.version),l._pack.writeString(l.args),l.writeLen(),l}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstGetSession:{time:%(time)s,sessionkey:%(sessionkey)s,account:%(account)s,sid:%(sid)s,anchor:%(anchor)s,health:%(health)s,version:%(version)s,args:%(args)s,}",this)},o.MSG_ID=t.MsgId.CMSG_GET_SESSION,o}(e);t.RqstGetSession=o,__reflect(o.prototype,"protocols.RqstGetSession")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t,o){var r=e.call(this)||this;return r.writeHead(),r.guid=t,r.key=o,r._pack.writeUInt32(r.guid.low),r._pack.writeUInt32(r.guid.high),r._pack.writeString(r.key),r.writeLen(),r}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstCrossSession:{guid:%(guid)s,key:%(key)s,}",this)},o.MSG_ID=t.MsgId.CMSG_CROSS_SESSION,o}(e);t.RqstCrossSession=o,__reflect(o.prototype,"protocols.RqstCrossSession")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.name=t,o._pack.writeString(o.name),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstCheckName:{name:%(name)s,}",this)},o.MSG_ID=t.MsgId.CMSG_CHECK_NAME,o}(e);t.RqstCheckName=o,__reflect(o.prototype,"protocols.RqstCheckName")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t,o){var r=e.call(this)||this;return r.writeHead(),r.avatar=t,r.name=o,r._pack.writeUInt8(r.avatar),r._pack.writeString(r.name),r.writeLen(),r}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstCreateChar:{avatar:%(avatar)s,name:%(name)s,}",this)},o.MSG_ID=t.MsgId.CMSG_CREATE_CHAR,o}(e);t.RqstCreateChar=o,__reflect(o.prototype,"protocols.RqstCreateChar")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstCharReady:{}",this)},o.MSG_ID=t.MsgId.CMSG_CHAR_READY,o}(e);t.RqstCharReady=o,__reflect(o.prototype,"protocols.RqstCharReady")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t,o,r){var i=e.call(this)||this;i.writeHead(),i.guid=t,i.callback=o,i.mark=r,i._pack.writeUInt32(i.guid.low),i._pack.writeUInt32(i.guid.high),i._pack.writeUInt32(i.callback);var n=i.mark.length;i._pack.writeArraySize(n);for(var s=0;n>s;++s)i._pack.writeUInt8(i.mark[s]);return i.writeLen(),i}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstPlayerInfo:{guid:%(guid)s,callback:%(callback)s,mark:[%(mark)s],}",this)},o.MSG_ID=t.MsgId.CMSG_PLAYER_INFO,o}(e);t.RqstPlayerInfo=o,__reflect(o.prototype,"protocols.RqstPlayerInfo")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstSaveSetting:{}",this)},o.MSG_ID=t.MsgId.CMSG_SAVE_SETTING,o}(e);t.RqstSaveSetting=o,__reflect(o.prototype,"protocols.RqstSaveSetting")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstSyncApiSign:{}",this)},o.MSG_ID=t.MsgId.CMSG_API_SIGN,o}(e);t.RqstSyncApiSign=o,__reflect(o.prototype,"protocols.RqstSyncApiSign")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.rankType=t,o._pack.writeUInt8(o.rankType),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstRankData:{rankType:%(rankType)s,}",this)},o.MSG_ID=t.MsgId.CMSG_RANK_DATA,o}(e);t.RqstRankData=o,__reflect(o.prototype,"protocols.RqstRankData")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstPingPong:{}",this)},o.MSG_ID=t.MsgId.CMSG_PING_PONG,o}(e);t.RqstPingPong=o,__reflect(o.prototype,"protocols.RqstPingPong")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstSynMsTime:{}",this)},o.MSG_ID=t.MsgId.CMSG_SYN_MSTIME,o}(e);t.RqstSynMsTime=o,__reflect(o.prototype,"protocols.RqstSynMsTime")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.cmd=t,o._pack.writeString(o.cmd),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstGmCommod:{cmd:%(cmd)s,}",this)},o.MSG_ID=t.MsgId.CMSG_GM_COMMOD,o}(e);t.RqstGmCommod=o,__reflect(o.prototype,"protocols.RqstGmCommod")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.id=t,o._pack.writeUInt16(o.id),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstBagItemDestory:{id:%(id)s,}",this)},o.MSG_ID=t.MsgId.CMSG_BAG_ITEM_DESTROY,o}(e);t.RqstBagItemDestory=o,__reflect(o.prototype,"protocols.RqstBagItemDestory")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstSoundClose:{}",this)},o.MSG_ID=t.MsgId.CMSG_SOUND_CLOSE,o}(e);t.RqstSoundClose=o,__reflect(o.prototype,"protocols.RqstSoundClose")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstLoveBuy:{}",this)},o.MSG_ID=t.MsgId.CMSG_LOVE_BUY,o}(e);t.RqstLoveBuy=o,__reflect(o.prototype,"protocols.RqstLoveBuy")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.index=t,o._pack.writeUInt8(o.index),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstCommonOpen:{index:%(index)s,}",this)},o.MSG_ID=t.MsgId.CMSG_COMMON_OPEN,o}(e);t.RqstCommonOpen=o,__reflect(o.prototype,"protocols.RqstCommonOpen")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.avatar=t,o._pack.writeUInt8(o.avatar),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstSetAvatar:{avatar:%(avatar)s,}",this)},o.MSG_ID=t.MsgId.CMSG_SET_AVATAR,o}(e);t.RqstSetAvatar=o,__reflect(o.prototype,"protocols.RqstSetAvatar")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.mailid=t,o._pack.writeUInt32(o.mailid.low),o._pack.writeUInt32(o.mailid.high),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstMailSetReaded:{mailid:%(mailid)s,}",this)},o.MSG_ID=t.MsgId.CMSG_MAIL_SET_READED,o}(e);t.RqstMailSetReaded=o,__reflect(o.prototype,"protocols.RqstMailSetReaded")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t,o){var r=e.call(this)||this;r.writeHead(),r.type=t,r.guids=o,r._pack.writeUInt8(r.type);var i=r.guids.length;r._pack.writeArraySize(i);for(var n=0;i>n;++n)r._pack.writeUInt32(r.guids[n].low),r._pack.writeUInt32(r.guids[n].high);return r.writeLen(),r}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstMailPickup:{type:%(type)s,guids:[%(guids)s],}",this)},o.MSG_ID=t.MsgId.CMSG_MAIL_PICKUP,o}(e);t.RqstMailPickup=o,__reflect(o.prototype,"protocols.RqstMailPickup")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;o.writeHead(),o.guids=t;var r=o.guids.length;o._pack.writeArraySize(r);for(var i=0;r>i;++i)o._pack.writeUInt32(o.guids[i].low),o._pack.writeUInt32(o.guids[i].high);return o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstDelMail:{guids:[%(guids)s],}",this)},o.MSG_ID=t.MsgId.CMSG_DEL_MAIL,o}(e);t.RqstDelMail=o,__reflect(o.prototype,"protocols.RqstDelMail")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;o.writeHead(),o.items=t;var r=o.items.length;o._pack.writeArraySize(r);for(var i=0;r>i;++i)o.items[i].writePacket(o._pack);return o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstBuyAndUses:{items:[%(items)s],}",this)},o.MSG_ID=t.MsgId.CMSG_BUY_AND_USES,o}(e);t.RqstBuyAndUses=o,__reflect(o.prototype,"protocols.RqstBuyAndUses")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.index=t,o._pack.writeUInt8(o.index),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstGuideCross:{index:%(index)s,}",this)},o.MSG_ID=t.MsgId.CMSG_GUIDE_CROSS,o}(e);t.RqstGuideCross=o,__reflect(o.prototype,"protocols.RqstGuideCross")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.addition=t,o._pack.writeUInt32(o.addition),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstSetHealthAddition:{addition:%(addition)s,}",this)},o.MSG_ID=t.MsgId.CMSG_SET_UNHEALTH_ADDITION,o}(e);t.RqstSetHealthAddition=o,__reflect(o.prototype,"protocols.RqstSetHealthAddition")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t,o){var r=e.call(this)||this;return r.writeHead(),r.sysid=t,r.param=o,r._pack.writeUInt16(r.sysid),r._pack.writeUInt16(r.param),r.writeLen(),r}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstOpenSystem:{sysid:%(sysid)s,param:%(param)s,}",this)},o.MSG_ID=t.MsgId.CMSG_OPEN_SYSTEM,o}(e);t.RqstOpenSystem=o,__reflect(o.prototype,"protocols.RqstOpenSystem")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t,o){var r=e.call(this)||this;return r.writeHead(),r.goodsid=t,r.count=o,r._pack.writeUInt16(r.goodsid),r._pack.writeUInt16(r.count),r.writeLen(),r}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstBuyAndUse:{goodsid:%(goodsid)s,count:%(count)s,}",this)},o.MSG_ID=t.MsgId.CMSG_BUY_AND_USE,o}(e);t.RqstBuyAndUse=o,__reflect(o.prototype,"protocols.RqstBuyAndUse")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t,o){var r=e.call(this)||this;return r.writeHead(),r.sysid=t,r.param=o,r._pack.writeUInt16(r.sysid),r._pack.writeUInt16(r.param),r.writeLen(),r}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstOpenSystemSpecial:{sysid:%(sysid)s,param:%(param)s,}",this)},o.MSG_ID=t.MsgId.CMSG_OPEN_SYSTEM_SPECIAL,o}(e);t.RqstOpenSystemSpecial=o,__reflect(o.prototype,"protocols.RqstOpenSystemSpecial")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstWelfareGet:{}",this)},o.MSG_ID=t.MsgId.CMSG_WELFARE_GET,o}(e);t.RqstWelfareGet=o,__reflect(o.prototype,"protocols.RqstWelfareGet")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstFirstRechargeReward:{}",this)},o.MSG_ID=t.MsgId.CMSG_FIRST_RECHARGE_REWARD,o}(e);t.RqstFirstRechargeReward=o,__reflect(o.prototype,"protocols.RqstFirstRechargeReward")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstWeekCardWelfareDaily:{}",this)},o.MSG_ID=t.MsgId.CMSG_WEEK_CARD_WELFARE_DAILY,o}(e);t.RqstWeekCardWelfareDaily=o,__reflect(o.prototype,"protocols.RqstWeekCardWelfareDaily")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.isDouble=t,o._pack.writeBoolean(o.isDouble),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstQuestReward:{isDouble:%(isDouble)s,}",this)},o.MSG_ID=t.MsgId.CMSG_QUEST_REWARD,o}(e);t.RqstQuestReward=o,__reflect(o.prototype,"protocols.RqstQuestReward")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstSiginReward:{}",this)},o.MSG_ID=t.MsgId.CMSG_SIGIN_REWARD,o}(e);t.RqstSiginReward=o,__reflect(o.prototype,"protocols.RqstSiginReward")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.goodid=t,o._pack.writeUInt16(o.goodid),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstWxRechage:{goodid:%(goodid)s,}",this)},o.MSG_ID=t.MsgId.CMSG_WX_RECHAGE,o}(e);t.RqstWxRechage=o,__reflect(o.prototype,"protocols.RqstWxRechage")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstStorySelect:{}",this)},o.MSG_ID=t.MsgId.CMSG_STORY_SELECT,o}(e);t.RqstStorySelect=o,__reflect(o.prototype,"protocols.RqstStorySelect")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.select=t,o._pack.writeUInt32(o.select),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstStoryChoose:{select:%(select)s,}",this)},o.MSG_ID=t.MsgId.CMSG_STORY_CHOOSE,o
}(e);t.RqstStoryChoose=o,__reflect(o.prototype,"protocols.RqstStoryChoose")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.chapter=t,o._pack.writeUInt16(o.chapter),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstChapterUnlock:{chapter:%(chapter)s,}",this)},o.MSG_ID=t.MsgId.CMSG_CHAPTER_UNLOCK,o}(e);t.RqstChapterUnlock=o,__reflect(o.prototype,"protocols.RqstChapterUnlock")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.chapter=t,o._pack.writeUInt16(o.chapter),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstChapterRestart:{chapter:%(chapter)s,}",this)},o.MSG_ID=t.MsgId.CMSG_CHAPTER_RESTART,o}(e);t.RqstChapterRestart=o,__reflect(o.prototype,"protocols.RqstChapterRestart")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.chapter=t,o._pack.writeUInt16(o.chapter),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstSpecialChapter:{chapter:%(chapter)s,}",this)},o.MSG_ID=t.MsgId.CMSG_SPECIAL_CHAPTER,o}(e);t.RqstSpecialChapter=o,__reflect(o.prototype,"protocols.RqstSpecialChapter")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstFreeAdvertBegin:{}",this)},o.MSG_ID=t.MsgId.CMSG_FREE_ADVERT_BEGIN,o}(e);t.RqstFreeAdvertBegin=o,__reflect(o.prototype,"protocols.RqstFreeAdvertBegin")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstFreeAdvertEnd:{}",this)},o.MSG_ID=t.MsgId.CMSG_FREE_ADVERT_END,o}(e);t.RqstFreeAdvertEnd=o,__reflect(o.prototype,"protocols.RqstFreeAdvertEnd")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstCaiDanVideo:{}",this)},o.MSG_ID=t.MsgId.CMSG_CAI_DAN_VIDEO,o}(e);t.RqstCaiDanVideo=o,__reflect(o.prototype,"protocols.RqstCaiDanVideo")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstLimitBuy:{}",this)},o.MSG_ID=t.MsgId.CMSG_LIMIT_BUY,o}(e);t.RqstLimitBuy=o,__reflect(o.prototype,"protocols.RqstLimitBuy")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t,o){var r=e.call(this)||this;return r.writeHead(),r.id=t,r.count=o,r._pack.writeUInt16(r.id),r._pack.writeUInt16(r.count),r.writeLen(),r}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstShopBuy:{id:%(id)s,count:%(count)s,}",this)},o.MSG_ID=t.MsgId.CMSG_SHOP_BUY,o}(e);t.RqstShopBuy=o,__reflect(o.prototype,"protocols.RqstShopBuy")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstLimitBuyGet:{}",this)},o.MSG_ID=t.MsgId.CMSG_LIMIT_BUY_GET,o}(e);t.RqstLimitBuyGet=o,__reflect(o.prototype,"protocols.RqstLimitBuyGet")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstSharedGame:{}",this)},o.MSG_ID=t.MsgId.CMSG_SHARED_GAME,o}(e);t.RqstSharedGame=o,__reflect(o.prototype,"protocols.RqstSharedGame")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.id=t,o._pack.writeUInt16(o.id),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstVideoUnlock:{id:%(id)s,}",this)},o.MSG_ID=t.MsgId.CMSG_VIDEO_UNLOCK,o}(e);t.RqstVideoUnlock=o,__reflect(o.prototype,"protocols.RqstVideoUnlock")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.id=t,o._pack.writeUInt16(o.id),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstPicUnlock:{id:%(id)s,}",this)},o.MSG_ID=t.MsgId.CMSG_PIC_UNLOCK,o}(e);t.RqstPicUnlock=o,__reflect(o.prototype,"protocols.RqstPicUnlock")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.id=t,o._pack.writeUInt16(o.id),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstMemoryUnlock:{id:%(id)s,}",this)},o.MSG_ID=t.MsgId.CMSG_MEMORY_UNLOCK,o}(e);t.RqstMemoryUnlock=o,__reflect(o.prototype,"protocols.RqstMemoryUnlock")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.id=t,o._pack.writeUInt16(o.id),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstClothesUnlock:{id:%(id)s,}",this)},o.MSG_ID=t.MsgId.CMSG_CLOTHES_UNLOCK,o}(e);t.RqstClothesUnlock=o,__reflect(o.prototype,"protocols.RqstClothesUnlock")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.id=t,o._pack.writeUInt16(o.id),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstClothesUse:{id:%(id)s,}",this)},o.MSG_ID=t.MsgId.CMSG_CLOTHES_USE,o}(e);t.RqstClothesUse=o,__reflect(o.prototype,"protocols.RqstClothesUse")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstMonthCard:{}",this)},o.MSG_ID=t.MsgId.CMSG_MONTH_CARD,o}(e);t.RqstMonthCard=o,__reflect(o.prototype,"protocols.RqstMonthCard")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.num=t,o._pack.writeUInt8(o.num),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstDollMachine:{num:%(num)s,}",this)},o.MSG_ID=t.MsgId.CMSG_DOLL_MACHINE,o}(e);t.RqstDollMachine=o,__reflect(o.prototype,"protocols.RqstDollMachine")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstRedPacketGift:{}",this)},o.MSG_ID=t.MsgId.CMSG_RED_PACKET_GIFT,o}(e);t.RqstRedPacketGift=o,__reflect(o.prototype,"protocols.RqstRedPacketGift")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstShareGift:{}",this)},o.MSG_ID=t.MsgId.CMSG_SHARE_GIFT,o}(e);t.RqstShareGift=o,__reflect(o.prototype,"protocols.RqstShareGift")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(t){var o=e.call(this)||this;return o.writeHead(),o.id=t,o._pack.writeUInt8(o.id),o.writeLen(),o}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstLimitGift:{id:%(id)s,}",this)},o.MSG_ID=t.MsgId.CMSG_LIMIT_GIFT,o}(e);t.RqstLimitGift=o,__reflect(o.prototype,"protocols.RqstLimitGift")}(protocols||(protocols={})),function(t){var e=core.net.ProtoBase,o=function(e){function o(){var t=e.call(this)||this;return t.writeHead(),t.writeLen(),t}return __extends(o,e),o.prototype.getMsgId=function(){return o.MSG_ID},o.prototype.toString=function(){return this.printf("RqstMonthCardDay:{}",this)},o.MSG_ID=t.MsgId.CMSG_MONTH_CARD_DAY,o}(e);t.RqstMonthCardDay=o,__reflect(o.prototype,"protocols.RqstMonthCardDay")}(protocols||(protocols={}));var LayerManager=function(){function t(){}return t.Init=function(){if(!this.m_Init){this.m_Init=!0;var e=GameGlobal.StageUtils.getStage(),o=GameGlobal.StageUtils.getUIStage();e.addChildAt(t.Game_Main,0),o.addChild(t.UI_Main).name="UI_Main",o.addChild(t.UI_Popup).name="UI_Popup",o.addChild(t.UI_Message).name="UI_Message",o.addChild(t.UI_Tips).name="UI_Tips",this._SetType1(this.UI_Main),this._SetType1(this.UI_Popup),this._SetType2(this.UI_Message),this._SetType2(this.UI_Tips)}},t._SetType1=function(t,e){void 0===e&&(e=!0),t.touchEnabled=!1,t.horizontalCenter=0,t.verticalCenter=0,t.percentWidth=100,t.percentHeight=100,e&&(t.maxHeight=1450),t.__TOP_LAYER__=!0},t._SetType2=function(t,e){void 0===e&&(e=!0),t.touchEnabled=!1,t.horizontalCenter=0,t.verticalCenter=0,t.percentWidth=100,t.percentHeight=100,e&&(t.maxHeight=1450),t.__TOP_LAYER__=!0},t._SetType3=function(t){t.touchEnabled=!1,t.horizontalCenter=0,t.verticalCenter=0,t.width=StageUtils.WIDTH,t.height=StageUtils.HEIGHT,t.__TOP_LAYER__=!0},t.IsShowGameMain=function(){return t.Game_Main.$stage?!0:!1},t.Game_Bg=new BaseSpriteLayer,t.Game_Main=new BaseSpriteLayer,t.UI_Main=new BaseEuiLayer,t.UI_Popup=new BaseEuiLayer,t.UI_Message=new BaseEuiLayer,t.UI_Tips=new BaseEuiLayer,t.m_Init=!1,t}();__reflect(LayerManager.prototype,"LayerManager");var core;!function(t){var e;!function(t){var e=function(){function t(){}return t.isEqual=function(t,e){var o=!0;if(t.length==e.length){for(var r=0;r<t.length;r++)if(t[r]!=e[r]){o=!1;break}}else o=!1;return o},t.indexOf=function(t,e,o){if(null==t)return-1;for(var r=0;r<t.length;r++){var i=t[r];if(i[e]==o)return r}return-1},t.findByFields=function(t,e,o){for(var r=0;r<t.length;r++){for(var i=t[r],n=!0,s=0;s<e.length;s++){var a=e[s],_=o[s];if(i[a]!=_){n=!1;break}}if(n)return r}return-1},t.copy=function(t,e){for(var o=0;o<e.length;++o)t.push(e[o])},t.buffer2hex=function(t){for(var e,o=new Uint8Array(t),r=0,i=t.byteLength,n=new Array(i-r);i>r;)e=o[r++],16>e?n.push("0"+e.toString(16)):n.push(e.toString(16));var s=n.join(" ");return s},t.removeAt=function(t,e){t.splice(e,1)},t.fillList=function(t,e,o,r){void 0===r&&(r="id");for(var i=t.readUnsignedInt(),n=0;i>n;n++){var s=new o;s.fromByteArray(t),e.push(s)}},t}();t.ArrayUtils=e,__reflect(e.prototype,"core.utils.ArrayUtils")}(e=t.utils||(t.utils={}))}(core||(core={}));var core;!function(t){var e;!function(t){var e=function(){function t(){}return t.enableDebug=function(){t.isDebug=!0,t.debugTime=!0,t.logNetMsg=!0,t.enableAssert=!0,t.dbgLabel=!0},t.assert=function(e){if(1!=e&&(traceInl0("ERROR: "+e),t.enableAssert))throw new Error(e);return 0},t.nop=function(){},t.splitStackTrace=function(t){var e=t.split(/[\n\r]+/);return e.join("|")},t.LogMgr_reportErr=function(e){trace_exception&&traceInl0(e),null!=t.reportError&&t.reportError(e)},t.enableAssert=!1,t.isDebug=!1,t.dbgLabel=!1,t.debugTime=!1,t.logNetMsg=!1,t.traceFight=!1,t}();t.DbgUtil=e,__reflect(e.prototype,"core.utils.DbgUtil")}(e=t.utils||(t.utils={}))}(core||(core={}));var CreationMgr=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.start=function(){this.isStart||(this.regProxy(CreationProxy.NAME,new CreationProxy),this.regController(CreationController.NAME,new CreationController),this.isStart=!0)},Object.defineProperty(e.prototype,"EventList",{get:function(){return[CreationCmd.SHOW_WINDOW,CreationCmd.CLOSE_WINDOW,CreationCmd.INIT_DATA]},enumerable:!0,configurable:!0}),e.prototype.execute=function(t,e){switch(void 0===e&&(e=null),t){case CreationCmd.INIT_DATA:this.proxy(CreationProxy.NAME,e,t);break;default:this.control(CreationController.NAME,e,t)}},e}(BaseMgr);__reflect(CreationMgr.prototype,"CreationMgr");var core;!function(t){var e;!function(t){var e=function(){function t(){this.tmpStack=[],this._curIdx=-1}return Object.defineProperty(t.prototype,"length",{get:function(){return this._curIdx+1},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.tmpStack[++this._curIdx]=t},t.prototype.pop=function(){var t=this.tmpStack[this._curIdx];return this.tmpStack[this._curIdx]=null,this._curIdx--,t},t.prototype.reset=function(){this._curIdx=-1},t}();t.DStack=e,__reflect(e.prototype,"core.ds.DStack")}(e=t.ds||(t.ds={}))}(core||(core={}));var protocols;!function(t){var e;!function(t){var e=function(){function t(){}return t.OBJECT_TYPE_ENTRY_SLOT_SIZE=1,t.OBJECT_TYPE_ENTRY_SLOT_COUNT=1,t.OBJECT_TYPE_ENTRY_TYPE_POS=0,t.OBJECT_TYPE_ENTRY_TYPE_OFFSET=0,t.OBJECT_TYPE_ENTRY_ENTRY_POS=0,t.OBJECT_TYPE_ENTRY_ENTRY_OFFSET=1,t.OBJECT_DATA_VERSION=0,t.OBJECT_STR_NAME=0,t.ABIOTICUNIT_CREATURE_SLOT_SIZE=1,t.ABIOTICUNIT_CREATURE_SLOT_COUNT=1,t.ABIOTICUNIT_CREATURE_ID_POS=0,t.ABIOTICUNIT_CREATURE_ID_OFFSET=0,t.ABIOTICUNIT_CREATURE_HOLD_POS=0,t.ABIOTICUNIT_CREATURE_HOLD_OFFSET=1,t.UNIT_LEVEL_SLOT_SIZE=1,t.UNIT_LEVEL_SLOT_COUNT=1,t.UNIT_LEVEL_LEVEL_POS=0,t.UNIT_LEVEL_LEVEL_OFFSET=0,t.UNIT_LEVEL_REINCARNATION_POS=0,t.UNIT_LEVEL_REINCARNATION_OFFSET=2,t.UNIT_LEVEL_AVATAR_POS=0,t.UNIT_LEVEL_AVATAR_OFFSET=3,t.UNIT_SPEED_STATE_SLOT_SIZE=1,t.UNIT_SPEED_STATE_SLOT_COUNT=1,t.UNIT_SPEED_STATE_SPEED_POS=0,t.UNIT_SPEED_STATE_SPEED_OFFSET=0,t.UNIT_SPEED_STATE_STATE_POS=0,t.UNIT_SPEED_STATE_STATE_OFFSET=1,t.UNIT_MARK_SLOT_SIZE=1,t.UNIT_MARK_SLOT_COUNT=5,t.UNIT_MARK_MARK_POS=0,t.UNIT_DAMAGE_RATIO_SLOT_SIZE=2,t.UNIT_DAMAGE_RATIO_SLOT_COUNT=1,t.UNIT_DAMAGE_RATIO_AMPLIFY_POS=0,t.UNIT_DAMAGE_RATIO_AMPLIFY_OFFSET=0,t.UNIT_DAMAGE_RATIO_REDUCTION_POS=0,t.UNIT_DAMAGE_RATIO_REDUCTION_OFFSET=1,t.UNIT_DAMAGE_RATIO_PLAYER_DAMAGE_POS=1,t.UNIT_DAMAGE_RATIO_PLAYER_DAMAGE_OFFSET=0,t.UNIT_DAMAGE_RATIO_LUA_AI_STATE_POS=1,t.UNIT_DAMAGE_RATIO_LUA_AI_STATE_OFFSET=2,t.UNIT_DAMAGE_RATIO_CAMP_POS=1,t.UNIT_DAMAGE_RATIO_CAMP_OFFSET=3,t.UNIT_BUFF_SLOT_SIZE=2,t.UNIT_BUFF_SLOT_COUNT=74,t.UNIT_BUFF_ID_POS=0,t.UNIT_BUFF_ID_OFFSET=0,t.UNIT_BUFF_PARAM_POS=0,t.UNIT_BUFF_PARAM_OFFSET=1,t.UNIT_BUFF_TIMEOUT_POS=1,t.PARTNET_INFO_SLOT_SIZE=1,t.PARTNET_INFO_SLOT_COUNT=1,t.PARTNET_INFO_IS_HIDE_POS=0,t.PARTNET_INFO_IS_HIDE_OFFSET=0,t.PARTNET_INFO_STAR_POS=0,t.PARTNET_INFO_STAR_OFFSET=1,t.TEAM_MEMBER_SLOT_SIZE=7,t.TEAM_MEMBER_SLOT_COUNT=4,t.TEAM_MEMBER_GUID_POS=0,t.TEAM_MEMBER_PROFESSION_POS=2,t.TEAM_MEMBER_PROFESSION_OFFSET=0,t.TEAM_MEMBER_MAPID_POS=2,t.TEAM_MEMBER_MAPID_OFFSET=1,t.TEAM_MEMBER_LEVEL_POS=3,t.TEAM_MEMBER_LEVEL_OFFSET=0,t.TEAM_MEMBER_GODWEAPON_POS=3,t.TEAM_MEMBER_GODWEAPON_OFFSET=1,t.TEAM_MEMBER_FASHION_POS=4,t.TEAM_MEMBER_FASHION_OFFSET=0,t.TEAM_MEMBER_VIP_POS=4,t.TEAM_MEMBER_VIP_OFFSET=2,t.TEAM_MEMBER_VIP_CROWN_POS=4,t.TEAM_MEMBER_VIP_CROWN_OFFSET=3,t.TEAM_MEMBER_FACTION_ID_POS=5,t.TEAM_STR_NAME0=0,t.LOOT_BELONG_BIND_COUNT_SLOT_SIZE=1,t.LOOT_BELONG_BIND_COUNT_SLOT_COUNT=1,t.LOOT_BELONG_BIND_COUNT_BELONG_TYPE_POS=0,t.LOOT_BELONG_BIND_COUNT_BELONG_TYPE_OFFSET=0,t.LOOT_BELONG_BIND_COUNT_BIND_POS=0,t.LOOT_BELONG_BIND_COUNT_BIND_OFFSET=1,t.LOOT_BELONG_BIND_COUNT_IS_CAN_PICKUP_POS=0,t.LOOT_BELONG_BIND_COUNT_IS_CAN_PICKUP_OFFSET=2,t.LOOT_BELONG_BIND_COUNT_HOLDER_POS=0,t.LOOT_BELONG_BIND_COUNT_HOLDER_OFFSET=3,t.BATTLELOGDATE_LOG_SLOT_SIZE=8,t.BATTLELOGDATE_LOG_SLOT_COUNT=30,t.BATTLELOGDATE_LOG_GUID_POS=0,t.BATTLELOGDATE_LOG_REVENGE_TIME_POS=2,t.BATTLELOGDATE_LOG_CAST_TIME_POS=3,t.BATTLELOGDATE_LOG_MAPID_POS=4,t.BATTLELOGDATE_LOG_MAPID_OFFSET=0,t.BATTLELOGDATE_LOG_COUNT_POS=4,t.BATTLELOGDATE_LOG_COUNT_OFFSET=1,t.BATTLELOGDATE_LOG_FIGHT_VALUE_POS=5,t.BATTLELOGDATE_LOG_PROFESSION_POS=7,t.BATTLELOGDATE_LOG_PROFESSION_OFFSET=0,t.BATTLELOGDATE_LOG_ONLINE_POS=7,t.BATTLELOGDATE_LOG_ONLINE_OFFSET=1,t.BATTLELOGDATE_LOG_VIP_POS=7,t.BATTLELOGDATE_LOG_VIP_OFFSET=2,t.BATTLELOGDATE_LOG_VIP_CROWN_POS=7,t.BATTLELOGDATE_LOG_VIP_CROWN_OFFSET=3,t.BATTLELOGDATE_STR_END=24,t.CREATURE_IS_OLD_SLOT_SIZE=1,t.CREATURE_IS_OLD_SLOT_COUNT=1,t.CREATURE_IS_OLD_OLD_POS=0,t.CREATURE_IS_OLD_OLD_OFFSET=0,t.CREATURE_IS_OLD_BELONG_TYPE_POS=0,t.CREATURE_IS_OLD_BELONG_TYPE_OFFSET=1,t.CREATURE_IS_OLD_HLOD1_POS=0,t.CREATURE_IS_OLD_HLOD1_OFFSET=1,t.CREATURE_WARN_ANGLE_SLOT_SIZE=1,t.CREATURE_WARN_ANGLE_SLOT_COUNT=1,t.CREATURE_WARN_ANGLE_SKILL_ID_POS=0,t.CREATURE_WARN_ANGLE_SKILL_ID_OFFSET=0,t.CREATURE_WARN_ANGLE_ANGLE_POS=0,t.CREATURE_WARN_ANGLE_ANGLE_OFFSET=1,t.CREATURE_BELONG_POSITION_SLOT_SIZE=1,t.CREATURE_BELONG_POSITION_SLOT_COUNT=1,t.CREATURE_BELONG_POSITION_X_POS=0,t.CREATURE_BELONG_POSITION_X_OFFSET=0,t.CREATURE_BELONG_POSITION_Y_POS=0,t.CREATURE_BELONG_POSITION_Y_OFFSET=1,t.TELEPORT_TARGET_SLOT_SIZE=1,t.TELEPORT_TARGET_SLOT_COUNT=1,t.TELEPORT_TARGET_MAPID_POS=0,t.TELEPORT_TARGET_MAPID_OFFSET=0,t.TELEPORT_TARGET_RADIU_POS=0,t.TELEPORT_TARGET_RADIU_OFFSET=1,t.FRIENDSBASE_ICON_ONLINE_PROFESSION_SLOT_SIZE=1,t.FRIENDSBASE_ICON_ONLINE_PROFESSION_SLOT_COUNT=1,t.FRIENDSBASE_ICON_ONLINE_PROFESSION_ICON_POS=0,t.FRIENDSBASE_ICON_ONLINE_PROFESSION_ICON_OFFSET=0,t.FRIENDSBASE_ICON_ONLINE_PROFESSION_ONLINE_POS=0,t.FRIENDSBASE_ICON_ONLINE_PROFESSION_ONLINE_OFFSET=1,t.FRIENDSBASE_ICON_ONLINE_PROFESSION_PROFESSION_POS=0,t.FRIENDSBASE_ICON_ONLINE_PROFESSION_PROFESSION_OFFSET=1,t.FRIENDSBASE_LEVEL_AREA_SLOT_SIZE=1,t.FRIENDSBASE_LEVEL_AREA_SLOT_COUNT=1,t.FRIENDSBASE_LEVEL_AREA_LEVEL_POS=0,t.FRIENDSBASE_LEVEL_AREA_LEVEL_OFFSET=0,t.FRIENDSBASE_LEVEL_AREA_AREA_POS=0,t.FRIENDSBASE_LEVEL_AREA_AREA_OFFSET=2,t.FRIENDSBASE_LEVEL_AREA_REINCARNATION_POS=0,t.FRIENDSBASE_LEVEL_AREA_REINCARNATION_OFFSET=3,t.FRIENDSBASE_PLATFORM_VIP_SLOT_SIZE=1,t.FRIENDSBASE_PLATFORM_VIP_SLOT_COUNT=1,t.FRIENDSBASE_PLATFORM_VIP_TYPE1_POS=0,t.FRIENDSBASE_PLATFORM_VIP_TYPE1_OFFSET=0,t.FRIENDSBASE_PLATFORM_VIP_TYPE2_POS=0,t.FRIENDSBASE_PLATFORM_VIP_TYPE2_OFFSET=1,t.FRIENDSBASE_VIP_SLOT_SLOT_SIZE=1,t.FRIENDSBASE_VIP_SLOT_SLOT_COUNT=1,t.FRIENDSBASE_VIP_SLOT_VIP_LEVEL_POS=0,t.FRIENDSBASE_VIP_SLOT_VIP_LEVEL_OFFSET=0,t.FRIENDSBASE_VIP_SLOT_IS_OPEN_CLAN_POS=0,t.FRIENDSBASE_VIP_SLOT_IS_OPEN_CLAN_OFFSET=1,t.FRIENDSBASE_VIP_SLOT_VIP_CROWN_LV_POS=0,t.FRIENDSBASE_VIP_SLOT_VIP_CROWN_LV_OFFSET=2,t.FRIENDSBASE_VIP_SLOT_HOLDER2_POS=0,t.FRIENDSBASE_VIP_SLOT_HOLDER2_OFFSET=3,t.FRIENDSENEMY_ENEMY_SLOT_SIZE=1,t.FRIENDSENEMY_ENEMY_SLOT_COUNT=1,t.FRIENDSENEMY_ENEMY_KILL_POS=0,t.FRIENDSENEMY_ENEMY_KILL_OFFSET=0,t.FRIENDSENEMY_ENEMY_KILLED_POS=0,t.FRIENDSENEMY_ENEMY_KILLED_OFFSET=1,t.FACTIONINFO_ICON_LEVEL_SLOT_SIZE=1,t.FACTIONINFO_ICON_LEVEL_SLOT_COUNT=1,t.FACTIONINFO_ICON_LEVEL_ICON_POS=0,t.FACTIONINFO_ICON_LEVEL_ICON_OFFSET=0,t.FACTIONINFO_ICON_LEVEL_LEVEL_POS=0,t.FACTIONINFO_ICON_LEVEL_LEVEL_OFFSET=1,t.FACTIONINFO_APPLY_JOB_SLOT_SIZE=1,t.FACTIONINFO_APPLY_JOB_SLOT_COUNT=1,t.FACTIONINFO_APPLY_JOB_APPLY_NUM_POS=0,t.FACTIONINFO_APPLY_JOB_APPLY_NUM_OFFSET=0,t.FACTIONINFO_APPLY_JOB_JOB_POS=0,t.FACTIONINFO_APPLY_JOB_JOB_OFFSET=1,t.FACTIONINFO_APPLY_JOB_MEMBER_NUM_POS=0,t.FACTIONINFO_APPLY_JOB_MEMBER_NUM_OFFSET=2,t.FACTIONINFO_APPLY_JOB_PROFESSION_POS=0,t.FACTIONINFO_APPLY_JOB_PROFESSION_OFFSET=3,t.FACTIONINFO_OTHER_SLOT_SIZE=1,t.FACTIONINFO_OTHER_SLOT_COUNT=1,t.FACTIONINFO_OTHER_PASS_100_POS=0,t.FACTIONINFO_OTHER_PASS_100_OFFSET=0,t.FACTIONINFO_OTHER_SELF_ICON_POS=0,t.FACTIONINFO_OTHER_SELF_ICON_OFFSET=1,t.FACTIONINFO_STORE_INFO_SLOT_SIZE=1,t.FACTIONINFO_STORE_INFO_SLOT_COUNT=50,t.FACTIONINFO_STORE_INFO_ITEM_ID_POS=0,t.FACTIONINFO_STORE_INFO_ITEM_ID_OFFSET=0,t.FACTIONINFO_STORE_INFO_ITEM_NUM_POS=0,t.FACTIONINFO_STORE_INFO_ITEM_NUM_OFFSET=1,t.FACTIONINFO_WORD_SLOT_SIZE=1,t.FACTIONINFO_WORD_SLOT_COUNT=1,t.FACTIONINFO_WORD_WORD_POS=0,t.FACTIONINFO_WORD_WORD_OFFSET=0,t.FACTIONINFO_WORD_WORD_GIFT_POS=0,t.FACTIONINFO_WORD_WORD_GIFT_OFFSET=1,t.FACTIONINFO_HELM_INFO_SLOT_SIZE=2,t.FACTIONINFO_HELM_INFO_SLOT_COUNT=1,t.FACTIONINFO_HELM_INFO_ID_POS=0,t.FACTIONINFO_HELM_INFO_ID_OFFSET=0,t.FACTIONINFO_HELM_INFO_TARGET_TERRITORY_POS=0,t.FACTIONINFO_HELM_INFO_TARGET_TERRITORY_OFFSET=1,t.FACTIONINFO_HELM_INFO_HOLD1_POS=0,t.FACTIONINFO_HELM_INFO_HOLD1_OFFSET=1,t.FACTIONINFO_HELM_INFO_EXP_POS=1,t.FACTIONINFO_TARGET_SLOT_SIZE=0,t.FACTIONINFO_TARGET_SLOT_COUNT=8,t.FACTIONINFO_TARGET_REACH_NUM_POS=0,t.FACTIONINFO_TARGET_REACH_NUM_OFFSET=0,t.MAPINSTANCE_COUNT_STATE_SLOT_SIZE=1,t.MAPINSTANCE_COUNT_STATE_SLOT_COUNT=1,t.MAPINSTANCE_COUNT_STATE_COUNT_POS=0,t.MAPINSTANCE_COUNT_STATE_COUNT_OFFSET=0,t.MAPINSTANCE_COUNT_STATE_STATE_POS=0,t.MAPINSTANCE_COUNT_STATE_STATE_OFFSET=2,t.MAPINSTANCE_COUNT_STATE_SUB_STATE_POS=0,t.MAPINSTANCE_COUNT_STATE_SUB_STATE_OFFSET=3,t.MAPINSTANCE_END=60,t.MAPINSTANCE_STR_INS_STR_END=20,t.EQUINFO_LEVEL=0,t.EQUINFO_STR_END=0,t.CROSS1V1RANK_PLAYER_SLOT_SLOT_SIZE=12,t.CROSS1V1RANK_PLAYER_SLOT_SLOT_COUNT=100,t.CROSS1V1RANK_PLAYER_SLOT_GUID_POS=0,t.CROSS1V1RANK_PLAYER_SLOT_PROFESSION_POS=2,t.CROSS1V1RANK_PLAYER_SLOT_PROFESSION_OFFSET=0,t.CROSS1V1RANK_PLAYER_SLOT_REIN_POS=2,t.CROSS1V1RANK_PLAYER_SLOT_REIN_OFFSET=1,t.CROSS1V1RANK_PLAYER_SLOT_LEVEL_POS=2,t.CROSS1V1RANK_PLAYER_SLOT_LEVEL_OFFSET=1,t.CROSS1V1RANK_PLAYER_SLOT_VIP_CROWN_LV_POS=3,t.CROSS1V1RANK_PLAYER_SLOT_VIP_CROWN_LV_OFFSET=0,t.CROSS1V1RANK_PLAYER_SLOT_HOLD_POS=3,t.CROSS1V1RANK_PLAYER_SLOT_HOLD_OFFSET=1,t.CROSS1V1RANK_PLAYER_SLOT_WEAPON_POS=3,t.CROSS1V1RANK_PLAYER_SLOT_WEAPON_OFFSET=1,t.CROSS1V1RANK_PLAYER_SLOT_HOLYWEAPON_POS=4,t.CROSS1V1RANK_PLAYER_SLOT_HOLYWEAPON_OFFSET=0,t.CROSS1V1RANK_PLAYER_SLOT_FASHION_POS=4,t.CROSS1V1RANK_PLAYER_SLOT_FASHION_OFFSET=1,t.CROSS1V1RANK_PLAYER_SLOT_CLOTHES_POS=5,t.CROSS1V1RANK_PLAYER_SLOT_CLOTHES_OFFSET=0,t.CROSS1V1RANK_PLAYER_SLOT_HOLYWEAPON_ROUSE_POS=5,t.CROSS1V1RANK_PLAYER_SLOT_HOLYWEAPON_ROUSE_OFFSET=2,t.CROSS1V1RANK_PLAYER_SLOT_VIP_POS=5,t.CROSS1V1RANK_PLAYER_SLOT_VIP_OFFSET=3,t.CROSS1V1RANK_PLAYER_SLOT_FIGHT_VALUE_POS=6,t.CROSS1V1RANK_PLAYER_SLOT_CROSS_LEVEL_POS=8,t.CROSS1V1RANK_PLAYER_SLOT_CROSS_LEVEL_OFFSET=0,t.CROSS1V1RANK_PLAYER_SLOT_SCORE_POS=8,t.CROSS1V1RANK_PLAYER_SLOT_SCORE_OFFSET=1,t.CROSS1V1RANK_PLAYER_SLOT_WIN_POS=9,t.CROSS1V1RANK_PLAYER_SLOT_WIN_OFFSET=0,t.CROSS1V1RANK_PLAYER_SLOT_TOTAL_POS=9,t.CROSS1V1RANK_PLAYER_SLOT_TOTAL_OFFSET=1,t.CROSS1V1RANK_PLAYER_SLOT_PLATFORM_VIP1_POS=10,t.CROSS1V1RANK_PLAYER_SLOT_PLATFORM_VIP1_OFFSET=0,t.CROSS1V1RANK_PLAYER_SLOT_PLATFORM_VIP2_POS=10,t.CROSS1V1RANK_PLAYER_SLOT_PLATFORM_VIP2_OFFSET=1,t.CROSS1V1RANK_PLAYER_SLOT_RANK_TIME_POS=11,t.CROSS1V1RANK_STR_END=100,t.CROSS1V1HISTORY_PLAYER_SLOT_SLOT_SIZE=11,t.CROSS1V1HISTORY_PLAYER_SLOT_SLOT_COUNT=108,t.CROSS1V1HISTORY_PLAYER_SLOT_GUID_POS=0,t.CROSS1V1HISTORY_PLAYER_SLOT_PROFESSION_POS=2,t.CROSS1V1HISTORY_PLAYER_SLOT_PROFESSION_OFFSET=0,t.CROSS1V1HISTORY_PLAYER_SLOT_REIN_POS=2,t.CROSS1V1HISTORY_PLAYER_SLOT_REIN_OFFSET=1,t.CROSS1V1HISTORY_PLAYER_SLOT_LEVEL_POS=2,t.CROSS1V1HISTORY_PLAYER_SLOT_LEVEL_OFFSET=1,t.CROSS1V1HISTORY_PLAYER_SLOT_VIP_CROWN_LV_POS=3,t.CROSS1V1HISTORY_PLAYER_SLOT_VIP_CROWN_LV_OFFSET=0,t.CROSS1V1HISTORY_PLAYER_SLOT_HOLD_POS=3,t.CROSS1V1HISTORY_PLAYER_SLOT_HOLD_OFFSET=1,t.CROSS1V1HISTORY_PLAYER_SLOT_WEAPON_POS=3,t.CROSS1V1HISTORY_PLAYER_SLOT_WEAPON_OFFSET=1,t.CROSS1V1HISTORY_PLAYER_SLOT_HOLYWEAPON_POS=4,t.CROSS1V1HISTORY_PLAYER_SLOT_HOLYWEAPON_OFFSET=0,t.CROSS1V1HISTORY_PLAYER_SLOT_FASHION_POS=4,t.CROSS1V1HISTORY_PLAYER_SLOT_FASHION_OFFSET=1,t.CROSS1V1HISTORY_PLAYER_SLOT_CLOTHES_POS=5,t.CROSS1V1HISTORY_PLAYER_SLOT_CLOTHES_OFFSET=0,t.CROSS1V1HISTORY_PLAYER_SLOT_HOLYWEAPON_ROUSE_POS=5,t.CROSS1V1HISTORY_PLAYER_SLOT_HOLYWEAPON_ROUSE_OFFSET=2,t.CROSS1V1HISTORY_PLAYER_SLOT_VIP_POS=5,t.CROSS1V1HISTORY_PLAYER_SLOT_VIP_OFFSET=3,t.CROSS1V1HISTORY_PLAYER_SLOT_FIGHT_VALUE_POS=6,t.CROSS1V1HISTORY_PLAYER_SLOT_CROSS_LEVEL_POS=8,t.CROSS1V1HISTORY_PLAYER_SLOT_CROSS_LEVEL_OFFSET=0,t.CROSS1V1HISTORY_PLAYER_SLOT_SCORE_POS=8,t.CROSS1V1HISTORY_PLAYER_SLOT_SCORE_OFFSET=1,t.CROSS1V1HISTORY_PLAYER_SLOT_WIN_POS=9,t.CROSS1V1HISTORY_PLAYER_SLOT_WIN_OFFSET=0,t.CROSS1V1HISTORY_PLAYER_SLOT_TOTAL_POS=9,t.CROSS1V1HISTORY_PLAYER_SLOT_TOTAL_OFFSET=1,t.CROSS1V1HISTORY_PLAYER_SLOT_PLATFORM_VIP1_POS=10,t.CROSS1V1HISTORY_PLAYER_SLOT_PLATFORM_VIP1_OFFSET=0,t.CROSS1V1HISTORY_PLAYER_SLOT_PLATFORM_VIP2_POS=10,t.CROSS1V1HISTORY_PLAYER_SLOT_PLATFORM_VIP2_OFFSET=1,t.CROSS1V1HISTORY_RAND_PLAYER_GUID_SLOT_SIZE=14,t.CROSS1V1HISTORY_RAND_PLAYER_GUID_SLOT_COUNT=36,t.CROSS1V1HISTORY_RAND_PLAYER_GUID_PERIOD_POS=0,t.CROSS1V1HISTORY_RAND_PLAYER_GUID_PERIOD_SLOT_SIZE=2,t.CROSS1V1HISTORY_RAND_PLAYER_GUID_PERIOD_SLOT_COUNT=7,t.CROSS1V1HISTORY_RAND_PLAYER_GUID_PERIOD_PLAYER_GUID_POS=0,t.CROSS1V1HISTORY_STR_END=36,t.NINESTATELOG_BATTLE_LOG_SLOT_SIZE=4,t.NINESTATELOG_BATTLE_LOG_SLOT_COUNT=30,t.NINESTATELOG_BATTLE_LOG_CITY_ID_POS=0,t.NINESTATELOG_BATTLE_LOG_CITY_ID_OFFSET=0,t.NINESTATELOG_BATTLE_LOG_HOLD_POS=0,t.NINESTATELOG_BATTLE_LOG_HOLD_OFFSET=0,t.NINESTATELOG_BATTLE_LOG_HOLD2_POS=0,t.NINESTATELOG_BATTLE_LOG_HOLD2_OFFSET=3,t.NINESTATELOG_BATTLE_LOG_GUID_POS=1,t.NINESTATELOG_BATTLE_LOG_TIME_POS=3,t.NINESTATELOG_HATRED_LIST_SLOT_SIZE=4,t.NINESTATELOG_HATRED_LIST_SLOT_COUNT=21,t.NINESTATELOG_HATRED_LIST_GUID_POS=0,t.NINESTATELOG_HATRED_LIST_COUNT_POS=2,t.NINESTATELOG_HATRED_LIST_TIME_POS=3,t.NINESTATELOG_STR_END=0,t.WISHINFO_EQUIP_SLOT_SIZE=21,t.WISHINFO_EQUIP_SLOT_COUNT=5,t.WISHINFO_EQUIP_ID_POS=0,t.WISHINFO_EQUIP_PROP_POS=1,t.WISHINFO_EQUIP_PROP_SLOT_SIZE=2,t.WISHINFO_EQUIP_PROP_SLOT_COUNT=10,t.WISHINFO_EQUIP_PROP_ID_POS=0,t.WISHINFO_EQUIP_PROP_VALUE_POS=1,t.WISHINFO_ID=0,t.WISHINFO_STR_END=0,t}();t.ObjectFields=e,__reflect(e.prototype,"protocols.fields.ObjectFields")}(e=t.fields||(t.fields={}))}(protocols||(protocols={}));var core;!function(t){var e;!function(t){var e=function(){function t(t,e,o){void 0===o&&(o=0),this.priority=0,this.self=t,this.fn=e,this.priority=o}return t.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=this.fn;o.apply(this.self,t)},t.NEW=function(e,o,r){void 0===r&&(r=0);var i=new t(e,o,r);return i},t.FREE=function(t){},t}();t.FuncItem=e,__reflect(e.prototype,"core.ds.FuncItem")}(e=t.ds||(t.ds={}))}(core||(core={}));var protocols;!function(t){var e;!function(t){var e=game.objmgr.GuidObject,o=function(t){function o(e,o){return t.call(this,e,o)||this}return __extends(o,t),Object.defineProperty(o.prototype,"countDate",{get:function(){return this.GetUInt32(o.FRIENDS_COUNT_DATE)},enumerable:!0,configurable:!0}),o.prototype.getFriendGUID=function(t){return this.GetUInt64(o.FRIENDS_FRIEND+t*o.FRIENDS_FRIEND_SLOT_SIZE)},o.prototype.getIcon=function(t){var e=o.FRIENDS_FRIEND+o.FRIENDS_FRIEND_ICON_POS;return this.GetUInt8(e+t*o.FRIENDS_FRIEND_SLOT_SIZE,o.FRIENDS_FRIEND_ICON_OFFSET)},o.prototype.getGiveTimes=function(t){var e=o.FRIENDS_FRIEND+o.FRIENDS_FRIEND_GIVE_TIMES_POS;return this.GetUInt8(e+t*o.FRIENDS_FRIEND_SLOT_SIZE,o.FRIENDS_FRIEND_GIVE_TIMES_OFFSET)},o.prototype.getFriendFightTimes=function(t){var e=o.FRIENDS_FRIEND+o.FRIENDS_FRIEND_FIGHT_TIMES_POS;return this.GetUInt8(e+t*o.FRIENDS_FRIEND_SLOT_SIZE,o.FRIENDS_FRIEND_FIGHT_TIMES_OFFSET)},o.prototype.getPointTime=function(t){var e=o.FRIENDS_FRIEND+o.FRIENDS_FRIEND_POINT_TIME_POS;return this.GetUInt32(e+t*o.FRIENDS_FRIEND_SLOT_SIZE)},o.prototype.getFriendGuidSystem=function(t){return this.GetUInt64(o.FRIENDS_FRIEND_SYSTEM+t*o.FRIENDS_FRIEND_SYSTEM_SLOT_SIZE)},o.prototype.getFriendIconSystem=function(t){var e=o.FRIENDS_FRIEND_SYSTEM+o.FRIENDS_FRIEND_SYSTEM_ICON_POS;return this.GetUInt8(e+t*o.FRIENDS_FRIEND_SYSTEM_SLOT_SIZE,o.FRIENDS_FRIEND_SYSTEM_ICON_OFFSET)},o.prototype.getFriendGiveTimesSystem=function(t){var e=o.FRIENDS_FRIEND_SYSTEM+o.FRIENDS_FRIEND_SYSTEM_GIVE_TIMES_POS;return this.GetUInt8(e+t*o.FRIENDS_FRIEND_SYSTEM_SLOT_SIZE,o.FRIENDS_FRIEND_SYSTEM_GIVE_TIMES_OFFSET)},o.prototype.getFriendFightTimesSystem=function(t){var e=o.FRIENDS_FRIEND_SYSTEM+o.FRIENDS_FRIEND_SYSTEM_FIGHT_TIMES_POS;return this.GetUInt8(e+t*o.FRIENDS_FRIEND_SYSTEM_SLOT_SIZE,o.FRIENDS_FRIEND_SYSTEM_FIGHT_TIMES_OFFSET)},o.prototype.getFriendPointTimeSystem=function(t){var e=o.FRIENDS_FRIEND_SYSTEM+o.FRIENDS_FRIEND_SYSTEM_POINT_TIME_POS;return this.GetUInt32(e+t*o.FRIENDS_FRIEND_SYSTEM_SLOT_SIZE)},o.prototype.getSign=function(t){return this.GetString(t)},o.prototype.getNameSystem=function(t){return this.GetString(o.FRIENDS_STR_NAME_SYSTEM+t)},o.FRIENDS_FRIEND_SLOT_BIT_SIZE=16,o.FRIENDS_FRIEND_SLOT_SIZE=4,o.FRIENDS_FRIEND_SLOT_COUNT=50,o.FRIENDS_FRIEND_GUID_POS=0,o.FRIENDS_FRIEND_ICON_POS=2,o.FRIENDS_FRIEND_ICON_OFFSET=0,o.FRIENDS_FRIEND_GIVE_TIMES_POS=2,o.FRIENDS_FRIEND_GIVE_TIMES_OFFSET=1,o.FRIENDS_FRIEND_FIGHT_TIMES_POS=2,o.FRIENDS_FRIEND_FIGHT_TIMES_OFFSET=2,o.FRIENDS_FRIEND_HOLD2_POS=2,o.FRIENDS_FRIEND_HOLD2_OFFSET=3,o.FRIENDS_FRIEND_POINT_TIME_POS=3,o.FRIENDS_FRIEND_SYSTEM_SLOT_BIT_SIZE=16,o.FRIENDS_FRIEND_SYSTEM_SLOT_SIZE=4,o.FRIENDS_FRIEND_SYSTEM_SLOT_COUNT=100,o.FRIENDS_FRIEND_SYSTEM_GUID_POS=0,o.FRIENDS_FRIEND_SYSTEM_ICON_POS=2,o.FRIENDS_FRIEND_SYSTEM_ICON_OFFSET=0,o.FRIENDS_FRIEND_SYSTEM_GIVE_TIMES_POS=2,o.FRIENDS_FRIEND_SYSTEM_GIVE_TIMES_OFFSET=1,o.FRIENDS_FRIEND_SYSTEM_FIGHT_TIMES_POS=2,o.FRIENDS_FRIEND_SYSTEM_FIGHT_TIMES_OFFSET=2,o.FRIENDS_FRIEND_SYSTEM_HOLD2_POS=2,o.FRIENDS_FRIEND_SYSTEM_HOLD2_OFFSET=3,o.FRIENDS_FRIEND_SYSTEM_POINT_TIME_POS=3,o.FRIENDS_STR_NAME_COUNT=50,o.FRIENDS_STR_NAME_SYSTEM_COUNT=100,o.FRIENDS_COUNT_DATE=e.OBJECT_END,o.FRIENDS_FRIEND=o.FRIENDS_COUNT_DATE+1,o.FRIENDS_FRIEND_END=o.FRIENDS_FRIEND+200,o.FRIENDS_FRIEND_SYSTEM=o.FRIENDS_FRIEND_END,o.FRIENDS_FRIEND_SYSTEM_END=o.FRIENDS_FRIEND_SYSTEM+400,o.FRIENDS_END=o.FRIENDS_FRIEND_SYSTEM_END,o.FRIENDS_STR_NAME=0,o.FRIENDS_STR_NAME_END=o.FRIENDS_STR_NAME+50,o.FRIENDS_STR_NAME_SYSTEM=o.FRIENDS_STR_NAME_END,o.FRIENDS_STR_NAME_SYSTEM_END=o.FRIENDS_STR_NAME_SYSTEM+100,o.FRIENDS_STR_END=o.FRIENDS_STR_NAME_SYSTEM_END,o}(e);t.FriendsVo=o,__reflect(o.prototype,"protocols.objects.FriendsVo")}(e=t.objects||(t.objects={}))}(protocols||(protocols={}));var game;!function(t){var e;!function(t){var e=core.net.UInt64,o=function(){function o(){this.structList=new Array,o._isInit||o.Init()}return o.Init=function(){o._isInit=!0},o.prototype.clear=function(){if(0!=this.structList.length){for(var e=this.structList.length,o=0;e>o;++o)t.BinLogStruct.FREE(this.structList[o]);this.structList.length=0}},o.prototype.getBinlogStruct=function(t){for(var e=null,o=this.structList.length,r=0;o>r;++r)if(this.structList[r].index==t){e=this.structList[r];break}return e},o.prototype.readPacket=function(e){this.clear();for(var o=null,r=e.readArraySize(),i=0;r>i;++i)o=t.BinLogStruct.NEW(),o.ReadFrom(e),this.structList.push(o)},o.prototype.apply=function(t){for(var e=this.structList.length,o=0;e>o;++o)this.applyBinLogStruct(t,this.structList[o])},o.prototype.applyBinLogStruct=function(e,o){var r=o.typ;switch(o.opt){case t.BinLogStruct.BINLOG_OPT_SET:this.applySetOP(e,r,o);break;case t.BinLogStruct.BINLOG_OPT_UNSET:this.applyUnSetOP(e,r,o);break;case t.BinLogStruct.BINLOG_OPT_MOD:this.applyModOP(e,r,o)}return!0},o.prototype.applySetOP=function(o,r,i){switch(r){case t.BinLogStruct.BINLOG_TYPE_UINT32:case t.BinLogStruct.BINLOG_TYPE_INT32:case t.BinLogStruct.BINLOG_TYPE_FLOAT:o.SetUInt32(i.index,i.uint32);
break;case t.BinLogStruct.BINLOG_TYPE_UINT16:case t.BinLogStruct.BINLOG_TYPE_INT16:o.SetUInt16(i.index,i.offset,i.uint16);break;case t.BinLogStruct.BINLOG_TYPE_UINT64:case t.BinLogStruct.BINLOG_TYPE_INT64:case t.BinLogStruct.BINLOG_TYPE_DOUBLE:o.SetUInt64(i.index,new e(i.low,i.high));break;case t.BinLogStruct.BINLOG_TYPE_BYTE:o.SetUInt8(i.index,i.offset,i.uint8);break;case t.BinLogStruct.BINLOG_TYPE_BIT:o.SetBit(i.index,i.uint16);break;case t.BinLogStruct.BINLOG_TYPE_STRING:o.SetString(i.index,i.str);break;default:throw new Error("BinLog applySetOP Error type!")}},o.prototype.applyUnSetOP=function(e,o,r){switch(o){case t.BinLogStruct.BINLOG_TYPE_BIT:e.UnsetBit(r.index,r.uint16);break;default:throw new Error("BinLog applyUnSetOP Error type!")}},o.prototype.applyModOP=function(e,o,r){switch(o){case t.BinLogStruct.BINLOG_TYPE_UINT32:e.ModUInt32(r.index,r.int32);break;case t.BinLogStruct.BINLOG_TYPE_DOUBLE:e.ModDouble(r.index,r.doulbe);break;case t.BinLogStruct.BINLOG_TYPE_INT32:e.ModInt32(r.index,r.int32);break;case t.BinLogStruct.BINLOG_TYPE_UINT16:e.ModUInt16(r.index,r.offset,r.int16);break;case t.BinLogStruct.BINLOG_TYPE_INT16:e.ModInt16(r.index,r.offset,r.int16);break;case t.BinLogStruct.BINLOG_TYPE_FLOAT:e.ModFloat(r.index,r["float"]);break;case t.BinLogStruct.BINLOG_TYPE_BYTE:e.ModUInt8(r.index,r.offset,r.uint8);break;default:throw new Error("BinLog applyModOP Error type!")}},o._isInit=!1,o}();t.BinLog=o,__reflect(o.prototype,"game.objmgr.BinLog")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e=core.net.UInt64,o=core.pool.ObjectPoolList,r=function(){function r(){this.clear()}return r.NEW=function(){null==r.ObjectPool&&(r.ObjectPool=new o(r));var t=r.ObjectPool.Alloc(r);return t},r.FREE=function(t){t.clear(),r.ObjectPool.Release(t)},Object.defineProperty(r.prototype,"modValue",{get:function(){switch(this._typ){case r.BINLOG_TYPE_BYTE:return this.uint8;case r.BINLOG_TYPE_INT16:return this.int16;case r.BINLOG_TYPE_UINT16:return this.uint16;case r.BINLOG_TYPE_INT32:return this.int32;case r.BINLOG_TYPE_UINT32:return this.uint32;case r.BINLOG_TYPE_FLOAT:return this["float"];case r.BINLOG_TYPE_DOUBLE:return this.doulbe}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"opt",{get:function(){return this._opt},set:function(t){this._opt=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"low",{get:function(){return this._value_low},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"high",{get:function(){return this._value_high},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"offset",{get:function(){return t.TypeConvert.UInt2Byte(this._value_low,0)},set:function(e){this._value_low=t.TypeConvert.SetByte(this._value_low,0,e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"typ",{get:function(){return this._typ},set:function(t){this._typ=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"uint8",{get:function(){return t.TypeConvert.UInt2Byte(this._value_low,2)},set:function(e){this._value_low=t.TypeConvert.SetByte(this._value_low,2,e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"uint16",{get:function(){return t.TypeConvert.UInt2UInt16(this._value_low,1)},set:function(e){this._value_low=t.TypeConvert.SetUInt16(this._value_low,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"int16",{get:function(){return t.TypeConvert.UInt2Int16(this._value_low,1)},set:function(e){this._value_low=t.TypeConvert.SetInt16(this._value_low,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"uint32",{get:function(){return this._value_low},set:function(t){this._value_low=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"int32",{get:function(){return this._value_low},set:function(t){this._value_low=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"float",{get:function(){return t.TypeConvert.UInt2Float(this._value_low)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"doulbe",{get:function(){return t.TypeConvert.UInt2Double(this._value_low,this._value_high)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"uint64",{get:function(){return new e(this._value_low,this._value_high)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"str",{get:function(){return this._value_str},set:function(t){this._value_str=t},enumerable:!0,configurable:!0}),r.prototype.clear=function(){this._opt=0,this._typ=0,this._index=0,this._value_high=0,this._value_low=0,this._value_str=""},r.prototype.ReadFrom=function(t){return this._opt=t.readUInt8(),this._typ=t.readUInt8(),this._index=t.readUInt16(),0!=(this._typ&r.DATA_SIZE_4)?this._value_low=t.readUInt32():0!=(this._typ&r.DATA_SIZE_8)?(this._value_low=t.readUInt32(),this._value_high=t.readUInt32()):this._value_str=t.readString(),!0},r.BINLOG_OPT_SET=0,r.BINLOG_OPT_UNSET=1,r.BINLOG_OPT_MOD=2,r.DATA_SIZE_4=16,r.DATA_SIZE_8=32,r.DATA_SIZE_N=128,r.BINLOG_TYPE_BIT=0|r.DATA_SIZE_4,r.BINLOG_TYPE_BYTE=1|r.DATA_SIZE_4,r.BINLOG_TYPE_INT16=2|r.DATA_SIZE_4,r.BINLOG_TYPE_UINT16=3|r.DATA_SIZE_4,r.BINLOG_TYPE_INT32=4|r.DATA_SIZE_4,r.BINLOG_TYPE_UINT32=5|r.DATA_SIZE_4,r.BINLOG_TYPE_FLOAT=6|r.DATA_SIZE_4,r.BINLOG_TYPE_INT64=7|r.DATA_SIZE_8,r.BINLOG_TYPE_UINT64=8|r.DATA_SIZE_8,r.BINLOG_TYPE_DOUBLE=9|r.DATA_SIZE_8,r.BINLOG_TYPE_STRING=10|r.DATA_SIZE_N,r}();t.BinLogStruct=r,__reflect(r.prototype,"game.objmgr.BinLogStruct")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var protocols;!function(t){var e;!function(t){var e=function(e){function o(t,o){return e.call(this,t,o)||this}return __extends(o,e),Object.defineProperty(o.prototype,"loginTime",{get:function(){return this.GetUInt32(o.PLAYER_LOGIN_TIME)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"offlineTime",{get:function(){return this.GetUInt32(o.PLAYER_OFFLINE_TIME)},enumerable:!0,configurable:!0}),o.prototype.getMark=function(t){32*o.PLAYER_MARK_SLOT_COUNT;return this.GetBit(o.PLAYER_MARK,t)},o.prototype.getCountField=function(t){return this.GetUInt8(o.PLAYER_COUNT_FIELD+(t>>2),3&t)},o.prototype.getDailyMark=function(t){32*o.PLAYER_DAILY_MARK_SLOT_COUNT;return this.GetBit(o.PLAYER_DAILY_MARK,t)},Object.defineProperty(o.prototype,"unhealthOnLineTime",{get:function(){return this.GetUInt16(o.PLAYER_UNHEALTH,o.PLAYER_UNHEALTH_ONLINE_TIME_OFFSET)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"unhealthOffLineTime",{get:function(){return this.GetUInt16(o.PLAYER_UNHEALTH,o.PLAYER_UNHEALTH_OFFLINE_TIME_OFFSET)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onlineTime",{get:function(){return this.GetUInt32(o.PLAYER_ONLINE_TIME)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"dailyOnlineTime",{get:function(){return this.GetUInt32(o.PLAYER_DAILY_ONLINE_TIME)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"keys",{get:function(){return this.GetUInt32(o.PLAYER_MONEY_KEY)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"gold",{get:function(){return this.GetUInt32(o.PLAYER_MONEY_GOLD)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"haoGunDu",{get:function(){return this.GetUInt32(o.PLAYER_MONEY_HAO_GUN_DU)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"chapter",{get:function(){return this.GetUInt16(o.PLAYER_BAG_SZIE,o.PLAYER_BAG_SZIE_CHAPTER_OFFSET)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"loginDates",{get:function(){return this.GetUInt16(o.PLAYER_BAG_SZIE,o.PLAYER_BAG_SZIE_LOGIN_DATES_OFFSET)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"curStory",{get:function(){var t=o.PLAYER_BAG_SZIE+o.PLAYER_BAG_SZIE_CUR_STORY_POS;return this.GetUInt32(t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rechargeTotal",{get:function(){return this.GetUInt32(o.PLAYER_RECHARGE_TOTAL)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rechargeToday",{get:function(){return this.GetUInt32(o.PLAYER_RECHARGE_TODAY)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"monthCardTime",{get:function(){return this.GetUInt32(o.PLAYER_MONTH_CARD_TIME)},enumerable:!0,configurable:!0}),o.prototype.getBagItemID=function(t){return this.GetUInt16(o.PLAYER_BAG+t,o.PLAYER_BAG_ITEM_ID_OFFSET)},o.prototype.getBagItemNum=function(t){return this.GetUInt16(o.PLAYER_BAG+t,o.PLAYER_BAG_ITEM_NUM_OFFSET)},o.prototype.getChoseStoryId=function(t,e){return this.GetUInt32(o.PLAYER_CHAPTER+t*o.PLAYER_CHAPTER_SLOT_SIZE+e)},Object.defineProperty(o.prototype,"keysLastUpdate",{get:function(){return this.GetUInt32(o.PLAYER_KEYS_LAST_UPDATE)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"freeAdvertTime",{get:function(){return this.GetUInt32(o.PLAYER_FREE_ADVERT_TIME)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"limitBuyCount",{get:function(){return this.GetUInt32(o.PLAYER_LIMIT_BUY_COUNT)},enumerable:!0,configurable:!0}),o.PLAYER_MARK_SLOT_SIZE=1,o.PLAYER_MARK_SLOT_COUNT=20,o.PLAYER_COUNT_FIELD_SLOT_BIT_SIZE=1,o.PLAYER_COUNT_FIELD_SLOT_SIZE=0,o.PLAYER_COUNT_FIELD_SLOT_COUNT=80,o.PLAYER_COUNT_FIELD_COUNT_POS=0,o.PLAYER_COUNT_FIELD_COUNT_OFFSET=0,o.PLAYER_DAILY_MARK_SLOT_SIZE=1,o.PLAYER_DAILY_MARK_SLOT_COUNT=5,o.PLAYER_UNHEALTH_SLOT_BIT_SIZE=4,o.PLAYER_UNHEALTH_SLOT_SIZE=1,o.PLAYER_UNHEALTH_SLOT_COUNT=1,o.PLAYER_UNHEALTH_ONLINE_TIME_POS=0,o.PLAYER_UNHEALTH_ONLINE_TIME_OFFSET=0,o.PLAYER_UNHEALTH_OFFLINE_TIME_POS=0,o.PLAYER_UNHEALTH_OFFLINE_TIME_OFFSET=1,o.PLAYER_MONEY_HOLD_SLOT_SIZE=1,o.PLAYER_MONEY_HOLD_SLOT_COUNT=20,o.PLAYER_BAG_SZIE_SLOT_BIT_SIZE=8,o.PLAYER_BAG_SZIE_SLOT_SIZE=2,o.PLAYER_BAG_SZIE_SLOT_COUNT=1,o.PLAYER_BAG_SZIE_CHAPTER_POS=0,o.PLAYER_BAG_SZIE_CHAPTER_OFFSET=0,o.PLAYER_BAG_SZIE_LOGIN_DATES_POS=0,o.PLAYER_BAG_SZIE_LOGIN_DATES_OFFSET=1,o.PLAYER_BAG_SZIE_CUR_STORY_POS=1,o.PLAYER_BAG_SLOT_BIT_SIZE=4,o.PLAYER_BAG_SLOT_SIZE=1,o.PLAYER_BAG_SLOT_COUNT=10,o.PLAYER_BAG_ITEM_ID_POS=0,o.PLAYER_BAG_ITEM_ID_OFFSET=0,o.PLAYER_BAG_ITEM_NUM_POS=0,o.PLAYER_BAG_ITEM_NUM_OFFSET=1,o.PLAYER_CHAPTER_SLOT_BIT_SIZE=16,o.PLAYER_CHAPTER_SLOT_SIZE=4,o.PLAYER_CHAPTER_SLOT_COUNT=100,o.PLAYER_CHAPTER_CHOSE_STORY_ID_POS=0,o.PLAYER_CHAPTER_CHOSE_STORY_ID_END_POS=4,o.PLAYER_CHAPTER_CHOSE_STORY_ID_SLOT_SIZE=1,o.PLAYER_CHAPTER_CHOSE_STORY_ID_SLOT_COUNT=4,o.PLAYER_LOGIN_TIME=t.MgrPlayerVo.MGRPLAYER_END,o.PLAYER_OFFLINE_TIME=o.PLAYER_LOGIN_TIME+1,o.PLAYER_MARK=o.PLAYER_OFFLINE_TIME+1,o.PLAYER_MARK_END=o.PLAYER_MARK+20,o.PLAYER_COUNT_FIELD=o.PLAYER_MARK_END,o.PLAYER_COUNT_FIELD_END=o.PLAYER_COUNT_FIELD+20,o.PLAYER_DAILY_MARK=o.PLAYER_COUNT_FIELD_END,o.PLAYER_DAILY_MARK_END=o.PLAYER_DAILY_MARK+5,o.PLAYER_UNHEALTH=o.PLAYER_DAILY_MARK_END,o.PLAYER_UNHEALTH_END=o.PLAYER_UNHEALTH+1,o.PLAYER_ONLINE_TIME=o.PLAYER_UNHEALTH_END,o.PLAYER_DAILY_ONLINE_TIME=o.PLAYER_ONLINE_TIME+1,o.PLAYER_MONEY_KEY=o.PLAYER_DAILY_ONLINE_TIME+1,o.PLAYER_MONEY_GOLD=o.PLAYER_MONEY_KEY+1,o.PLAYER_MONEY_HAO_GUN_DU=o.PLAYER_MONEY_GOLD+1,o.PLAYER_MONEY_HOLD=o.PLAYER_MONEY_HAO_GUN_DU+1,o.PLAYER_MONEY_HOLD_END=o.PLAYER_MONEY_HOLD+20,o.PLAYER_BAG_SZIE=o.PLAYER_MONEY_HOLD_END,o.PLAYER_BAG_SZIE_END=o.PLAYER_BAG_SZIE+2,o.PLAYER_RECHARGE_TOTAL=o.PLAYER_BAG_SZIE_END,o.PLAYER_RECHARGE_TODAY=o.PLAYER_RECHARGE_TOTAL+1,o.PLAYER_MONTH_CARD_TIME=o.PLAYER_RECHARGE_TODAY+1,o.PLAYER_BAG=o.PLAYER_MONTH_CARD_TIME+1,o.PLAYER_BAG_END=o.PLAYER_BAG+10,o.PLAYER_CHAPTER=o.PLAYER_BAG_END,o.PLAYER_CHAPTER_END=o.PLAYER_CHAPTER+400,o.PLAYER_KEYS_LAST_UPDATE=o.PLAYER_CHAPTER_END,o.PLAYER_FREE_ADVERT_TIME=o.PLAYER_KEYS_LAST_UPDATE+1,o.PLAYER_LIMIT_BUY_COUNT=o.PLAYER_FREE_ADVERT_TIME+1,o.PLAYER_END=2e3,o.PLAYER_STR_END=t.MgrPlayerVo.MGRPLAYER_STR_END,o}(t.MgrPlayerVo);t.PlayerVo=e,__reflect(e.prototype,"protocols.objects.PlayerVo")}(e=t.objects||(t.objects={}))}(protocols||(protocols={}));var com;!function(t){var e;!function(t){var e=function(){function t(){}return t.isEqual=function(t,e){var o=!0;if(t.length==e.length){for(var r=0;r<t.length;r++)if(t[r]!=e[r]){o=!1;break}}else o=!1;return o},t.indexOf=function(t,e,o){if(null==t)return-1;for(var r=0;r<t.length;r++){var i=t[r];if(i[e]==o)return r}return-1},t.findByFields=function(t,e,o){for(var r=0;r<t.length;r++){for(var i=t[r],n=!0,s=0;s<e.length;s++){var a=e[s],_=o[s];if(i[a]!=_){n=!1;break}}if(n)return r}return-1},t.copy=function(t,e){for(var o=0;o<e.length;++o)t.push(e[o])},t.buffer2hex=function(t){for(var e,o=new Uint8Array(t),r=0,i=t.byteLength,n=new Array(i-r);i>r;)e=o[r++],16>e?n.push("0"+e.toString(16)):n.push(e.toString(16));var s=n.join(" ");return s},t.removeAt=function(t,e){t.splice(e,1)},t.fillList=function(t,e,o,r){void 0===r&&(r="id");for(var i=t.readUnsignedInt(),n=0;i>n;n++){var s=new o;s.fromByteArray(t),e.push(s)}},t}();t.ArrayUtils=e,__reflect(e.prototype,"com.utils.ArrayUtils")}(e=t.utils||(t.utils={}))}(com||(com={}));var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,o){function r(r){e.call(o,r,t)}if(RES.hasRes(t)){var i=RES.getRes(t);i?r(i):RES.getResAsync(t,r,this)}else RES.getResByUrl(t,r,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var core;!function(t){var e;!function(e){var o=function(){function e(){}return e.NEW=function(o,r,i){null==e.ObjectPool&&(e.ObjectPool=new t.pool.ObjectPoolList(e));var n=e.ObjectPool.Alloc(e);return n.init(o,r,i),n},e.FREE=function(t){e.ObjectPool.Release(t)},e.prototype.init=function(t,e,o){this.prev=o,this.next=e,this.data=t},e}();e.ListNode=o,__reflect(o.prototype,"core.ds.ListNode")}(e=t.ds||(t.ds={}))}(core||(core={}));var SoundHelper=function(){function t(){}return t.play=function(e,o){void 0===o&&(o=1);var r=PqResMgr.getSound(e);if(!r)return void console.log(e+" no find");if(0>=o)this.playList.push({name:e,c:t.useSound&&t.musicEff?r.play(0,o):null,s:r});else if(t.useSound){if(!t.soundEff)return;r.play(0,o)}},t.pause=function(t){void 0===t&&(t=null);for(var e=0;e<this.playList.length;e++)t?this.playList[e].name==t&&this.playList[e].c&&this.playList[e].c.stop():this.playList[e].c.stop()},t.unpause=function(){for(var t=0;t<this.playList.length;t++)name?this.playList[t].name==name&&this.playList[t].c.unpause():this.playList[t].c.unpause()},t.setSoundEff=function(e){t.soundEff=e},t.setMusicEff=function(e){t.musicEff=e,t.stopMusic(e)},t.setSound=function(e){t.useSound=e,t.stopMusic(e)},t.stopMusic=function(t){for(var e=0;e<this.playList.length;e++)t?this.playList[e].c=this.playList[e].s.play():this.playList[e].c&&this.playList[e].c.stop()},t.soundDict={},t.playList=[],t.musicEff=!0,t.soundEff=!0,t.useSound=!0,t}();__reflect(SoundHelper.prototype,"SoundHelper");var AppCmd=function(){function t(){}return t.LOGIN="app_cmd_login",t.LOGIN_BY_GOOGLE="app_cmd_login_by_google",t.LOGIN_BY_FACEBOOK="app_cmd_login_by_facebook",t.LOGIN_OUT="app_cmd_login_out",t.LOGIN_RESULT="app_cmd_login_result",t.PAY="app_cmd_pay",t.PAY_QUICKSDK="app_cmd_pay_quickSDK",t.PAY_GOOGLE="app_cmd_pay_google",t.PAY_RESULT="app_cmd_pay_result",t.REPORT_USERINFO="app_cmd_report_userinfo",t.REPORT_CREATE_ROLE_QUICK="app_cmd_report_create_role_quick",t.REPORT_USERINFO_QUICK="app_cmd_report_userinfo_quick",t.PAUSE="app_cmd_pause",t.ONRESUME="app_cmd_onResume",t}();__reflect(AppCmd.prototype,"AppCmd");var FileType=function(){function t(){}return t.VIDEO=".mp4",t.SOUND=".mp3",t.PNG=".png",t.JPsG=".jpg",t}();__reflect(FileType.prototype,"FileType");var GameConfig=function(){function t(){}return t.CUR_PLATFORM_ID=protocols.fields.PlatformType.PLATFORM_TYPE_MU_ZHI8,t.GAME_SERVER_IP="192.168.0.82",t.GAME_SERVER_PORT=1e4,t.VIDEO_URL="video.20love.com/meat",t.VOICE_URL="video.20love.com/",t.PAY_KEY="JKHDSKJF*Y*%$#*&Y",t.CREATE_PAY="http://120.132.17.138:8091/gameclient/create_pay",t.PAY_API="120.132.17.138:8091/3rd_android/muzhi8/confirm_pay",t.WEBSERVER_API_HOST="http://192.168.0.8:8091",t.SERVER_URL_PATH=t.WEBSERVER_API_HOST+"/gameclient/servers?pid=1",t.CREATE_PAY_ORDER=t.WEBSERVER_API_HOST+"/gameclient/create_pay",t}();__reflect(GameConfig.prototype,"GameConfig");var LoadCmd=function(){function t(){}return t.LOAD_CONFIG="load_config",t.LOAD_SKIN="load_skin",t.LOAD_GROUP_RES="load_group_res",t.LOAD_CONFIG_COMPLETE="load_config_complete",t.LOAD_SKIN_COMPLETE="load_skin_complete",t.LOAD_GROUP_COMPLETE="load_group_complete",t.LOAD_GROUP_PROGRESS="load_group_progress",t}();__reflect(LoadCmd.prototype,"LoadCmd");var PFConfig=function(){function t(){}return t.init=function(){this._socketHostList.push(this._baseHost),this._portList.push(11003),this._pidList.push(1),this._sidList.push(1),this._socketHostList.push(this._baseHost),this._portList.push(11003),this._pidList.push(2),this._sidList.push(1),this._socketHostList.push(this._baseHost),this._portList.push(11004),this._pidList.push(5),this._sidList.push(1),this._socketHostList.push(this._baseHost),this._portList.push(11005),this._pidList.push(1),this._sidList.push(1),this._socketHostList.push("ws://161.117.36.105"),this._portList.push(11001),this._pidList.push(3),this._sidList.push(1),this._socketHostList.push(this._baseHost),this._portList.push(11007),this._pidList.push(4),this._sidList.push(3),this._socketHostList.push("ws://161.117.36.105"),this._portList.push(11002),this._pidList.push(3),this._sidList.push(2),this._socketHostList.push(this._baseHost),this._portList.push(11008),this._pidList.push(6),this._sidList.push(4),this._isInit=!0},t.getSocketUrl=function(){return this._isInit||this.init(),this._socketHostList[platform.getPfId()]+":"+this._portList[platform.getPfId()]},t.getPid=function(){return this._isInit||this.init(),this._pidList[platform.getPfId()]},t.getSid=function(){return this._isInit||this.init(),this._sidList[platform.getPfId()]},t.PF_DEBUG=-2,t.PF_LOCAL=-1,t.PF_TEST=0,t.PF_CJ=1,t.PF_WX=2,t.PF_TT=3,t.PF_MD=4,t.PF_QK=5,t.PF_LAJ=6,t.PF_YH=7,t._baseHost="ws://120.132.17.138",t._basePort=3e3,t._portList=[],t._sidList=[],t._pidList=[],t._socketHostList=[],t._isInit=!1,t}();__reflect(PFConfig.prototype,"PFConfig");var ResPath=function(){function t(){}return t.resRoot="resource/",t.resConfig="default.res.json",t.skinConfig="default.thm.json",t}();__reflect(ResPath.prototype,"ResPath");var SDKConfig=function(){function t(){}return t.PAY_KEY="JKHDSKJF*Y*%$#*&Y",t.CREATE_PAY="http://120.132.17.138:8091/gameclient/create_pay",t.PAY_API="120.132.17.138:8091/3rd_android/muzhi8/confirm_pay",t.WEBSERVER_API_HOST="http://192.168.0.8:8091",t.SERVER_URL_PATH=t.WEBSERVER_API_HOST+"/gameclient/servers?pid=1",t.CREATE_PAY_ORDER=t.WEBSERVER_API_HOST+"/gameclient/create_pay",t}();__reflect(SDKConfig.prototype,"SDKConfig");var SysCmd=function(){function t(){}return t.ADD_TO_STAGE="add_to_stage",t.REMOVE_FROM_STAGE="remove_from_stage",t.RESIZE="stage_resize",t.SOCKET_CONNECTED="socket_connected",t.SOCKET_HEART_START="socket_heart_start",t.SOCKET_CLOSE="socket_close",t.OBJ_TYPE_OBJECT=0,t.OBJ_TYPE_GLOBALVALUE=1,t.OBJ_TYPE_PLAYER_SETTING=2,t.OBJ_TYPE_MAIL=3,t.OBJ_TYPE_PLAYER=4,t.OBJ_TYPE_PLAYERINFO=5,t.OBJ_TYPE_PLAYERMSG="OBJ_TYPE_PLAYERMSG",t.OBJ_TYPE_SETTING_MSG="OBJ_TYPE_SETTING_MSG",t.KEY_UPDATE="KEY_UPDATE",t.GOLD_UPDATE="GOLD_UPDATE",t.UPDATE_OBJ="update_obj_2008",t}();__reflect(SysCmd.prototype,"SysCmd");var LogMgr=function(){function LogMgr(){this._help="\r\n\n命令  win>0\r\n打开已配置中的第1个窗口\r\n\r\n\n命令  call>Login_show_window\r\n发送Login_show_window消息\r\n\r\n\n命令  conn>127.0.0.1:10000\r\nsocket连接到127.0.0.1:10000\r\n\r\n\n命令  js>alert('a')\r\n执行JS代码\r\n\r\n\n命令  item 1 10\r\n发送GM指令\"\r\n\r\n\n快捷命令:\nconn>0连接卫强的服务器   \nconn>1连接红旗的服务器   \nconn>2连接志全的服务器",this._winList=[LoginCmd.SHOW_WINDOW],this._hostList=["192.168.0.199:10000","192.168.0.82:10000","192.168.0.133:10000"],Log._help=this._help,Log.setGohandler(this.runCmd,this);var t=egret.getOption("host"),e=egret.getOption("port");t&&e?(GameConfig.GAME_SERVER_IP=t,GameConfig.GAME_SERVER_PORT=parseInt(e)):window.location.href.indexOf("192.168.0.82")>-1&&(GameConfig.GAME_SERVER_IP="127.0.0.1",GameConfig.GAME_SERVER_PORT=1e4)}return LogMgr.prototype.runCmd=function(s){if(-1!=s.indexOf("win>")){if(s.substr(4).replace(" ","").length<2){var i=parseInt(s.substr(4).replace(" ",""));EventHelper.call(this._winList[i])}}else if("call>"==s.substr(0,5))EventHelper.call(s.substr(5));else if("cnn"==s.substr(0,5)){s.length<5&&(s="cnn"+this._hostList[parseInt(s.substr(3))]);var ip=s.substr(3,s.indexOf(":")-5),port=parseInt(s.substr(s.indexOf(":")+1));SocketMgr.socket.close(),SocketMgr.conn()}else if("help"==s)Log.txt.text=this._help;else if("js>"==s.substr(0,3))eval(s.substr(3));else{var RqstGmCommod=new protocols.RqstGmCommod(Log.txt.text);SocketMgr.send(RqstGmCommod)}},LogMgr}();__reflect(LogMgr.prototype,"LogMgr");var ArrayUtils=core.utils.ArrayUtils,ByteArray=flash.utils.ByteArray,ParseBin=function(){function t(){this.parse("tpl_bin",getTableClassMap())}return t.prototype.parse=function(t,e){var o=new egret.ByteArray(RES.getRes(t)),r=new ByteArray(o.buffer),i=new Zlib.RawInflate(r.uint8Array),n=i.decompress(),s=new ByteArray(n);s.endian=egret.Endian.BIG_ENDIAN;for(var a=s.readUnsignedShort(),_=0;a>_;_++){var l=s.readUTF(),c=s.readUnsignedInt(),u=e[l];if(null!=u){var p=[];ArrayUtils.fillList(s,p,u),u.vec=p}else s.position+=c}},t}();__reflect(ParseBin.prototype,"ParseBin");var GameGlobal=function(){function t(){}return t.initModule=function(){this.ViewManager=ViewManager.ins(),this.ViewManagerImpl=new ViewManagerImpl(this.ViewManager),this.ViewManager.mViewImpl=this.ViewManagerImpl,this.StageUtils=new StageUtils,this.UpdateService=new UpdateService,this.FiledUpdateMask=new FiledUpdateMask,this.RoleProxy=new RoleProxy,this.SoundManager=new SoundManager,this.UserTips=new UserTips,this.PayController=PayController.ins(),this.DotController=DotController.ins()},t}();__reflect(GameGlobal.prototype,"GameGlobal");var Global=function(){function t(){}return t.initModule=function(){this.ViewManager=ViewManager.ins(),this.ViewManagerImpl=new ViewManagerImpl(this.ViewManager),this.ViewManager.mViewImpl=this.ViewManagerImpl,this.StageUtils=new StageUtils},t}();__reflect(Global.prototype,"Global");var LayerMgr=function(t){function e(){var o=t.call(this)||this;return o.objList=[],o.init=!1,e.self=o,o.addEventListener(egret.Event.ADDED_TO_STAGE,o.addToStage,o),egret.MainContext.instance.stage.addChild(o),o}return __extends(e,t),e.prototype.addToStage=function(t){this.init||(this.init=!0,this.stg=this.stage,this.map=this.createLayer("map"),this.scene=this.createLayer("scene"),this.menu=this.createLayer("menu"),this.win=this.createLayer("win"),this.guide=this.createLayer("top"),this.top=this.createLayer("guide"),this.loading=this.createLayer("loading"),this.layerList=[this.map,this.scene,this.menu,this.win,this.top,this.guide,this.loading],this.addListen(SysCmd.ADD_TO_STAGE,this.show,this),this.addListen(SysCmd.REMOVE_FROM_STAGE,this.remove,this),this.stage.addEventListener(egret.Event.RESIZE,this.resize,this))},e.prototype.createLayer=function(t){var e=new egret.Sprite;return e.name=t,e.touchEnabled=!1,this.addChild(e),e},e.prototype.getLayer=function(t){return this.layerList[t]},e.prototype.show=function(t,e,o,r,i,n,s){void 0===o&&(o=3),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===s&&(s=0),3==o&&(this.curWinName=e.name,this.curWin=e),this.layerList[o].addChild(e),this.setAlign(e)},e.prototype.remove=function(t,e){e&&e.parent&&e.parent&&e.parent.removeChild(e)},e.prototype.keyDown=function(t){},e.prototype.keyUp=function(t){},e.prototype.resize=function(t){var e=this;this.call(SysCmd.RESIZE,t),this.layerList.map(function(t,o){t.$children.map(function(t,o){e.setAlign(t)})})},e.prototype.setAlign=function(t){if(t.ALIGN){var e=t.ALIGN.split(",");"center"==e[0]?t.x=(this.stg.stageWidth-t.width)/2:"right"==e[0]&&(t.x=this.stg.stageWidth-t.width),e[1]&&("center"==e[1]?t.y=(this.stage.stageHeight-t.height)/2:"bottom"==e[1]&&(t.y=this.stage.stageHeight-t.height))}},e}(PqMvc);__reflect(LayerMgr.prototype,"LayerMgr");var LoadMgr=function(t){function e(){var e=t.call(this)||this;return e.loadList=[],e.loadIndex=0,e.registerEvent(),e}return __extends(e,t),e.prototype.registerEvent=function(){this.addListen(LoadCmd.LOAD_CONFIG,this.loadConfig,this),this.addListen(LoadCmd.LOAD_SKIN,this.loadSkin,this),this.addListen(LoadCmd.LOAD_GROUP_RES,this.loadGroup,this)},e.prototype.loadConfig=function(t){RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.groupLoaded,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.loadProgress,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadErr,this),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.configLoaded,this),RES.loadConfig(ResPath.resConfig,ResPath.resRoot),Log.log("正在加载配置...")},e.prototype.loadSkin=function(){Log.log("正在加载皮肤资源...");var t=new eui.Theme(ResPath.resRoot+ResPath.skinConfig,egret.MainContext.instance.stage);t.addEventListener(eui.UIEvent.COMPLETE,this.skinLoaded,this)},e.prototype.loadModule=function(t,e){void 0===e&&(e=null),Log.log("正在加载模块资源..."+e),this.loadList.push(e),1==this.loadList.length&&this.getConfig()},e.prototype.loadGroup=function(t,e,o){void 0===o&&(o=0),Log.log("正在加载资源组..."+name),"string"!=typeof e?(RES.createGroup(e.toString(),e,!0),RES.loadGroup(e.toString())):RES.loadGroup(e,o)},e.prototype.loadProgress=function(t){this.call(LoadCmd.LOAD_GROUP_PROGRESS,t)},e.prototype.onResourceLoadErr=function(t){Log.log("资源加载失败："+JSON.stringify(t.data))},e.prototype.configLoaded=function(t){this.call(LoadCmd.LOAD_CONFIG_COMPLETE),this.loadSkin()},e.prototype.skinLoaded=function(t){this.call(LoadCmd.LOAD_SKIN_COMPLETE)},e.prototype.groupLoaded=function(t){this.call(LoadCmd.LOAD_GROUP_COMPLETE,t)},e.prototype.getConfig=function(){Config.configDict[this.loadList[0]]=RES.getRes(this.loadList[0]);var t=RES.getRes(this.loadList[0]);this.curList=[];for(var e=t.length,o=0;e>o;o++)!t[o].sheet&&t[o].url&&("img"==t[o].category||"res"==t[o].category||"btn"==t[o].category||"sound"==t[o].category)&&this.curList.push(t[o]);this.curList.length>0?this.load():this.loadNextList()},e.prototype.load=function(){var t=this.curList[this.loadIndex].url;RES.getResByUrl(t,this.resLoaded,this,this.curList[this.loadIndex].type)},e.prototype.resLoaded=function(t,e){PqResMgr.dict[e]=t,this.loadIndex+=1,this.loadIndex>=this.curList.length?this.loadNextList():this.load()},e.prototype.loadNextList=function(){this.loadIndex=0,this.call(this.loadList[0]),this.loadList.shift()},e}(PqMvc);__reflect(LoadMgr.prototype,"LoadMgr");var Register=function(){function t(){this.reg()}return t.prototype.reg=function(){new SocketMgr,new LayerMgr,new LogMgr,new LoadMgr,new LoginMgr,new VideoMgr,new MainMgr,new ChaptercompleteMgr,new CreationMgr,new ShopMgr,new CollectionMgr,new ReviewchapterMgr,new StoryendMgr,new DiscountMgr;try{regAppListener()}catch(t){Log.log("regAppEventError:"+t)}},t}();__reflect(Register.prototype,"Register");var DotController=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.callDot=function(t,e){var o="http://120.132.17.138:8092/dot.html",r={pid:PlatformType.PLATFORM_TYPE_MU_ZHI8,sid:PFConfig.getSid(),type:t,uid:GameGlobal.RoleProxy.account,value:e};HttpHelper.get(o,r,this.test,this,null,!1)},e.prototype.test=function(){},e.prototype.quickDot=function(){var t={serverID:PFConfig.getSid().toString(),serverName:"999",gameRoleName:GameGlobal.RoleProxy.userInfo.Name,gameRoleID:GameGlobal.RoleProxy.userInfo.guid.toString2(),gameBalance:GameGlobal.RoleProxy.userInfo.gold,vipLevel:"999",gameUserLevel:"999",partyName:"999",roleCreateTime:(new Date).getTime().toString(),partyId:"999",gameRoleGender:"999",gameRolePower:"999",partyRoleId:"999",partyRoleName:"999",professionId:"999",profession:"999",friendlist:"999"};return t},e}(BaseClass);__reflect(DotController.prototype,"DotController");var flash;!function(t){var e;!function(t){var e=function(){function t(t,e,o,r){void 0===o&&(o=!0),void 0===r&&(r=0/0)}return t.prototype.ctor=function(t,e,o,r){return null},t.prototype.clone=function(){return null},Object.defineProperty(t.prototype,"width",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transparent",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rect",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.getPixel=function(t,e){return null},t.prototype.getPixel32=function(t,e){return null},t.prototype.setPixel=function(t,e,o){return null},t.prototype.setPixel32=function(t,e,o){return null},t.prototype.applyFilter=function(t,e,o,r){return null},t.prototype.colorTransform=function(t,e){return null},t.prototype.compare=function(t){return null},t.prototype.copyChannel=function(t,e,o,r,i){return null},t.prototype.copyPixels=function(t,e,o,r,i,n){return void 0===r&&(r=null),void 0===i&&(i=null),void 0===n&&(n=!1),null},t.prototype.dispose=function(){return null},t.prototype.draw=function(t,e,o,r,i,n){return void 0===e&&(e=null),void 0===o&&(o=null),void 0===r&&(r=null),void 0===i&&(i=null),void 0===n&&(n=!1),null},t.prototype.drawWithQuality=function(t,e,o,r,i,n,s){return void 0===e&&(e=null),void 0===o&&(o=null),void 0===r&&(r=null),void 0===i&&(i=null),void 0===n&&(n=!1),void 0===s&&(s=null),null},t.prototype.fillRect=function(t,e){return null},t.prototype.floodFill=function(t,e,o){return null},t.prototype.generateFilterRect=function(t,e){return null},t.prototype.getColorBoundsRect=function(t,e,o){return void 0===o&&(o=!0),null},t.prototype.getPixels=function(t){return null},t.prototype.copyPixelsToByteArray=function(t,e){return null},t.prototype.getVector=function(t){return null},t.prototype.hitTest=function(t,e,o,r,i){return void 0===r&&(r=null),void 0===i&&(i=1),null},t.prototype.merge=function(t,e,o,r,i,n,s){return null},t.prototype.noise=function(t,e,o,r,i){return void 0===e&&(e=0),void 0===o&&(o=255),void 0===r&&(r=7),void 0===i&&(i=!1),null},t.prototype.paletteMap=function(t,e,o,r,i,n,s){return void 0===r&&(r=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=null),null},t.prototype.perlinNoise=function(t,e,o,r,i,n,s,a,_){return void 0===s&&(s=7),void 0===a&&(a=!1),void 0===_&&(_=null),null},t.prototype.pixelDissolve=function(t,e,o,r,i,n){return void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=0),null},t.prototype.scroll=function(t,e){return null},t.prototype.setPixels=function(t,e){return null},t.prototype.setVector=function(t,e){return null},t.prototype.threshold=function(t,e,o,r,i,n,s,a){return void 0===n&&(n=0),void 0===s&&(s=0/0),void 0===a&&(a=!1),null},t.prototype.lock=function(){return null},t.prototype.unlock=function(t){return void 0===t&&(t=null),null},t.prototype.histogram=function(t){return void 0===t&&(t=null),null},t.prototype.encode=function(t,e,o){return void 0===o&&(o=null),null},t}();t.BitmapData=e,__reflect(e.prototype,"flash.display.BitmapData")}(e=t.display||(t.display={}))}(flash||(flash={}));var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,o,r){function i(t){e.call(r,t)}function n(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,n,null),o.call(r))}var s=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(r,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,o){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(r,generateEUI2)},s)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var a=t.split("/");a.pop();var _=a.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(r,generateJSON.paths[t])},this):RES.getResByUrl(_,function(o){window.JSONParseClass.setData(o),egret.callLater(function(){e.call(r,generateJSON.paths[t])
},s)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(r,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,n,null),RES.getResByUrl(t,i,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var game;!function(t){var e;!function(t){var e=function(){function t(t,e,o,r){this.cls=t,this.blkSize=e,this.strSize=o,this.isBackObj=r}return t}();t.ObjTypeInfo=e,__reflect(e.prototype,"game.objmgr.ObjTypeInfo")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e=function(){function t(){}return t.EV_TYPE_OBJ_ADD="a",t.EV_TYPE_OBJ_REMOVE="r",t.EV_TYPE_LOCATION_UPDATE="l",t.EV_TYPE_OBJ_REST="t",t.EV_TYPE_LIST_CREATE="c",t}();t.OMGEvent=e,__reflect(e.prototype,"game.objmgr.OMGEvent")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return this.m_type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pos",{get:function(){return this.m_pos},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opt",{get:function(){return this.m_opt},enumerable:!0,configurable:!0}),t.prototype.readPacket=function(t){this.m_type=t.readUInt8(),this.m_pos=t.readUInt8(),this.m_opt=t.readUInt8()},t}();t.SlotOpt=e,__reflect(e.prototype,"game.objmgr.SlotOpt")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var ChaptercompleteCmd=function(){function t(){}return t.SHOW_WINDOW="Chaptercomplete_show_window",t.CLOSE_WINDOW="Chaptercomplete_close_window",t.INIT_DATA="Chaptercomplete_init_data",t}();__reflect(ChaptercompleteCmd.prototype,"ChaptercompleteCmd");var TbSpecialChapter=template_def.TbSpecialChapter,ChaptercompleteController=function(t){function e(){var e=t.call(this)||this;return e.starType=0,e.branch=[],e.timeSign2=8e4,e.openFlag=!1,e.discountSign=1403,e.playFlag=!1,e.target=e,e}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case ChaptercompleteCmd.SHOW_WINDOW:this.showWindow();break;case ChaptercompleteCmd.CLOSE_WINDOW:this.closeWindow();case SysCmd.GOLD_UPDATE:this.updateMsg();break;case SysCmd.KEY_UPDATE:this.updateMsg();break;case VideoCmd.VIDEO_EXIT:if(GameGlobal.RoleProxy.isMemory)return;GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CAI_DAN_MARK)&&ViewManager.ins().isShow(ChaptercompleteUi)&&(this.ui.caidan.visible=!1,this.ui.tipGroup.visible=!1),this.extraVideo()}},e.prototype.updateMsg=function(){this.ui&&(this.ui.gold.text=GameGlobal.RoleProxy.Gold,this.ui.key.text=GameGlobal.RoleProxy.Key+"/"+TbGameSet.getTmplt(3).value1)},e.prototype.initUi=function(){this.ui.videoImg.mask=this.ui.mask2,this.ui.videoImg2.mask=this.ui.mask3,this.openFlag=!0,this.playFlag=!0,this.AddClick(this.ui.setBtn,this.btnClick),this.AddClick(this.ui.keyGroup,this.btnClick),this.AddClick(this.ui.goldGroup,this.btnClick),this.AddClick(this.ui.goldBtn,this.btnClick),this.AddClick(this.ui.keyBtn,this.btnClick),this.AddClick(this.ui.videoBtn,this.btnClick),this.AddClick(this.ui.goGroup,this.btnClick),this.AddClick(this.ui.replayBtn,this.btnClick),this.AddClick(this.ui.videoGroup,this.btnClick),this.AddClick(this.ui.caidan,this.btnClick),this.AddClick(this.ui.discountBtn,this.btnClick),this.pxy=this.getProxy(ChaptercompleteProxy.NAME),GameGlobal.DotController.callDot(TbDot.getTmplt(16).ID,TbDot.getTmplt(16).record+this.pxy.chapterData().length),GameGlobal.DotController.callDot(TbDot.getTmplt(15).ID,TbDot.getTmplt(15).record+GameGlobal.RoleProxy.userInfo.chapter),this.updateMsg(),this.setContent(),this.txtAniEff(),this.extraVideo(),this.showEgg(),this.showDiscount(),this.discountSign=egret.setInterval(this.showDiscount,this,1e3)},e.prototype.showDiscount=function(){if(GameGlobal.RoleProxy.settingVo.firstLimitBuy)if(GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_LIMIT_BUY))GameGlobal.RoleProxy.userInfo.limitBuyCount<3?(this.ui.discountBtn.visible=!0,this.ui.discountBtn.time.visible=!1,GameGlobal.RoleProxy.userInfo.getDailyMark(PlayerDailySetDef.DAILY_MARK_IS_OPEN_TEHUI)?this.ui.discountBtn.state.visible=!1:this.ui.discountBtn.state.visible=!0):(this.ui.discountBtn.visible=!1,egret.clearInterval(this.discountSign));else{var t=GameGlobal.RoleProxy.settingVo.teHuiFirstTime+TbGameSet.getTmplt(10).value1-Math.floor((new Date).getTime()/1e3);t>0?(this.ui.discountBtn.visible=!0,this.ui.discountBtn.time.text=DateUtils.format_1(1e3*t)):(this.ui.discountBtn.visible=!1,egret.clearInterval(this.discountSign))}},e.prototype.showEgg=function(){return GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CAI_DAN_MARK)?void(this.ui.caidan.visible=!1):(this.ui.xxBg.mask=this.ui.xx,egret.Tween.get(this.ui.xxBg,{loop:!0}).to({rotation:-5},1e3).to({rotation:5},1e3),this.ui.xxBg.y=145-GameGlobal.RoleProxy.Haogan/TbGameSet.getTmplt(9).value1*65,this.ui.count.text=GameGlobal.RoleProxy.Haogan+"/"+TbGameSet.getTmplt(9).value1,void(GameGlobal.RoleProxy.Haogan>=TbGameSet.getTmplt(9).value1&&(this.ui.tipGroup.visible=!0,egret.Tween.get(this.ui.tipGroup,{loop:!0}).to({alpha:1},500).to({alpha:1},2e3).to({alpha:0},500).to({alpha:0},5e3))))},e.prototype.txtAniEff=function(){this.ui.videoGroup.touchEnabled=!1,egret.Tween.get(this.ui.person,{loop:!1}).to({horizontalCenter:-225},350),egret.Tween.get(this.ui.complete,{loop:!1}).to({scaleX:2.8,scaleY:2.8},400).to({scaleX:1,scaleY:1},200).call(function(){egret.Tween.get(this.ui.endBg,{loop:!1}).to({alpha:1},350)},this),egret.setTimeout(function(){egret.Tween.get(this.ui.titleNum,{loop:!1}).to({alpha:1},350)},this,1500),egret.setTimeout(function(){egret.Tween.get(this.ui.txtGroup,{loop:!1}).to({alpha:0},1e3).call(function(){this.ui.txtGroup.visible=!1,this.ui.selectGroup.visible=!0,0!=TbChapter.getTmplt(GameGlobal.RoleProxy.userInfo.chapter).branch_num?this.ui.selectSC.visible=!0:this.ui.zhixian.text="支线：无",this.selectAniEff()},this)},this,1750+700*TbChapter.getTmplt(GameGlobal.RoleProxy.userInfo.chapter).arr_chapter_over_desc.length+500)},e.prototype.selectAniEff=function(){egret.setTimeout(function(){0!=TbChapter.getTmplt(GameGlobal.RoleProxy.userInfo.chapter).branch_num&&(this.ui.selectList.dataProvider=new eui.ArrayCollection(this.branch))},this,1e3),egret.Tween.get(this.ui.title,{loop:!1}).to({x:17},350).call(function(){this.recordNum()==this.branch.length&&(0!=TbChapter.getTmplt(GameGlobal.RoleProxy.userInfo.chapter).branch_num&&(this.ui.perfect.visible=!0),egret.Tween.get(this.ui.perfect,{loop:!1}).to({scaleX:2.8,scaleY:2.8},300).to({scaleX:1,scaleY:1},100)),egret.Tween.get(this.ui.zhixian,{loop:!1}).to({alpha:1},350)},this),egret.setTimeout(function(){egret.Tween.get(this.ui.goGroup,{loop:!1}).to({x:370},350).call(function(){egret.Tween.get(this.ui.record,{loop:!1}).to({x:416},350).call(function(){egret.Tween.get(this.ui.replayBtn,{loop:!1}).to({x:370},350)},this)},this)},this,1e3+350*this.branch.length)},e.prototype.setContent=function(){var t=TbChapter.getTmplt(GameGlobal.RoleProxy.userInfo.chapter);this.ui.titleNum.text=t.chapter_num,this.ui.titleNum2.text=t.chapter_num,this.ui.person.source=t.chapter_over_pic;for(var e=[],o=0;o<t.arr_chapter_over_desc.length;o++){var r={index:o,desc:t.arr_chapter_over_desc[o]};e.push(r)}egret.setTimeout(function(){this.ui.txtList.dataProvider=new eui.ArrayCollection(e)},this,1750),egret.setTimeout(function(){this.ui.txtGroup.visible=!1,this.ui.selectGroup.visible=!0,0!=TbChapter.getTmplt(GameGlobal.RoleProxy.userInfo.chapter).branch_num?this.ui.selectSC.visible=!0:this.ui.zhixian.text="支线：无",this.ui.videoGroup.touchEnabled=!0},this,1750+500*e.length+2e3),this.ui.title.text="-"+t.chapter_name,this.ui.keyCost.text=t.cost_key_num+"",this.branch=[];for(var o=0;o<t.arr_branch_desc.length;o++){var r={index:o,desc:t.arr_branch_desc[o],ID:t.ID,storyid:t.arr_branch_to_story_id[o]};this.branch.push(r)}this.ui.record.text="完美通关："+this.recordNum()+"/"+t.arr_branch_desc.length},e.prototype.recordNum=function(){for(var t=0,e=0;e<this.branch.length;e++)0!=GameGlobal.RoleProxy.userInfo.getChoseStoryId(this.branch[e].ID-1,e)&&t++;return t},e.prototype.playExtralAni=function(){var t=DragonHelper.createdb("fanwaipian_dh","Armature");t.animation.play("newAnimation"),t.x=300,t.y=-40,t.touchEnabled=!1,this.ui.dbGroup.addChild(t)},e.prototype.extraVideo=function(){if(this.openFlag)if(this.timeSign2&&egret.clearInterval(this.timeSign2),0==this.pxy.extraVideos().length)this.ui.videoGroup.visible=!1,this.ui.videoBg.visible=!1,this.ui.dbGroup.visible=!1;else{this.playFlag&&(this.playExtralAni(),this.playFlag=!1),this.ui.videoImg.source=this.pxy.extraVideos()[0].banner_pic,this.ui.videoImg.x=14,this.ui.videoImg2.x=646,this.curVideoData=this.pxy.extraVideos()[0];var t=0,e=!1;if(1==this.pxy.extraVideos().length)return;this.timeSign2=egret.setInterval(function(){t++;var o=this.pxy.extraVideos();t<this.pxy.extraVideos().length?this.curVideoData=o[t]:(t=0,this.curVideoData=o[t]),e?(this.ui.videoImg.source=o[t].banner_pic,egret.Tween.get(this.ui.videoImg,{loop:!1}).to({x:14},300),egret.Tween.get(this.ui.videoImg2,{loop:!1}).to({x:-700},300).call(function(){this.ui.videoImg2.x=646},this),e=!1):(this.ui.videoImg2.source=o[t].banner_pic,egret.Tween.get(this.ui.videoImg2,{loop:!1}).to({x:14},300),egret.Tween.get(this.ui.videoImg,{loop:!1}).to({x:-700},300).call(function(){this.ui.videoImg.x=646},this),e=!0)},this,3e3)}},e.prototype.showWindow=function(){this.ui=ViewManager.ins().open(ChaptercompleteUi),this.initUi()},e.prototype.closeWindow=function(){ViewManager.ins().isShow(ChaptercompleteUi)&&(egret.clearInterval(this.timeSign2),egret.clearInterval(this.discountSign),ViewManager.ins().close(ChaptercompleteUi),this.ui.timeSign2&&egret.clearInterval(this.ui.timeSign2))},e.prototype.btnClick=function(t){switch(t.currentTarget){case this.ui.setBtn:ViewManager.ins().open(SetPanel);break;case this.ui.keyGroup:EventHelper.call(ShopCmd.SHOW_WINDOW,0);break;case this.ui.goldGroup:EventHelper.call(ShopCmd.SHOW_WINDOW,1);break;case this.ui.goldBtn:EventHelper.call(ShopCmd.SHOW_WINDOW,1);break;case this.ui.keyBtn:EventHelper.call(ShopCmd.SHOW_WINDOW,0);break;case this.ui.videoBtn:EventHelper.call(CollectionCmd.SHOW_WINDOW);break;case this.ui.discountBtn:EventHelper.call(DiscountCmd.SHOW_WINDOW);break;case this.ui.caidan:if(GameGlobal.RoleProxy.Haogan>=TbGameSet.getTmplt(9).value1&&!GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CAI_DAN_MARK)){this.pxy.caidanVideos();var e=TbGameSet.getTmplt(9).arr_value2[0];return GameGlobal.SoundManager.isBgVoice=!1,GameGlobal.RoleProxy.isPlayVideo=!0,GameGlobal.SoundManager.channel&&(GameGlobal.SoundManager.channel.volume=0),void EventHelper.call(VideoCmd.LOAD_VIDEO,{url:e,noBack:!platform.isDebug()})}if(this.ui.count.visible)return;this.ui.count.visible=!0,this.ui.count.alpha=1,egret.setTimeout(function(){egret.Tween.get(this.ui.count,{loop:!1}).to({alpha:0},1e3).call(function(){this.ui.count.visible=!1},this)},this,2e3);break;case this.ui.goGroup:this.continuePlay();break;case this.ui.replayBtn:EventHelper.call(ReviewchapterCmd.SHOW_WINDOW);break;case this.ui.videoGroup:if(!this.ui.videoGroup.touchEnabled)return;GameGlobal.SoundManager.SetBgOn(!1),GameGlobal.RoleProxy.isExtraVideo=!0,GameGlobal.SoundManager.isBgVoice=!1,GameGlobal.RoleProxy.isPlayVideo=!0,GameGlobal.RoleProxy.isMemory=!1,GameGlobal.SoundManager.channel&&(GameGlobal.SoundManager.channel.volume=0);var o=this.curVideoData.free_video;EventHelper.call(VideoCmd.LOAD_VIDEO,{url:o,noBack:!platform.isDebug()}),egret.clearInterval(this.timeSign2),ViewManager.ins().open(ExtraVideoView,this.curVideoData)}GameGlobal.SoundManager.PlayEffect("click_mp3")},e.prototype.continuePlay=function(){return GameGlobal.RoleProxy.userInfo.chapter==TbChapter.getTb().length?void EventHelper.call(StoryendCmd.SHOW_WINDOW):void(GameGlobal.RoleProxy.Key>=TbChapter.getTmplt(GameGlobal.RoleProxy.userInfo.chapter).cost_key_num?(this.pxy.startNewChapter(GameGlobal.RoleProxy.userInfo.chapter+1),GameGlobal.RoleProxy.isBegin=!0,EventHelper.call(ChaptercompleteCmd.CLOSE_WINDOW)):(GameGlobal.RoleProxy.isEnough=!0,EventHelper.call(ShopCmd.SHOW_WINDOW,0),UserTips.ins().showTips("钥匙不足!无法开启新章节")))},e.NAME="ChaptercompleteController",e}(BaseCtr);__reflect(ChaptercompleteController.prototype,"ChaptercompleteController");var ChaptercompleteMgr=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.start=function(){this.isStart||(this.regProxy(ChaptercompleteProxy.NAME,new ChaptercompleteProxy),this.regController(ChaptercompleteController.NAME,new ChaptercompleteController),this.isStart=!0)},Object.defineProperty(e.prototype,"EventList",{get:function(){return[ChaptercompleteCmd.SHOW_WINDOW,ChaptercompleteCmd.CLOSE_WINDOW,ChaptercompleteCmd.INIT_DATA,SysCmd.GOLD_UPDATE,SysCmd.KEY_UPDATE,VideoCmd.VIDEO_EXIT]},enumerable:!0,configurable:!0}),e.prototype.execute=function(t,e){switch(void 0===e&&(e=null),t){case ChaptercompleteCmd.INIT_DATA:this.proxy(ChaptercompleteProxy.NAME,e,t);break;default:this.control(ChaptercompleteController.NAME,e,t)}},e}(BaseMgr);__reflect(ChaptercompleteMgr.prototype,"ChaptercompleteMgr");var ChaptercompleteProxy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case ChaptercompleteCmd.INIT_DATA:this.initData();break;case SysCmd.KEY_UPDATE:this.initData();break;case SysCmd.GOLD_UPDATE:this.initData()}},e.prototype.initData=function(){},e.prototype.startNewChapter=function(t){this.sendPacket(protocols.RqstChapterUnlock,t)},e.prototype.extraVideos=function(){for(var t=[],e=[],o=0;o<TbChapter.getTb().length;o++)GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CHAPTER_CROSS+TbChapter.getTb()[o].ID-1)&&e.push(TbChapter.getTb()[o]);for(var o=0;o<TbSpecialChapter.getTb().length;o++)TbSpecialChapter.getTb()[o].unlock_chapter_id<=e.length&&(GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_SPECIAL_CHAPTER_CROSS+TbSpecialChapter.getTb()[o].ID-1)||t.push(TbSpecialChapter.getTb()[o]));var r=SortTools.sortMap(t,"ID",!1);return r},e.prototype.caidanVideos=function(){this.sendPacket(protocols.RqstCaiDanVideo)},e.prototype.chapterData=function(){for(var t=[],e=0;e<TbChapter.getTb().length;e++)if(GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CHAPTER_CROSS+e)){var o="isNew",r=!1;TbChapter.getTb()[e][o]=r,t.push(TbChapter.getTb()[e])}if(t.length!=TbChapter.getTb().length){var o="isNew",r=!0;TbChapter.getTb()[t.length][o]=r,t.push(TbChapter.getTb()[t.length])}return t},e.NAME="ChaptercompleteProxy",e}(BaseProxy);__reflect(ChaptercompleteProxy.prototype,"ChaptercompleteProxy");var ChaptercompleteUi=function(t){function e(){var e=t.call(this)||this;return e.timeSign=601,e.skinName="PlotEndSkin",e.txtList.itemRenderer=ChapterTxtItem,e.selectList.itemRenderer=ChapterSelectItem,e.starEff(),e.timeSign&&egret.clearInterval(e.timeSign),e.timeSign=egret.setInterval(e.keyEff,e,3e3),e.title.fontFamily="myfont",e.titleNum2.fontFamily="myfont",e.titleNum.fontFamily="myfont",e.collectEff(),e.caidanEff(),e}return __extends(e,t),e.prototype.keyEff=function(){egret.Tween.get(this.keyImg,{loop:!1}).to({rotation:15},50).to({rotation:-15},100).to({rotation:0},50)},e.prototype.starEff=function(){var t=DragonHelper.createdb("xingxing","Armature");t.animation.play("newAnimation"),t.x=this.width/2,t.y=this.height/2,this.bgGroup.addChild(t)},e.prototype.collectEff=function(){var t=DragonHelper.createdb("zhencang_dh","Armature");t.animation.play("newAnimation"),t.x=0,t.y=0,this.videoBtn.addChild(t)},e.prototype.caidanEff=function(){var t=DragonHelper.createdb("aixinbowei","Armature");t.animation.play("newAnimation",1),t.x=57,t.y=48,t.scaleX=1,t.scaleY=1,t.touchEnabled=!1,this.caidan.addChild(t);var o=9500;o=egret.setInterval(function(){t.animation.play("newAnimation",1),ViewManager.ins().isShow(e)||egret.clearInterval(o)},this,5e3)},e.LAYER_LEVEL=LayerManager.UI_Popup,e}(BaseEuiView);__reflect(ChaptercompleteUi.prototype,"ChaptercompleteUi");var ChapterTxtItem=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.dataChanged=function(){var t,e=this.data;e.desc&&(t=e.desc.replace(/\"/g,"")),this.content.text=t,egret.setTimeout(function(){egret.Tween.get(this.content,{loop:!1}).to({alpha:1},350)},this,700*e.index+10)},e}(eui.ItemRenderer);__reflect(ChapterTxtItem.prototype,"ChapterTxtItem");var ChapterSelectItem=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.dataChanged=function(){var t,e=this.data;switch(e.desc&&(t=e.desc.replace(/\"/g,"")),this.content.text=t+"(未达成)",egret.setTimeout(function(){egret.Tween.get(this.group,{loop:!1}).to({x:0},350)},this,350*e.index+10),e.index){case e.index:if(e.ID)for(var o=0;o<TbChapter.getTmplt(e.ID).branch_num;o++)GameGlobal.RoleProxy.userInfo.getChoseStoryId(e.ID-1,o)==e.storyid&&(this.select.visible=!0,this.content.text=t)}},e}(eui.ItemRenderer);__reflect(ChapterSelectItem.prototype,"ChapterSelectItem");var CollectionCmd=function(){function t(){}return t.SHOW_WINDOW="Collection_show_window",t.CLOSE_WINDOW="Collection_close_window",t.INIT_DATA="Collection_init_data",t.UNLOCK_PIC="Collection_UNLOCK_PIC",t.UNLOCK_VIDEO="Collection_UNLOCK_VIDEO",t.LOOK_PIC="Collection_LOOK_PIC",t.LOOK_VIDEO="Collection_LOOK_VIDEO",t.UPDATE_DATA="Collection_update_data",t}();__reflect(CollectionCmd.prototype,"CollectionCmd");var CollectionController=function(t){function e(){var e=t.call(this)||this;return e.target=e,e}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case CollectionCmd.SHOW_WINDOW:this.showWindow();break;case CollectionCmd.CLOSE_WINDOW:this.closeWindow();break;case CollectionCmd.LOOK_PIC:this.ui.showPic(t);break;case CollectionCmd.LOOK_VIDEO:GameGlobal.SoundManager.SetBgOn(!1),GameGlobal.SoundManager.isBgVoice=!1,GameGlobal.RoleProxy.isMemory=!0,GameGlobal.RoleProxy.isPlayVideo=!0,GameGlobal.RoleProxy.isExtraVideo=!1,GameGlobal.SoundManager.channel&&(GameGlobal.SoundManager.channel.volume=0),EventHelper.call(VideoCmd.LOAD_VIDEO,{url:t,noBack:!1});break;case CollectionCmd.UPDATE_DATA:this.ui.updateData(t)}},e.prototype.initUi=function(){this.AddClick(this.ui.tab0,this.click),this.AddClick(this.ui.tab1,this.click),this.AddClick(this.ui.btnClose,this.click),this.AddClick(this.ui.img,this.click),GameGlobal.DotController.callDot(TbDot.getTmplt(24).ID,1),this.pxy=this.getProxy(CollectionProxy.NAME),this.ui.tab1.currentState="selected",this.ui.tab0.currentState="up"},e.prototype.showWindow=function(){this.ui=ViewManager.ins().open(CollectionUi),this.initUi(),this.ui.bindData(1)},e.prototype.closeWindow=function(){ViewManager.ins().close(CollectionUi)},e.prototype.click=function(t){switch(t.currentTarget){case this.ui.tab0:this.ui.tab0.currentState="selected",this.ui.tab1.currentState="up",this.ui.sc.visible=!0,this.ui.sc2.visible=!1,this.ui.bindData();break;case this.ui.tab1:this.ui.tab1.currentState="selected",this.ui.tab0.currentState="up",this.ui.sc.visible=!1,this.ui.sc2.visible=!0,this.ui.bindData(1);break;case this.ui.btnClose:this.closeWindow();break;case this.ui.img:this.ui.hidePic()}GameGlobal.SoundManager.PlayEffect("click_mp3")},e.NAME="CollectionController",e}(BaseCtr);__reflect(CollectionController.prototype,"CollectionController");var CollectionItem=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.click,this),this.price.font=RES.getRes("gameNum2")},e.prototype.dataChanged=function(){this.price.text=this.data.cost,this.data.unlock?this.img.source=this.data.pic_s2||this.data.video_name:this.img.source=this.data.pic_s||this.data.video_name,this.lockIcon.visible=!this.data.unlock,this.videoIcon.visible=this.data.type,this.priceBox.visible=!this.data.unlock,1==this.data.type?this.imgMask.visible=!this.data.unlock:this.imgMask.visible=!1},e.prototype.click=function(t){GameGlobal.SoundManager.PlayEffect("click_mp3"),this.data.type?this.data.unlock?EventHelper.call(CollectionCmd.LOOK_VIDEO,this.data.video_name):GameGlobal.RoleProxy.userInfo.gold>=this.data.cost?(GameGlobal.DotController.callDot(TbDot.getTmplt(25).ID,TbDot.getTmplt(25).record+this.data.ID),EventHelper.call(CollectionCmd.UNLOCK_VIDEO,this.data.ID)):(GameGlobal.RoleProxy.isEnough=!0,EventHelper.call(ShopCmd.SHOW_WINDOW,1),UserTips.ins().showTips("钻石不足")):this.data.unlock?EventHelper.call(CollectionCmd.LOOK_PIC,this.data.pic_name):GameGlobal.RoleProxy.userInfo.gold>=this.data.cost?(GameGlobal.DotController.callDot(TbDot.getTmplt(26).ID,TbDot.getTmplt(26).record+this.data.ID),EventHelper.call(CollectionCmd.UNLOCK_PIC,this.data.ID)):(GameGlobal.RoleProxy.isEnough=!0,EventHelper.call(ShopCmd.SHOW_WINDOW,1),UserTips.ins().showTips("钻石不足"))},e}(eui.ItemRenderer);__reflect(CollectionItem.prototype,"CollectionItem");var CollectionMgr=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.start=function(){this.isStart||(this.regProxy(CollectionProxy.NAME,new CollectionProxy),this.regController(CollectionController.NAME,new CollectionController),this.isStart=!0)},Object.defineProperty(e.prototype,"EventList",{get:function(){return[CollectionCmd.SHOW_WINDOW,CollectionCmd.CLOSE_WINDOW,CollectionCmd.INIT_DATA,CollectionCmd.UNLOCK_PIC,CollectionCmd.UNLOCK_VIDEO,CollectionCmd.LOOK_PIC,CollectionCmd.LOOK_VIDEO,CollectionCmd.UPDATE_DATA,SysCmd.UPDATE_OBJ]},enumerable:!0,configurable:!0}),e.prototype.execute=function(t,e){switch(void 0===e&&(e=null),t){case CollectionCmd.INIT_DATA:case CollectionCmd.UNLOCK_PIC:case CollectionCmd.UNLOCK_VIDEO:case SysCmd.UPDATE_OBJ:this.proxy(CollectionProxy.NAME,e,t);break;default:this.control(CollectionController.NAME,e,t)}},e}(BaseMgr);__reflect(CollectionMgr.prototype,"CollectionMgr");var CollectionProxy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case CollectionCmd.INIT_DATA:break;case CollectionCmd.UNLOCK_PIC:this._param=t,this._pos=PlayerBiteSetDef.PLAYER_BIT_PIC_UNLOCK+t-1,this.sendPacket(protocols.RqstPicUnlock,t);break;case CollectionCmd.UNLOCK_VIDEO:this._param=t,this._pos=PlayerBiteSetDef.PLAYER_BIT_VIDEO_UNLOCK+t-1,this.sendPacket(protocols.RqstVideoUnlock,t);break;case SysCmd.UPDATE_OBJ:this.update(t)}},e.prototype.update=function(t){if(this._param){var e=t.bakObj,o=t.getMark(this._pos),r=e.getMark(this._pos);o!=r&&(this.call(CollectionCmd.UPDATE_DATA,this._param),this._param=null)}},e.NAME="CollectionProxy",e}(BaseProxy);__reflect(CollectionProxy.prototype,"CollectionProxy");var TbCollectVideo=template_def.TbCollectVideo,TbCollectPic=template_def.TbCollectPic,PlayerBiteSetDef=protocols.fields.PlayerBiteSetDef,CollectionUi=function(t){function e(){var e=t.call(this)||this;e.skinName="CollectionSkin",egret.Tween.get(e.girl,{loop:!1}).to({x:0},300),egret.Tween.get(e.txtImg,{loop:!1}).to({x:300},260),egret.Tween.get(e.body,{loop:!1}).to({alpha:1},500);var o=DragonHelper.createdb("sc_shan","Armature");return o.animation.play("newAnimation"),o.x=320,o.y=380,e.dbGroup2.addChild(o),e.list.itemRenderer=CollectionItem,e.list.dataProvider=null,e.list2.itemRenderer=CollectionItem,e.list2.dataProvider=null,e}return __extends(e,t),e.prototype.addToStage=function(t){},e.prototype.bindData=function(t){void 0===t&&(t=0);var e=[],o=[];if(this.data=[],0==t){for(var r=SortTools.sortMap(TbCollectPic.getTb(),"rank_id",!0),i=0;i<r.length;i++)0!=r[i].rank_id&&e.push(r[i]);for(var n=0;n<e.length;n++)e[n].unlock_chapter_id<=this.chapterData().length&&o.push(e[n])}else if(1==t){for(var r=SortTools.sortMap(TbCollectVideo.getTb(),"rank_id",!0),s=0;s<r.length;s++)0!=r[s].rank_id&&e.push(r[s]);for(var a=0;a<e.length;a++)if(0==e[a].v_type)e[a].c_id<=this.chapterData().length&&o.push(e[a]);else if(1==e[a].v_type){if(e[a].c_id<=this.chapterData().length)for(var _=e[a].c_id,l=0;l<TbChapter.getTmplt(_).branch_num;l++)GameGlobal.RoleProxy.userInfo.getChoseStoryId(_-1,l)==e[a].para&&o.push(e[a])}else 2==e[a].v_type?GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_SPECIAL_CHAPTER_CROSS+e[a].para-1)&&o.push(e[a]):3==e[a].v_type&&GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CAI_DAN_MARK)&&o.push(e[a])}for(var c=0;c<o.length;c++)o[c].index=c;for(var u=0;u<o.length;u++)if(this.data.push(o[u]),0!=this.data[u].cost){this.data[u].type=t;var p=void 0;p=0==t?GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_PIC_UNLOCK+this.data[u].ID-1):GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_VIDEO_UNLOCK+this.data[u].ID-1),this.data[u].unlock=p}else this.data[u].type=t,this.data[u].unlock=!0;0==t?this.list.dataProvider?this.list.dataProvider.replaceAll(this.data):this.list.dataProvider=new eui.ArrayCollection(this.data):this.list2.dataProvider?this.list2.dataProvider.replaceAll(this.data):this.list2.dataProvider=new eui.ArrayCollection(this.data)},e.prototype.updateData=function(t){for(var e=0;e<this.data.length;e++)this.data[e].ID==t&&(this.data[e].unlock=!0);0==this.data[0].type?this.list.dataProvider&&this.list.dataProvider.replaceAll(this.data):this.list2.dataProvider&&this.list2.dataProvider.replaceAll(this.data)},e.prototype.showPic=function(t){this.img.source=t,this.img.visible=!0,TweenLite.to(this.img,400,{alpha:1,scaleX:1,scaleY:1})},e.prototype.hidePic=function(){var t=this;TweenLite.to(this.img,300,{alpha:0,onComplete:function(){t.img.visible=!1,t.img.scaleX=0,t.img.scaleY=0},target:this})},e.prototype.chapterData=function(){for(var t=[],e=0;e<TbChapter.getTb().length;e++)GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CHAPTER_CROSS+e)&&t.push(TbChapter.getTb()[e]);return t},e.LAYER_LEVEL=LayerManager.UI_Popup,e}(BaseEuiView);__reflect(CollectionUi.prototype,"CollectionUi");var CreationCmd=function(){function t(){}return t.SHOW_WINDOW="Creation_show_window",t.CLOSE_WINDOW="Creation_close_window",t.INIT_DATA="Creation_init_data",t}();__reflect(CreationCmd.prototype,"CreationCmd");var TbRoom=template_def.TbRandomName,TbDot=template_def.TbDot,CreationController=function(t){function e(){var e=t.call(this)||this;return e.starType=0,e.target=e,e}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case CreationCmd.SHOW_WINDOW:this.showWindow();break;case CreationCmd.CLOSE_WINDOW:this.closeWindow()}},e.prototype.initUi=function(){this.AddClick(this.ui.suiJiBtn,this.btnClick),this.AddClick(this.ui.queDingBtn,this.btnClick),this.pxy=this.getProxy(CreationProxy.NAME),this.ui.userName.text=TbRoom.getTb()[Math.floor(Math.random()*TbRoom.getTb().length)].xing+TbRoom.getTb()[Math.floor(Math.random()*TbRoom.getTb().length)].ming},e.prototype.showWindow=function(){this.ui=ViewManager.ins().open(CreationUi),this.initUi(),GameGlobal.DotController.callDot(TbDot.getTmplt(1).ID,TbDot.getTmplt(1).record)},e.prototype.closeWindow=function(){ViewManager.ins().close(CreationUi)},e.prototype.btnClick=function(t){switch(t.currentTarget){case this.ui.suiJiBtn:console.log("随机名字按钮"),this.ui.userName.text=TbRoom.getTb()[Math.floor(Math.random()*TbRoom.getTb().length)].xing+TbRoom.getTb()[Math.floor(Math.random()*TbRoom.getTb().length)].ming;break;case this.ui.queDingBtn:if(console.log("确定按钮"),""==this.ui.userName.text)return void UserTips.ins().showTips("请输入正确的角色名，角色名不能为空");this.pxy.sendPacket(protocols.RqstCreateChar,1,this.ui.userName.text),GameGlobal.RoleProxy.isLoginFirst=!0}GameGlobal.SoundManager.PlayEffect("click_mp3")},e.NAME="CreationController",e}(BaseCtr);__reflect(CreationController.prototype,"CreationController");var DebugPlatform=function(){function t(){}return t.prototype.pay=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,1]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,"q0"]})})},t.prototype.getPfId=function(){GameConfig.GAME_SERVER_IP="120.132.17.138",GameConfig.GAME_SERVER_PORT=11003;var t=egret.getOption("host"),e=egret.getOption("port");return t&&e?(GameConfig.GAME_SERVER_IP=t,GameConfig.GAME_SERVER_PORT=parseInt(e)):window.location.href.indexOf("192.168.0.82")>-1&&(GameConfig.GAME_SERVER_IP="127.0.0.1",GameConfig.GAME_SERVER_PORT=1e4),PFConfig.PF_YH},t.prototype.isDebug=function(){return this.getPfId()==PFConfig.PF_DEBUG},t.prototype.isOversea=function(){return this.getPfId()==PFConfig.PF_MD||this.getPfId()==PFConfig.PF_LAJ},t.prototype.useLoginApi=function(){return this.getPfId()==PFConfig.PF_CJ||platform.getPfId()==PFConfig.PF_QK||platform.getPfId()==PFConfig.PF_YH},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var CreationProxy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case CreationCmd.INIT_DATA:this.initData()}},e.prototype.initData=function(){},e.prototype.init=function(){this.addMsgFunc(MsgId.SMSG_CREATE_CHAR_RESULT,this.result)},e.prototype.result=function(t,e){console.log("创角返回结果=-===="+t+"----------"+e),e.reason?1==e.reason?console.log("重名"):2==e.reason?console.log("屏蔽词"):3==e.reason&&console.log("正常"):(console.log("创角成功"),ViewManager.ins().close(CreationUi))},e.NAME="CreationProxy",e}(BaseProxy);__reflect(CreationProxy.prototype,"CreationProxy");var CreationUi=function(t){function e(){var e=t.call(this)||this;return e.skinName="CreationSkin",e}return __extends(e,t),e.prototype.addToStage=function(t){},e.LAYER_LEVEL=LayerManager.UI_Main,e}(BaseEuiView);__reflect(CreationUi.prototype,"CreationUi");var DiscountCmd=function(){function t(){}return t.SHOW_WINDOW="Discount_show_window",t.CLOSE_WINDOW="Discount_close_window",t.INIT_DATA="Discount_init_data",t.COUNT_UPDATE="COUNT_UPDATE",t}();__reflect(DiscountCmd.prototype,"DiscountCmd");var PlayerDailySetDef=protocols.fields.PlayerDailySetDef,DiscountController=function(t){function e(){var e=t.call(this)||this;return e.starType=0,e.timeSign=1054,e.target=e,e}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case DiscountCmd.SHOW_WINDOW:this.showWindow();break;case DiscountCmd.CLOSE_WINDOW:this.closeWindow();break;case DiscountCmd.COUNT_UPDATE:this.setContent()}},e.prototype.initUi=function(){this.AddClick(this.ui.clickGroup,this.btnClick),this.AddClick(this.ui.leftBtn,this.btnClick),this.AddClick(this.ui.rightBtn,this.btnClick),this.AddClick(this.ui.buyBtn,this.btnClick),this.pxy=this.getProxy(DiscountProxy.NAME),this.setContent(),this.updateTime(),this.timeSign=egret.setInterval(this.updateTime,this,1e3)},e.prototype.updateTime=function(){if(GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_LIMIT_BUY))return this.timeSign&&egret.clearInterval(this.timeSign),void(this.ui.time.visible=!1);var t=GameGlobal.RoleProxy.settingVo.teHuiFirstTime+TbGameSet.getTmplt(10).value1-Math.floor((new Date).getTime()/1e3);t>0?this.ui.time.text=DateUtils.format_1(1e3*t)+" 后过期":this.closeWindow()},e.prototype.setContent=function(){this.curDay=GameGlobal.RoleProxy.userInfo.limitBuyCount,this.setData(GameGlobal.RoleProxy.userInfo.limitBuyCount)},e.prototype.setData=function(t){switch(this.ui.progress.source="xianshi_jdt_"+GameGlobal.RoleProxy.userInfo.limitBuyCount,t){case 0:this.ui.leftBtn.visible=!1,this.ui.rightBtn.visible=!0;break;case 1:this.ui.leftBtn.visible=!0,this.ui.rightBtn.visible=!0;break;case 2:this.ui.leftBtn.visible=!0,this.ui.rightBtn.visible=!1}GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_LIMIT_BUY)?(GameGlobal.RoleProxy.userInfo.getDailyMark(PlayerDailySetDef.DAILY_MARK_IS_OPEN_TEHUI)?this.ui.buyBtn.icon="xianshi_jrylq":this.ui.buyBtn.icon="xianshi_lqzf",GameGlobal.RoleProxy.userInfo.limitBuyCount>t?this.ui.get.visible=!0:this.ui.get.visible=!1):this.ui.buyBtn.icon="xianshi_lkgm";
var e=TbGameSet.getTmplt(10).arr2_value3[t];if(e){this.ui.day.source="xianshi_tiansu_"+(t+1);var o=[];if(e.length>2){for(var r=0;r<e.length;r++)if(r%2==0){var i={type:e[r],count:e[r+1]};o.push(i)}}else{var i={type:e[0],count:e[1]};o.push(i)}this.ui.list.dataProvider?this.ui.list.dataProvider.replaceAll(o):this.ui.list.dataProvider=new eui.ArrayCollection(o)}},e.prototype.rightChange=function(){this.curDay++,this.setData(this.curDay)},e.prototype.leftChange=function(){this.curDay--,this.setData(this.curDay)},e.prototype.showWindow=function(){this.ui=ViewManager.ins().open(DiscountUi),this.initUi()},e.prototype.closeWindow=function(){egret.clearInterval(this.timeSign),ViewManager.ins().close(DiscountUi)},e.prototype.btnClick=function(t){switch(t.currentTarget){case this.ui.clickGroup:this.closeWindow();break;case this.ui.buyBtn:"xianshi_lkgm"==this.ui.buyBtn.icon?platform.isDebug()?(this.pxy.buy(),this.pxy.getAward()):GameGlobal.PayController.creatOrder(TbGameSet.getTmplt(10).arr_value2[1],TbGameSet.getTmplt(10).ID,1,(new Date).getTime()):"xianshi_lqzf"==this.ui.buyBtn.icon?(this.pxy.getAward(),this.closeWindow()):"xianshi_jrylq"==this.ui.buyBtn.icon&&GameGlobal.RoleProxy.userInfo.limitBuyCount<3&&UserTips.ins().showTips("今日已领取，明日才可继续领取");break;case this.ui.leftBtn:this.leftChange();break;case this.ui.rightBtn:this.rightChange()}GameGlobal.SoundManager.PlayEffect("click_mp3")},e.NAME="DiscountController",e}(BaseCtr);__reflect(DiscountController.prototype,"DiscountController");var DiscountMgr=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.start=function(){this.isStart||(this.regProxy(DiscountProxy.NAME,new DiscountProxy),this.regController(DiscountController.NAME,new DiscountController),this.isStart=!0)},Object.defineProperty(e.prototype,"EventList",{get:function(){return[DiscountCmd.SHOW_WINDOW,DiscountCmd.CLOSE_WINDOW,DiscountCmd.INIT_DATA,DiscountCmd.COUNT_UPDATE]},enumerable:!0,configurable:!0}),e.prototype.execute=function(t,e){switch(void 0===e&&(e=null),t){case DiscountCmd.INIT_DATA:this.proxy(DiscountProxy.NAME,e,t);break;default:this.control(DiscountController.NAME,e,t)}},e}(BaseMgr);__reflect(DiscountMgr.prototype,"DiscountMgr");var DiscountProxy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case DiscountCmd.INIT_DATA:this.initData()}},e.prototype.initData=function(){},e.prototype.buy=function(){this.sendPacket(protocols.RqstLimitBuy)},e.prototype.getAward=function(){this.sendPacket(protocols.RqstLimitBuyGet)},e.NAME="DiscountProxy",e}(BaseProxy);__reflect(DiscountProxy.prototype,"DiscountProxy");var DiscountUi=function(t){function e(){var e=t.call(this)||this;return e.skinName="DiscountGiftSkin",e.list.itemRenderer=DiscountItem,egret.Tween.get(e.group,{loop:!1}).to({scaleX:1,scaleY:1},200),e}return __extends(e,t),e.LAYER_LEVEL=LayerManager.UI_Popup,e}(BaseEuiView);__reflect(DiscountUi.prototype,"DiscountUi");var DiscountItem=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){},e.prototype.dataChanged=function(){var t=this.data;1==t.type?(this.good.source="xianshi_tb_ys",this.price.text="x "+t.count):2==t.type&&(this.good.source="ui_1.xianshi_tb_zs",this.price.text="x "+t.count)},e}(eui.ItemRenderer);__reflect(DiscountItem.prototype,"DiscountItem");var ExtraVideoView=function(t){function e(){var e=t.call(this)||this;return e.skinName="ExtraVideoSkin",e}return __extends(e,t),e.prototype.OnOpen=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.data=t[0],this.AddClick(this.buyBtn,this.btnClick),this.AddClick(this.closeBtn,this.btnClick),this.bg.source=this.data.pic,this.content.text=this.data.desc,this.buyBtn.curPrice.text=this.data.cur_cost,this.buyBtn.oldPrice.text="原价:"+this.data.init_cost},e.prototype.move=function(){egret.Tween.get(this.group,{loop:!1}).to({y:931},800,egret.Ease.elasticOut)},e.prototype.taoxin=function(){var t=RES.getRes("aixin.png"),e=RES.getRes("aixin.json");this.txPraticle=new particle.GravityParticleSystem(t,e),this.txPraticle.start(),this.txPraticle.x=500,this.txPraticle.y=150,this.group.addChild(this.txPraticle)},e.prototype.btnClick=function(t){switch(t.currentTarget){case this.closeBtn:GameGlobal.DotController.callDot(TbDot.getTmplt(22).ID,TbDot.getTmplt(22).record+this.data.ID),ViewManager.ins().close(e);break;case this.buyBtn:this.onBuy()}GameGlobal.SoundManager.PlayEffect("click_mp3")},e.prototype.onBuy=function(){if(GameGlobal.RoleProxy.Gold>=this.data.cur_cost){var t=new protocols.RqstSpecialChapter(this.data.ID);SocketMgr.send(t),egret.setTimeout(function(){if(GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_SPECIAL_CHAPTER_CROSS+this.data.ID-1)){GameGlobal.SoundManager.SetBgOn(!1),GameGlobal.SoundManager.isBgVoice=!1,GameGlobal.RoleProxy.isPlayVideo=!0,GameGlobal.SoundManager.channel&&(GameGlobal.SoundManager.channel.volume=0),console.log("关闭背景音乐了"),GameGlobal.RoleProxy.isExtraVideo=!0,GameGlobal.DotController.callDot(TbDot.getTmplt(23).ID,TbDot.getTmplt(23).record+this.data.ID);var t=this.data.pay_video;EventHelper.call(VideoCmd.LOAD_VIDEO,{url:t,noBack:!platform.isDebug()}),ViewManager.ins().close(e)}},this,200)}else GameGlobal.RoleProxy.isEnough=!0,EventHelper.call(ShopCmd.SHOW_WINDOW,1,!0),UserTips.ins().showTips("钻石不足")},e.LAYER_LEVEL=LayerManager.UI_Popup,e}(BaseEuiView);__reflect(ExtraVideoView.prototype,"ExtraVideoView");var game;!function(t){var e;!function(t){var e=function(){function e(){this.optList=new Array}return e.prototype.clear=function(){this.optList.length=0},e.prototype.readPacket=function(e){this.clear();for(var o=null,r=e.readArraySize(),i=0;r>i;++i)o=new t.SlotOpt,o.readPacket(e),this.optList.push(o)},e.SLOT_OPT_CREATE=1,e.SLOT_OPT_UPDATE=2,e.SLOT_OPT_DELETE=3,e}();t.SlotUpdate=e,__reflect(e.prototype,"game.objmgr.SlotUpdate")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var game;!function(t){var e;!function(e){var o=t.objects.def.ObjectDef,r=function(){function e(){}return e.getObjectTypeInfo=function(t){null==e._objMap&&e.initTypeMap();var o=e._objMap[t];return o},e.initTypeMap=function(){e._objMap={},e._objMap[o.OBJ_TYPE_PLAYER]=new t.objmgr.ObjTypeInfo(protocols.objects.PlayerVo,protocols.objects.PlayerVo.PLAYER_END,protocols.objects.PlayerVo.PLAYER_STR_END,!0),e._objMap[o.OBJ_TYPE_PLAYER_SETTING]=new t.objmgr.ObjTypeInfo(protocols.objects.PlayerSetingInfoVo,protocols.objects.PlayerSetingInfoVo.PLAYERSETINGINFO_END,protocols.objects.PlayerSetingInfoVo.PLAYERSETINGINFO_STR_END,!0)},e}();e.SvrObjFactory=r,__reflect(r.prototype,"game.objects.SvrObjFactory")}(e=t.objects||(t.objects={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e=flash.utils.Endian,o=flash.utils.ByteArray,r=core.net.UInt64,i=function(){function t(){}return t.UInt2Byte=function(t,e){if(e>3)throw new Error("UInt2Byte offset > 3 !");return e<<=3,t>>e&255},t.UInt2UInt16=function(t,e){if(e>1)throw new Error("UInt2UInt16 offset > 1 !");return e<<=4,t>>e&65535},t.UInt2Int16=function(t,e){if(e>1)throw new Error("UInt2Int16 offset > 1 !");return e<<=4,t>>=e,0==(32768&t)?65535&t:4294901760|t},t.UInt2Int32=function(t){return t},t.UInt2Float=function(o){var r=t.tmpByteArray;return r.position=0,r.endian=e.LITTLE_ENDIAN,r.writeUnsignedInt(o),r.position=0,r.readFloat()},t.UInt2Double=function(o,r){var i=t.tmpByteArray;return i.position=0,i.endian=e.LITTLE_ENDIAN,i.writeUnsignedInt(o),i.writeUnsignedInt(r),i.position=0,i.readDouble()},t.Float2UInt=function(o){var r=t.tmpByteArray;return r.position=0,r.endian=e.LITTLE_ENDIAN,r.writeDouble(o),r.position=0,r.readUnsignedInt()},t.SetByte=function(t,e,o){if(e>3)throw new Error("SetByte offset > 3 !");return e<<=3,t&~(255<<e)|(255&o)<<e},t.SetUInt16=function(t,e,o){if(e>1)throw new Error("SetUInt16 offset > 1 !");return e<<=4,t&~(65535<<e)|(65535&o)<<e},t.SetInt16=function(t,e,o){if(e>1)throw new Error("SetInt16 offset > 1 !");return e<<=4,t&~(65535<<e)|(65535&o)<<e},t.GetGUIDType=function(t,e){return e>>10&255},t.GuidConver=function(t,e){return new r(t.low,4294706175&t.high|e<<10)},t.tmpByteArray=new o,t}();t.TypeConvert=i,__reflect(i.prototype,"game.objmgr.TypeConvert")}(e=t.objmgr||(t.objmgr={}))}(game||(game={}));var BaseScene=function(){function t(){}return t.prototype.onEnter=function(){},t.prototype.onExit=function(){},t}();__reflect(BaseScene.prototype,"BaseScene");var Main=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.init(),EventHelper.addListener(AppCmd.PAUSE,this.pause,this),EventHelper.addListener(AppCmd.ONRESUME,this.onResume,this)},e.prototype.pause=function(){GameGlobal.SoundManager.SetBgOn(!1),GameGlobal.SoundManager.isBgVoice=!1,GameGlobal.SoundManager.stopUrlVoice()},e.prototype.onResume=function(){if(GameGlobal.RoleProxy.settingVo&&!GameGlobal.RoleProxy.isPlayVideo){var t;GameGlobal.SoundManager.stopUrlVoice(),1==GameGlobal.RoleProxy.settingVo.voiceNumber?(t=!0,GameGlobal.SoundManager.isBgVoice=!0,GameGlobal.RoleProxy.userInfo&&(TbChapter.getTmplt(GameGlobal.RoleProxy.userInfo.chapter).story_end_id==TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).ID?(GameGlobal.SoundManager.stopUrlVoice(),GameGlobal.SoundManager.playUrlVoice(TbGameSet.getTmplt(6).arr_value2[0])):(GameGlobal.SoundManager.stopUrlVoice(),GameGlobal.SoundManager.playUrlVoice(TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).bgm)))):(t=!1,GameGlobal.SoundManager.isBgVoice=!1),GameGlobal.SoundManager.SetBgOn(t)}},e.prototype.init=function(){var t=this;new Register,GameGlobal.initModule(),egret.registerImplementation("eui.IAssetAdapter",new AssetAdapter),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.setMaxLoadingThread(16),EventHelper.once(LoadCmd.LOAD_SKIN_COMPLETE,function(){EventHelper.once(LoadCmd.LOAD_GROUP_COMPLETE,t.runGame,t),EventHelper.call(LoadCmd.LOAD_GROUP_RES,"preload")},this),EventHelper.call(LoadCmd.LOAD_CONFIG)},e.prototype.runGame=function(t){new ParseBin,LayerManager.Init(),EventHelper.call(LoginCmd.SHOW_WINDOW),document.getElementById("imgDiv").style.display="none"},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main"),egret.sys.screenAdapter=new TestScreenAdapter;var BaseSystem=function(t){function e(){var e=t.call(this)||this;return e.m_Init=!1,e}return __extends(e,t),e.prototype.InitConfig=function(){this.m_Init||(this.m_Init=!0,this.Init())},e.prototype.Init=function(){},e.prototype.regNetMsg=function(t,e){},e.prototype.OnDayTimer=function(){},e.prototype.OnSocketClose=function(){},e}(BaseClass);__reflect(BaseSystem.prototype,"BaseSystem");var DisplayUtils=function(){function t(){}return t.prototype.createBitmap=function(t){var e=new egret.Bitmap,o=RES.getRes(t);return e.texture=o,e},t.prototype.createEuiImage=function(t){var e=new eui.Image,o=RES.getRes(t);return e.source=o,e},t.removeFromParent=function(t){t&&null!=t.parent&&t.parent.removeChild(t)},t.drawCir=function(t,e,o,r){return null==t&&(t=new egret.Shape),t.graphics.clear(),t.graphics.beginFill(65535,1),t.graphics.moveTo(0,0),t.graphics.lineTo(e,0),t.graphics.drawArc(0,0,e,0,o*Math.PI/180,r),t.graphics.lineTo(0,0),t.graphics.endFill(),t},t.drawLine=function(t,e,o,r,i,n,s){return null==t&&(t=new egret.Shape),t.graphics.clear(),t.graphics.lineStyle(n,s),t.graphics.moveTo(e,o),t.graphics.lineTo(r,i),t.graphics.endFill(),t},t.shakeIt=function(e,o,r,i,n){if(void 0===i&&(i=1),void 0===n&&(n=null),null==n&&(n=t.EMPTY_FUNC),e&&e.$stage&&i>=1&&n()){var s=t.shakingList[e.hashCode];if(!s){t.shakingList[e.hashCode]=!0;var a=[{anchorOffsetX:0,anchorOffsetY:-o},{anchorOffsetX:-o,anchorOffsetY:0},{anchorOffsetX:o,anchorOffsetY:0},{anchorOffsetX:0,anchorOffsetY:o},{anchorOffsetX:0,anchorOffsetY:0}];egret.Tween.removeTweens(e);var _=r/5;egret.Tween.get(e).to(a[0],_).to(a[1],_).to(a[2],_).to(a[3],_).to(a[4],_).call(function(){delete t.shakingList[e.hashCode],t.shakeIt(e,o,r,--i)},this)}}},t.prototype.flashingObj=function(t,e,o){void 0===o&&(o=300);var r=function(){if(e){t.visible=!0;var i=1==t.alpha?0:1;egret.Tween.removeTweens(t),egret.Tween.get(t).to({alpha:i},o).call(r)}else egret.Tween.removeTweens(t),t.alpha=1,t.visible=!1};r()},t.SetParent=function(e,o){if(e&&o){var r=t.POINT,i=e.parent;i?(i.localToGlobal(e.x,e.y,r),i.removeChild(e)):(r.x=e.x,r.y=e.y),o.globalToLocal(r.x,r.y,r),o.addChild(e),null!=e.bottom?(e.x=r.x,e.bottom=o.height-r.y-e.height):(e.x=r.x,e.y=r.y)}},t.ChangeParent=function(t,e){t&&e&&(t.parent&&t.parent.removeChild(t),e.addChild(t))},t.GetGlobalPos=function(t,e){t&&(t.parent?t.parent.localToGlobal(t.x,t.y,e):(e.x=t.x,e.y=t.y))},t.ConvertPos=function(t,e){if(t&&e){var o=egret.$TempPoint;return this.GetGlobalPos(t,o),e.globalToLocal(o.x,o.y,o),o}},t.shakingList={},t.EMPTY_FUNC=function(){return!0},t.POINT=new egret.Point,t}();__reflect(DisplayUtils.prototype,"DisplayUtils");var EventListenerData=function(){function t(t,e,o,r,i,n){this.addObject=t,this.type=e,this.listener=o,this.thisObject=r,this.useCapture=i,this.priority=n,t?t.addEventListener(e,o,r,i,n):console.warn("不存在增加侦听事件的对象")}return t.prototype.clean=function(){this.addObject&&this.addObject.hasEventListener(this.type)&&(this.addObject.removeEventListener(this.type,this.listener,this.thisObject,this.useCapture),this.addObject=null,this.type=null,this.listener=null,this.useCapture=null,this.priority=null)},t}();__reflect(EventListenerData.prototype,"EventListenerData");var RegRspd=function(){function t(){SocketMgr.regRspd(0,protocols.RspdNullAction),SocketMgr.regRspd(2e3,protocols.RspdPingPong),SocketMgr.regRspd(2001,protocols.RspdSynMsTime),SocketMgr.regRspd(2002,protocols.RspdCreateChar),SocketMgr.regRspd(2003,protocols.RspdCheckNameResult),SocketMgr.regRspd(2004,protocols.RspdCreateCharResult),SocketMgr.regRspd(2005,protocols.RspdCharLogin),SocketMgr.regRspd(2006,protocols.RspdOperationResult),SocketMgr.regRspd(2009,protocols.RspdGonggaoMgr),SocketMgr.regRspd(2010,protocols.RspdMailSync),SocketMgr.regRspd(2011,protocols.RspdMailPickup),SocketMgr.regRspd(2012,protocols.RspdDelMail),SocketMgr.regRspd(2013,protocols.RspdItem_Source),SocketMgr.regRspd(2014,protocols.RspdServerClose),SocketMgr.regRspd(2015,protocols.RspdOpenServerVersion),SocketMgr.regRspd(2016,protocols.RspdGongGaoByServer),SocketMgr.regRspd(2017,protocols.RspdBuyRecordUpdate),SocketMgr.regRspd(2018,protocols.RspdPhoneGetMsg),SocketMgr.regRspd(2019,protocols.RspdServerOpenDayCount),SocketMgr.regRspd(2020,protocols.RspdBuyRecordList),SocketMgr.regRspd(2021,protocols.RspdItemUsedRecordList),SocketMgr.regRspd(2022,protocols.RspdItemUsedRecordUpdate),SocketMgr.regRspd(2023,protocols.RspdOrderInfo),SocketMgr.regRspd(2024,protocols.RspdApiSign),SocketMgr.regRspd(2025,protocols.RspdOfflineReward),SocketMgr.regRspd(2026,protocols.RspdRankData)}return t}();__reflect(RegRspd.prototype,"RegRspd");var ResMgr=function(){function t(){}return t.GetNoneList=function(){return this.NONE_LIST||(this.NONE_LIST={}),this.NONE_LIST},t.GetName=function(t){var e=RES.nameSelector(t);return e?e:t},t.ins=function(){return this.m_Instance||(this.m_Instance=new t),this.m_Instance},t.Init=function(){},t.GmInit=function(){},t._DoUpdate=function(){var t=0,e=0,o=egret.getTimer();for(var r in this.m_Wait){if(++t,e>=this.MAX_OP_COUNT)break;o>=this.m_Wait[r]&&(this.DestroyRes(r)&&(this.LOG&&console.log("destroy name => "+r),++e),delete this.m_Wait[r],--t)}1>t&&(TimerManager.ins().remove(this._DoUpdate,this),this.m_IsUpdate=!1)},t.Ref=function(e){e&&(t.GetNoneList()[e]||(this.m_Wait[e]&&delete this.m_Wait[e],this.m_Ref[e]?++this.m_Ref[e]:this.m_Ref[e]=1))},t.Unref=function(e,o){return void 0===o&&(o=null),e?t.GetNoneList()[e]?!1:this.m_Ref[e]&&--this.m_Ref[e]<=0?(delete this.m_Ref[e],this.m_Wait[e]=egret.getTimer()+(o||this.LIFE_TIME),this.m_IsUpdate||(this.m_IsUpdate=!0,TimerManager.ins().doTimer(this.LOOP_TIME,0,this._DoUpdate,this)),!0):!1:!1},t.ForceUnref=function(t){this.m_Ref[t]&&delete this.m_Ref[t],this.m_Wait[t]=egret.getTimer()+5},t.RefSkin=function(t){},t.UnrefSkin=function(t){},t.DestroyRes=function(t){return RES.destroyRes(t)},t.DebugPrint=function(){var t=[];for(var e in this.m_Ref)t.push("key => "+e+" => "+this.m_Ref[e]);console.log("ref ======================"),console.log(t.join("\n")),t.length=0;var o=egret.getTimer();console.log("wait ======================",o);for(var e in this.m_Wait){var r=this.m_Wait[e];t.push("key => "+e+"; time => "+r+"; left => "+(r-o))}console.log(t.join("\n"))},t.getRefCount=function(t){return this.m_Ref[t]?this.m_Ref[t]:0},t.NONE_LIST=null,t.IMG_LIFT_TIME=3e4,t.LIFE_TIME=3e3,t.LOOP_TIME=3e3,t.MAX_OP_COUNT=40,t.LOG=!1,t.m_Ref={},t.m_Wait={},t.m_IsUpdate=!1,t}();__reflect(ResMgr.prototype,"ResMgr");var TextFlowMaker=function(){function t(){}return t.generateTextFlow=function(t){if(!t)return this.EMPTY_TABLE;for(var e=t.split("|"),o="",r=0,i=e.length;i>r;r++){var n=e[r];n&&0!=n.length&&(o+=this.getSingleTextFlow1(n))}return(new egret.HtmlTextParser).parser(o)},t.generateTextFlow1=function(t){for(var e=t.split("|"),o=[],r=0,i=e.length;i>r;r++)o.push(this.getSingleTextFlow(e[r]));return o},t.getSingleTextFlow1=function(t){for(var e,o="<font",r=this.Match(t),i=0,n=r.length;n>i;i++){var s=r[i].type,a=r[i].value;s==this.PROP_TEXT?e=a:s==this.STYLE_SIZE?o+=' size="'+parseInt(a)+'"':s==this.STYLE_COLOR?o+=' color="'+parseInt(a)+'"':e=a}return o+=">"+e+"</font>"},t.getSingleTextFlow=function(t){for(var e=this.Match(t),o={style:{}},r=0,i=e.length;i>r;r++){var n=e[r].type,s=e[r].value;n==this.PROP_TEXT?o.text=s:n==this.STYLE_SIZE?o.style.size=parseInt(s):n==this.STYLE_COLOR?o.style.textColor=parseInt(s):o.text=s}return o},t.consumeLabel=function(t,e,o){void 0===o&&(o=!0);var r="";return null==t||isNaN(t)||(r+=o?(e>t?"|C:0xff0000&T:":"|C:0x019704&T:")+t+"|/"+e:t),this.generateTextFlow(r)},t.huanhangTextFlow=function(t){for(var e=t.split("\\n"),o="",r=0;r<e.length;r++)o+=e[r]+"\n";return o},t.huanhangTextFlow2=function(t){for(var e=t.split("\\n"),o="",r=0;r<e.length;r++)o+=e[r];return o},t.Match=function(t){if(null!=t){var e=null;this.LIST.length=0;for(var o=0;99>o;++o){var r=t.match(this._REG);if(null==r||-1==r.index){this.LIST.push({type:e,value:t});break}null!=e&&this.LIST.push({type:e,value:t.substr(0,r.index)}),e=r[0].replace("&","").replace(":",""),t=t.substr(r.index+r[0].length)}return this.LIST}},t.getCStr=function(t){return this.numberList[t]?this.numberList[t]:""},t.EMPTY_TABLE=[],t._REG=new RegExp("&?[SCTU]:"),t.LIST=[],t.STYLE_COLOR="C",t.STYLE_SIZE="S",t.PROP_TEXT="T",t.UNDERLINE_TEXT="U",t.numberList=["零","一","二","三","四","五","六","七","八","九","十","十一","十二","十三","十四"],t}();__reflect(TextFlowMaker.prototype,"TextFlowMaker");var TimerManager=function(t){function e(){var e=t.call(this)||this;return e._haveremove=!1,e._handlers=new Array,e._currTime=egret.getTimer(),e._currFrame=0,e._timeScale=1,egret.Ticker.getInstance().register(e.onEnterFrame,e),e}return __extends(e,t),e.ins=function(){return t.ins.call(this)},e.prototype.getFrameId=function(){return this._currFrame},e.prototype.setTimeScale=function(t){this._timeScale=t},e.prototype.onEnterFrame=function(){this._currFrame++,this._currTime=egret.getTimer();for(var t=0,e=this._handlers;t<e.length;t++){var o=e[t];if(o.remove)this._haveremove=!0;else{var r=o.userFrame?this._currFrame:this._currTime;r>=o.exeTime&&(o.method.call(o.methodObj,(this._currTime-o.dealTime)*this._timeScale),o.dealTime=this._currTime,o.exeTime+=o.delay,o.repeat||(o.repeatCount>1?o.repeatCount--:(o.complateMethod&&o.complateMethod.apply(o.complateMethodObj),o.remove=!0,this._haveremove=!0)))}}if(this._haveremove)for(var i=this._handlers.length-1;i>=0;--i){var o=this._handlers[i];o.remove&&(o.clear(),this._handlers.splice(i,1),ObjectPool.push(o))}this._haveremove=!1},e.prototype.create=function(t,e,o,r,i,n,s){if(!(0>e||0>o||null==r)){this.remove(r,i);var a=ObjectPool.pop("TimerHandler");a.userFrame=t,a.repeat=0==o,a.repeatCount=o,a.delay=e,a.method=r,a.methodObj=i,a.complateMethod=n,a.complateMethodObj=s,a.exeTime=e+(t?this._currFrame:this._currTime),a.dealTime=this._currTime,a.remove=!1,this._handlers.push(a)}},e.prototype.doTimer=function(t,e,o,r,i,n){void 0===i&&(i=null),void 0===n&&(n=null),this.create(!1,t,e,o,r,i,n)},e.prototype.doFrame=function(t,e,o,r,i,n){void 0===i&&(i=null),void 0===n&&(n=null),this.create(!0,t,e,o,r,i,n)},e.prototype.doNext=function(t,e){this.create(!0,1,1,t,e,null,null)},e.prototype.remove=function(t,e){for(var o=0,r=this._handlers;o<r.length;o++){var i=r[o];i.remove||i.method!=t||i.methodObj!=e||(i.remove=!0,this._haveremove=!0)}},e.prototype.removeAll=function(t){for(var e=0,o=this._handlers;e<o.length;e++){var r=o[e];r.methodObj==t&&(r.remove=!0,this._haveremove=!0)}},e.prototype.isExists=function(t,e){for(var o=0,r=this._handlers;o<r.length;o++){var i=r[o];if(!i.remove&&i.method==t&&i.methodObj==e)return!0}return!1},e}(BaseClass);__reflect(TimerManager.prototype,"TimerManager");var TimerHandler=function(){function t(){this.delay=0,this.repeatCount=0,this.exeTime=0,this.dealTime=0,this.remove=!1}return t.prototype.clear=function(){this.method=null,this.methodObj=null,this.complateMethod=null,this.complateMethodObj=null,this.remove=!1},t}();__reflect(TimerHandler.prototype,"TimerHandler");var ViewLayerLevel;!function(t){t[t.BOTTOM=1]="BOTTOM",t[t.MIDDLE=2]="MIDDLE",t[t.TOP=3]="TOP"}(ViewLayerLevel||(ViewLayerLevel={}));var ViewManager=function(t){function e(){var e=t.call(this)||this;return e._views={},e._viewCode={},e._opens=[],e}return __extends(e,t),e.ins=function(){return t.ins.call(this)},e.prototype.clear=function(){this.closeAll()},e.prototype.destroy=function(t){var e;this._viewCode[t]&&(e=this._viewCode[t],delete this._viewCode[t]),this._views[e]&&delete this._views[e]},e.viewOpenCheck=function(t,e){if(!t)return!1;var o=t.openCheck;return o?o.apply(null,e):!0},e.prototype.openIndex=function(t,o){e.ins().isShow(t)?e.ins().getView(t).SetTableIndex(o):e.ins().open(t,o)},e.prototype.open=function(t){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];if(!e.viewOpenCheck(t,o))return null;var i=this.openEasy(t,o);return i&&this.mViewImpl&&this.mViewImpl.OnOpenView(i),i},e.prototype.openToTop=function(t){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];if(!e.viewOpenCheck(t,o))return null;var i=this.openEasy(t,o,!0);return i&&this.mViewImpl&&this.mViewImpl.OnOpenView(i),i},e.prototype.openEasy=function(t,e,o){var r=this;if(void 0===e&&(e=null),void 0===o&&(o=!1),null==t)return void console.log("open nameorclass is null");var i=egret.getQualifiedClassName(t),n=this._views[i];if(n||(n=new t,this._views[i]=n,this._viewCode[n.hashCode]=i),null==n)return void console.error("panel "+i+"不存在");var s=t.LAYER_LEVEL;return null==s&&(s=n.GetLayerLevel(),s||console.error("没有设置层级",i)),this._IsShow(i)||n.isInit()?(this.AddTo(s,n,o),this._OpenView(n,e)):n.loadResource(function(){r.AddTo(s,n,o),n.setVisible(!1)},function(){n.DoInit(),n.initData(),r._OpenView(n,e),n.setVisible(!0)}),-1==this._opens.indexOf(i)&&this._opens.push(i),n},e.prototype.AddTo=function(t,e,o){void 0===o&&(o=!1);for(var r=Util.GetClass(e).VIEW_LAYER_LEVEL||ViewLayerLevel.MIDDLE,i=0,n=t.numChildren-1;n>=0;--n)if(r>=(Util.GetClass(t.getChildAt(n)).VIEW_LAYER_LEVEL||ViewLayerLevel.MIDDLE)){i=n+1;break}t.addChildAt(e,i)},e.prototype._OpenView=function(t,e){t.DoOpen.call(t,e)},e.prototype._CloseVie=function(t){t.DoClose.apply(t)},e.prototype.close=function(t){var e=egret.getQualifiedClassName(t),o=this.closeEasy(e);o&&this.mViewImpl&&this.mViewImpl.OnCloseOneView(o)},e.prototype.closeEasy=function(t){if(!this._IsShow(t))return null;var e=this._views[t];if(e){var o=this._opens.indexOf(t);o>=0&&(this._opens.splice(o,1),this._CloseVie(e)),DisplayUtils.removeFromParent(e),e.destoryView()}return e},e.prototype.getView=function(t){return this._views[egret.getQualifiedClassName(t)]},e.prototype.closeAll=function(){for(var t=this._opens.length-1;t>=0;--t)this.closeEasy(this._opens[t]);if(this._opens.length>0){for(var t=this._opens.length-1;t>=0;--t)this.closeEasy(this._opens[t]);this._opens.length>0&&console.error(this._opens.length+" => close all error !!!")}this.mViewImpl&&this.mViewImpl.OnCloseAll()},e.prototype.currOpenNum=function(){return this._opens.length},e.prototype.isShow=function(t){return this._IsShow(egret.getQualifiedClassName(t))},e.prototype._IsShow=function(t){return this._opens.indexOf(t)>=0},e.prototype.closePartPanel=function(){for(var t=[],e=0;e<this._opens.length;e++){var o=this._opens[e];"MainTop2Panel"!=o&&"MainBottomPanel"!=o&&"MainTopPanel"!=o&&"BriberyBasePanel"!=o&&t.push(this._opens[e])}for(var r=t.length-1;r>=0;r--){var o=t[r],i=this._views[o];if(i){var n=i.parent;(n==LayerManager.UI_Popup||n==LayerManager.UI_Main)&&this.closeEasy(o)}}this.mViewImpl&&this.mViewImpl.OnClosePartView()},e.prototype.Guide=function(t,e){void 0===e&&(e=null),this._GotoView(t,e)},e.AdjustIndex=function(t,e){return[t,e]},e.prototype._GotoView=function(t,e){return!0},e.openCheckTip=!1,e.INVAILD_NAME=[],e}(BaseClass);__reflect(ViewManager.prototype,"ViewManager");var ViewIndexDef;!function(t){t[t.EquipWearCount=10010]="EquipWearCount"}(ViewIndexDef||(ViewIndexDef={}));var ViewManagerImpl=function(){function t(t){this.isShowCircle=!1,this.mMgr=t}return t.GetComBg=function(){if(null==this.m_ComBg){var t=this.m_ComBg=new eui.Group;this.m_ComBg.visible=!1,this.m_ComBg.horizontalCenter=0;var e=new eui.Image;e.percentWidth=100,e.percentHeight=100,e.source="ui_zc_jz_ditu",t.addChild(e);var o=new eui.Image;o.left=o.top=o.right=o.bottom=-10,o.source="ui_cm_black",o.alpha=.5,t.addChild(o)}return this.m_ComBg},t.prototype.Init=function(){},t.prototype.Open=function(t){if(t){var e=ViewManager.ins().open(t);e.mRemoveNotDestroyView=!0}},t.prototype.Close=function(t){t&&ViewManager.ins().close(t)},t.prototype.Destroy=function(t){if(t){var e=ViewManager.ins().getView(t);e&&(e.mRemoveNotDestroyView=null,e.isShow()?e.CloseSelf():e.destoryView())}},t.prototype.OnOpenView=function(e){if(e){if(e.parent==LayerManager.UI_Main){this.UpdateUIMainVisible(),t.GetComBg().visible=!0;for(var o=0,r=this.mMgr._opens;o<r.length;o++){var i=r[o],n=this.mMgr._views[i];if(null!=n){if(e==n)break;egret.getDefinitionByName(egret.getQualifiedClassName(n))}}}egret.is(e,"GuildWarInfoPanel")&&this.CloseMainTop2Panel()}},t.prototype.OnCloseOneView=function(t){egret.getDefinitionByName(egret.getQualifiedClassName(t));this._CloseOneView()},t.prototype.OnClosePartView=function(){this._CloseOneView()},t.prototype.OnCloseAll=function(){t.GetComBg().visible=!1},t.prototype.CloseMainTop2Panel=function(){},t.prototype._CloseOneView=function(){t.GetComBg().visible=!1,this.CheckMainTop2Panel(),this.CheckPlayFunviewState()},t.prototype.CheckPlayFunviewState=function(){},t.prototype.CheckMainTop2Panel=function(){},t.prototype.UpdateUIMainVisible=function(){var t=LayerManager.UI_Main;if(0!=t.$children.length){for(var e=0;e<t.$children.length;e++)t.$children[e].visible=!1;t.$children[t.$children.length-1].visible=!0}},t.prototype.DoBattleChange=function(){},t.prototype.DoMapChange=function(){},t.prototype.DoRaidShowType=function(){},t}();__reflect(ViewManagerImpl.prototype,"ViewManagerImpl",["IViewMangerImpl"]);var ProtoBase=core.net.ProtoBase,Packet=core.net.Packet,MsgId=protocols.MsgId,UpdateService=game.objmgr.UpdateService,SocketMgr=function(){function t(){new RegRspd,EventHelper.addListener(MsgId.SMSG_PING_PONG.toString(),t.heart,t)}return t.createSocket=function(){this.socket=new egret.WebSocket,this.socket.type=egret.WebSocket.TYPE_BINARY,this.socket.addEventListener(egret.Event.CONNECT,this.connected,this),this.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.receive,this),this.socket.addEventListener(egret.Event.CLOSE,this.close,this),this.socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this)},t.conn=function(){if(this.platformId=platform.getPfId(),this.socket||this.createSocket(),!this._isConecting&&!this.isConnected()){this._isConecting=!0;var t="";this.platformId<0?(this.host=GameConfig.GAME_SERVER_IP,this.port=GameConfig.GAME_SERVER_PORT,t="ws://"+this.host+":"+this.port):t=PFConfig.getSocketUrl(),this.socket.connectByUrl(t),Log.logNet(t)}},t.send=function(t){if(null!=this.socket){if(!this._isConnected)return Log.logNet("socket is closed,reconnecting......"),void this.reConnect();Log.logNet("send----【"+t.packet.msgid+"】"+t);var e=t.packet;this.socket.writeBytes(e.bytes),this.socket.flush(),Packet.FREE(e)}},t.receive=function(t){var e=new egret.ByteArray,o=Packet.NEW();this.socket.readBytes(e),o.init(e),o.readHead();var r=o.msgid;Log.logNet("receive----【"+r+"】");var i=this.receiveClassDict[r];if(null==i)if(Log.logNet(r+" no parse"),2007==r)this.updateSer.updateMultiple(o);else{if(2008!=r)throw new Error("xx");this.updateSer.updateSingle(o)}else{var n=new i(o);n.createTime=Date.now(),n.readPacket(o),EventHelper.call(n.getMsgId().toString(),n)}Packet.FREE(o)},t.regRspd=function(t,e){if(this.receiveClassDict[t])throw new Error("消息【"+t+"】已有解析类");this.receiveClassDict[t]=e},t.close=function(t){this._isConecting=!1,this._isConnected=!1,EventHelper.call(SysCmd.SOCKET_CLOSE),Log.logNet("socket closed"),Timing.removeListen("socket_heart"),this.reConnect()},t.reConnect=function(){Log.logNet("socket reconnect "+this.autoConnectNum),this.conn(),this.autoConnectNum++},t.onError=function(t){this._isConecting=!1,Log.logNet("connect faild")},t.isConnected=function(){return this._isConnected},t.connected=function(t){this._isConecting=!1,this.maxAutoConnectNum=3,this._isConnected=!0,Log.logNet("connected"),EventHelper.call(SysCmd.SOCKET_CONNECTED)},t.heart=function(){this._isConnected&&this.send(new protocols.RqstPingPong)},t.autoConnect=!0,t.autoConnectNum=0,t.maxAutoConnectNum=5,t.heartTime=5e3,t.receiveClassDict={},t._isConnected=!1,t._isConecting=!1,t.platformId=-2,t.updateSer=new UpdateService,t}();__reflect(SocketMgr.prototype,"SocketMgr");var DbgUtil=core.utils.DbgUtil,gs_base_time=0,trace_exception=!1,DateUtils=function(){function t(){}return t.FormatTimeString=function(t){if(!t)return 0;var e=t.split(":"),o=e[0]||0,r=e[1]||0,i=e[2]||0,n=new Date(1e3*GameServer.serverTime);return n.setHours(Number(o),Number(r),Number(i)),n.getTime()},t.formatMiniDateTime=function(e){return t.MINI_DATE_TIME_BASE+(2147483647&e)*t.MS_PER_SECOND},t.formatServerTime=function(e){return(e-t.MINI_DATE_TIME_BASE)/t.MS_PER_SECOND},t.GetFormatSecond=function(e,o){return void 0===o&&(o=1),t.getFormatBySecond(e,o)},t.getFormatBySecond=function(t,e,o){void 0===e&&(e=1),void 0===o&&(o=2);var r="",i=1e3*t;switch(e){case this.TIME_FORMAT_1:r=this.format_1(i);break;case this.TIME_FORMAT_2:r=this.format_2(i);break;case this.TIME_FORMAT_3:r=this.format_3(i);break;case this.TIME_FORMAT_4:r=this.format_4(i);break;case this.TIME_FORMAT_5:r=this.format_5(i,o);break;case this.TIME_FORMAT_6:r=this.format_6(i);break;case this.TIME_FORMAT_7:r=this.format_7(i);break;case this.TIME_FORMAT_8:r=this.format_8(i);break;case this.TIME_FORMAT_9:r=this.format_9(i);break;case this.TIME_FORMAT_11:r=this.format_11(i);break;case this.TIME_FORMAT_14:r=this.format_14(i);break;case this.TIME_FORMAT_15:r=this.format_15(i)}return r},t.format_1=function(e){var o=0,r="##:##:##";return o=Math.floor(e/t.MS_PER_HOUR),r=r.replace("##",t.formatTimeNum(o)),o&&(e-=o*t.MS_PER_HOUR),o=Math.floor(e/t.MS_PER_MINUTE),r=r.replace("##",t.formatTimeNum(o)),o&&(e-=o*t.MS_PER_MINUTE),o=Math.floor(e/1e3),r=r.replace("##",t.formatTimeNum(o))},t.format_2=function(t){t-=this.TIME_ZONE_OFFSET;var e=new Date(t),o=e.getFullYear(),r=e.getMonth()+1,i=e.getDate(),n=e.getHours(),s=e.getMinutes(),a=e.getSeconds();return o+"-"+r+"-"+i+" "+n+":"+s+":"+a},t.format_3=function(t){var e=this.format_1(t),o=e.split(":");return o[1]+":"+o[2]},t.format_4=function(t){return t<this.MS_PER_HOUR?Math.floor(t/this.MS_PER_MINUTE)+"分钟前":t<this.MS_PER_DAY?Math.floor(t/this.MS_PER_HOUR)+"小时前":Math.floor(t/this.MS_PER_DAY)+"天前"
},t.format_5=function(t,e){return void 0===e&&(e=2),this.FormatType5(t,e,null)},t.format_12=function(t,e){void 0===e&&(e=2);var o="";if(e>=4){var r=Math.floor(t/this.MS_PER_DAY);r>0&&(t-=r*this.MS_PER_DAY,o+=(o.length>0?this.formatTimeNum(r):r)+"天")}if(e>=3){var i=Math.floor(t/this.MS_PER_HOUR);i>0&&(t-=i*this.MS_PER_HOUR,o+=(o.length>0?this.formatTimeNum(i):i)+"小时")}var n=Math.floor(t/this.MS_PER_MINUTE);return n>0&&(t-=n*this.MS_PER_MINUTE,o+=(o.length>0?this.formatTimeNum(n):n)+"分"),o},t.format_13=function(t,e){return void 0===e&&(e=2),this.FormatType5(t,e,":")},t.FormatType5=function(t,e,o){void 0===e&&(e=2),void 0===o&&(o=null);var r="";if(e>=4){var i=Math.floor(t/this.MS_PER_DAY);i>0&&(t-=i*this.MS_PER_DAY,r+=(r.length>0?this.formatTimeNum(i):i)+(o?o:"天"))}if(e>=3){var n=Math.floor(t/this.MS_PER_HOUR);n>0&&(t-=n*this.MS_PER_HOUR,r+=(r.length>0?this.formatTimeNum(n):n)+(o?o:"小时"))}if(e>=2){var s=Math.floor(t/this.MS_PER_MINUTE);s>0&&(t-=s*this.MS_PER_MINUTE,r+=(r.length>0?this.formatTimeNum(s):s)+(o?o:"分"))}var a=Math.floor(t/1e3);return r+=this.formatTimeNum(a)+(o?"":"秒")},t.format_6=function(t){t-=this.TIME_ZONE_OFFSET;var e=new Date(t),o=e.getHours(),r=e.getMinutes(),i=e.getSeconds();return this.formatTimeNum(o)+":"+this.formatTimeNum(r)+":"+this.formatTimeNum(i)},t.format_7=function(t){return t<this.MS_PER_HOUR?"&lt;1小时":t<this.MS_PER_DAY?Math.floor(t/this.MS_PER_HOUR)+"小时":Math.floor(t/this.MS_PER_DAY)+"天"},t.format_8=function(t){t-=this.TIME_ZONE_OFFSET;var e=new Date(t),o=e.getFullYear(),r=e.getMonth()+1,i=e.getDate(),n=e.getHours(),s=e.getMinutes();return o+"-"+r+"-"+i+" "+n+":"+s},t.format_14=function(t){var e=new Date(t||0),o=e.getFullYear(),r=e.getMonth()+1,i=e.getDate();e.getHours(),e.getMinutes();return o+"年"+r+"月"+i+"日"},t.format_15=function(t){var e=new Date(t||0),o=e.getFullYear(),r=e.getMonth()+1,i=e.getDate();e.getHours(),e.getMinutes();return o+"-"+r+"-"+i},t.format_16=function(e,o){var r;if(e>=t.MS_PER_DAY){var i=Math.floor(e/t.MS_PER_DAY),n=Math.floor(e%t.MS_PER_DAY/t.MS_PER_HOUR);if(r=i+"天"+n+"时",o){var s=Math.floor(e%t.MS_PER_HOUR/60);r+=s+"分"}return r}return this.format_1(e)},t.format_17=function(e){var o;if(e>=t.MS_PER_DAY){var r=Math.floor(e/t.MS_PER_DAY),i=Math.floor(e%t.MS_PER_DAY/t.MS_PER_HOUR),n=Math.floor(e%t.MS_PER_HOUR/t.MS_PER_MINUTE),s=Math.floor(e%t.MS_PER_MINUTE/t.MS_PER_SECOND);return o=r+"天"+i+"时"+n+"分"+s+"秒"}return this.format_1(e)},t.format_9=function(t){var e=Math.floor(t/this.MS_PER_HOUR);t-=e*this.MS_PER_HOUR;var o=Math.floor(t/this.MS_PER_MINUTE);t-=o*this.MS_PER_MINUTE;var r=Math.floor(t/1e3);return e+"小时"+o+"分钟"+r+"秒"},t.format_11=function(t,e,o){void 0===e&&(e=!0),void 0===o&&(o=!1);var r=Math.floor(t/this.MS_PER_HOUR);t-=r*this.MS_PER_HOUR;var i=Math.floor(t/this.MS_PER_MINUTE);t-=i*this.MS_PER_MINUTE;var n=Math.floor(t/1e3),s=10>r&&o?"0"+r:r,a=10>i&&o?"0"+i:i,_=10>n&&o?"0"+n:n;return e?s+":"+a+":"+_:0==r?a+":"+_:void 0},t.formatTimeNum=function(t){return t>=10?t.toString():"0"+t},t.StrToDate=function(t){if(null==t)return null;if(this.m_StrToDate[t])return this.m_StrToDate[t];try{var e=t.split("-");if(e){var o=e[0],r=e[1],i=new Date(0);if(o){var n=o.split(".");n&&(n[0]&&i.setFullYear(Number(n[0])),n[1]&&i.setMonth(Number(n[1])-1),n[2]&&i.setDate(Number(n[2])))}if(r){var s=r.split(":");s&&(s[0]&&i.setHours(Number(s[0])),s[1]&&i.setMinutes(Number(s[1])),s[2]&&i.setSeconds(Number(s[2])))}return this.m_StrToDate[t]=i,i}}catch(a){}return console.log("invalid date => "+t),null},t.GetDay=function(t){return 0==t.getDay()?7:t.getDay()},t.getGMT8Date=function(e){var o,r=new Date(e),i=-480;return o=(i-r.getTimezoneOffset())*t.MS_PER_MINUTE,r=new Date(e-o)},t.compareOneDayTime=function(t,e,o,r){var i=t.split(":"),n=i[0],s=i[1],a=3==i.length?i[2]:0,_=parseInt(this.formatTimeNum(e)+this.formatTimeNum(o)+this.formatTimeNum(r||0)),l=parseInt(this.formatTimeNum(n)+this.formatTimeNum(s)+this.formatTimeNum(a||0));return _-l},t.m_StrToDate={},t.TIME_FORMAT_1=1,t.TIME_FORMAT_2=2,t.TIME_FORMAT_3=3,t.TIME_FORMAT_4=4,t.TIME_FORMAT_5=5,t.TIME_FORMAT_6=6,t.TIME_FORMAT_7=7,t.TIME_FORMAT_8=8,t.TIME_FORMAT_9=9,t.TIME_FORMAT_11=11,t.TIME_FORMAT_14=14,t.TIME_FORMAT_15=15,t.DAYS_OF_WEEK=7,t.HOURS_PER_DAY=24,t.SECONDS_PER_HOUR=3600,t.MS_PER_SECOND=1e3,t.MS_PER_MINUTE=6e4,t.MS_PER_HOUR=36e5,t.MS_PER_DAY=864e5,t.MS_PER_MONTH=30*t.MS_PER_DAY,t.MS_PER_YEAR=12*t.MS_PER_MONTH,t.MINI_DATE_TIME_BASE=Date.UTC(2010,0)+(new Date).getTimezoneOffset()*t.MS_PER_MINUTE,t.TIME_ZONE_OFFSET=0,t}();__reflect(DateUtils.prototype,"DateUtils");var game;!function(t){var e;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"next",{get:function(){return t._next++,t._next},enumerable:!0,configurable:!0}),t.UNIT_CANNT_MOVE=0,t.UNIT_CANNT_JUMP=t.UNIT_CANNT_MOVE+1,t.UNIT_CANNT_ACCURACY=t.UNIT_CANNT_JUMP+1,t.UNIT_CANNT_SPELL=t.UNIT_CANNT_ACCURACY+1,t.UNIT_CAN_HIT_JUMP=t.UNIT_CANNT_SPELL+1,t.UNIT_IMMUNE_BOSS=t.UNIT_CAN_HIT_JUMP+1,t.UNIT_DAMAGE_BOSS_100=t.UNIT_IMMUNE_BOSS+1,t.UNIT_BIT_HOLD_63=63,t.UNIT_BIT_MOUNT_RIDE=t.UNIT_BIT_HOLD_63+1,t.PLAYER_IS_NEW=0,t.PLAYER_IS_CROSS_1V1=1,t.PLAYER_HAVE_MOUNT=2,t.PLAYER_HAVE_PET=3,t.PLAYER_HAVE_BAG_PIN=4,t.PLAYER_UNLOCK_BAG_PIN=5,t.PLAYER_RENAME=6,t.PLAYER_UNHEALTH_TIME=7,t.PLAYER_QUEST_DAILY=8,t.PLAYER_IS_OPEN_LGPL=9,t.PLAYER_EVENT_HALL_IS_SUBSCRIBED=10,t.PLAYER_IS_ACTIVE_MOONLOVE_FASHION=11,t.PLAYER_IS_CAN_ACTIVE_LINGQI_YINREN=12,t.PLAYER_HAVE_BAMEN=13,t.PLAYER_EQUIPMENT_UPGRADE=14,t.PLAYER_POWER_VIP_IS_CREATE=15,t.PLAYER_POWER_IS_HAS_LIST=17,t.PLAYER_IS_SIT_IN_MEDITATION=19,t.PLAYER_LOGIN_REWARD_START=20,t.PLAYER_LOGIN_REWARD_END=t.PLAYER_LOGIN_REWARD_START+7,t.PLAYER_FIRST_RECHARGE_REWARD1=27,t.PLAYER_FIRST_RECHARGE_REWARD2=28,t.PLAYER_IS_PKSYSTEM_OPEN=29,t.PLAYER_POWER_IS_HAS_BLESS=30,t.PLAYER_IS_FACTION_TASK_OPEN=31,t.PLAYER_MAGIC_LANCE_GUIDE=32,t.PLAYER_MAGIC_LANCE=33,t.PLAYER_MAGIC_CROSSBOW_GUIDE=37,t.PLAYER_MAGIC_CROSSBOW=38,t.PLAYER_RESOURCE=39,t.PLAYER_IS_ANQI=34,t.PLAYER_IS_BUY_BAIBEI_REBATE=35,t.PLAYER_TODAY_HAS_ENTERED_GUI_GU=36,t.PLAYER_IS_OPEN_TRIM_BACK=39,t.PLAYER_IS_OPEN_LING_ZHEN=40,t.PLAYER_IS_OPEN_ZHANQI=41,t.PLAYER_IS_OPEN_GUAJI_QUEST=42,t.PLAYER_IS_PROVISIONAL_ACTIVATE_PET=43,t.PLAYER_YY_ZI_ZUAN_YEAR_GIFT=44,t.PLAYER_IS_OPEN_MOUNT=45,t.PLAYER_IS_OPEN_PIFENG=46,t.PLAYER_PLATFORM_HALL_IS_OPEN=47,t.PLAYER_IS_OPEN_ANQI=48,t.PLAYER_IS_OPEN_FAOBAO=49,t.PLAYER_TREASUREMAP_MARK1=50,t.PLAYER_TREASUREMAP_MARK2=51,t.PLAYER_TREASUREMAP_MARK3=52,t.PLAYER_TREASUREMAP_MARK4=53,t.PLAYER_FIRST_RECHARGE=54,t.PLAYER_KAIFU_FINAL_REWARD=55,t.PLAYER_NEW_PLAYER_EQUIP=56,t.PLAYER_FIRST_RECHARGE_REWARD3=57,t.PLAYER_FIRST_QUEST_DAILY=58,t.PLAYER_GET_FIRST_QUEST_DAILY=59,t.PLAYER_IS_OPEN_BIANJING_FENGYUN=60,t.PLAYER_IS_OPEN_DUN_PAI=62,t.PLAYER_JUE_XUE_UP=63,t.PLAYER_DUNGEON_HORSE_START=64,t.PLAYER_DUNGEON_HORSE_END=t.PLAYER_DUNGEON_HORSE_START+32,t.PLAYER_DUNGEON_BACK_START=t.PLAYER_DUNGEON_HORSE_END,t.PLAYER_DUNGEON_BACK_END=t.PLAYER_DUNGEON_BACK_START+32,t.PLAYER_BIT_INS_CI_KE_1=t.PLAYER_DUNGEON_BACK_END,t.PLAYER_BIT_INS_CI_KE_2=t.PLAYER_BIT_INS_CI_KE_1+1,t.PLAYER_BIT_INS_CI_KE_3=t.PLAYER_BIT_INS_CI_KE_2+1,t.PLAYER_BIT_INS_CI_KE_4=t.PLAYER_BIT_INS_CI_KE_3+1,t.PLAYER_BIT_INS_CI_KE_5=t.PLAYER_BIT_INS_CI_KE_4+1,t.PLAYER_BIT_INS_CI_KE_6=t.PLAYER_BIT_INS_CI_KE_5+1,t.PLAYER_BIT_INS_CI_KE_7=t.PLAYER_BIT_INS_CI_KE_6+1,t.PLAYER_BIT_INS_CI_KE_END=t.PLAYER_BIT_INS_CI_KE_1+64,t.PLAYER_EQUIP_GEM_SUIT_ACT=t.PLAYER_BIT_INS_CI_KE_END,t.PLAYER_EQUIP_GEM_SUIT_ACT_END=t.PLAYER_EQUIP_GEM_SUIT_ACT+32,t.PLAYER_BIT_PARET_REWARD_1=t.PLAYER_EQUIP_GEM_SUIT_ACT_END,t.PLAYER_BIT_PARET_REWARD_END=t.PLAYER_BIT_PARET_REWARD_1+32,t.PLAYER_BIT_REINCARNATION_ONE_QUEST_STATUS_START=t.PLAYER_BIT_PARET_REWARD_END,t.PLAYER_BIT_REINCARNATION_ONE_QUEST_STATUS_END=t.PLAYER_BIT_REINCARNATION_ONE_QUEST_STATUS_START+10,t.PLAYER_BIT_REINCARNATION_ONE_REWARD_STATUS_START=t.PLAYER_BIT_REINCARNATION_ONE_QUEST_STATUS_END,t.PLAYER_BIT_REINCARNATION_ONE_REWARD_STATUS_END=t.PLAYER_BIT_REINCARNATION_ONE_REWARD_STATUS_START+10,t.PLAYER_BIT_REINCARNATION_ONE_END=t.PLAYER_BIT_REINCARNATION_ONE_QUEST_STATUS_START+32,t.PLAYER_BIT_WELFARE_HALL_START=t.PLAYER_BIT_REINCARNATION_ONE_END,t.PLAYER_BIT_FREE_SIGN=t.PLAYER_BIT_WELFARE_HALL_START,t.PLAYER_BIT_FREE_SIGN_END=t.PLAYER_BIT_FREE_SIGN+8,t.PLAYER_BIT_LEVEL_GIFT=t.PLAYER_BIT_FREE_SIGN_END,t.PLAYER_BIT_LEVEL_GIFT_END=t.PLAYER_BIT_LEVEL_GIFT+32,t.PLAYER_BIT_PARTAKE_WORLDBOSS=t.PLAYER_BIT_LEVEL_GIFT_END,t.PLAYER_BIT_PARTAKE_WORLDBOSS_END=t.PLAYER_BIT_PARTAKE_WORLDBOSS+6,t.PLAYER_BIT_WELFARE_HALL_END=t.PLAYER_BIT_WELFARE_HALL_START+64,t.PLAYER_BIT_INS_LINEUP=t.PLAYER_BIT_WELFARE_HALL_END,t.PLAYER_BIT_INS_LINEUP_END=t.PLAYER_BIT_INS_LINEUP+32,t.PLAYER_BIT_INS_VIP=t.PLAYER_BIT_INS_LINEUP_END,t.PLAYER_BIT_INS_VIP_END=t.PLAYER_BIT_INS_VIP+32,t.PLAYER_BIT_VIP_LEVEL=t.PLAYER_BIT_INS_VIP_END,t.PLAYER_BIT_VIP_CROWN=t.PLAYER_BIT_VIP_LEVEL+16,t.PLAYER_BIT_VIP_CROWN_END=t.PLAYER_BIT_VIP_CROWN+4,t.PLAYER_BIT_VIP_CROWN_DAY_REWARD=t.PLAYER_BIT_VIP_CROWN_END,t.PLAYER_BIT_VIP_CROWN_DAY_REWARD_END=t.PLAYER_BIT_VIP_CROWN_DAY_REWARD+4,t.PLAYER_BIT_VIP_LEVEL_END=t.PLAYER_BIT_VIP_LEVEL+32,t.PLAYER_BIT_REINCARNATION_IS_OPEN=t.PLAYER_BIT_VIP_LEVEL_END,t.PLAYER_BIT_REINCARNATION_QUEST_STATUS_1=t.PLAYER_BIT_REINCARNATION_IS_OPEN+1,t.PLAYER_BIT_REINCARNATION_QUEST_STATUS_2=t.PLAYER_BIT_REINCARNATION_QUEST_STATUS_1+1,t.PLAYER_BIT_REINCARNATION_QUEST_STATUS_3=t.PLAYER_BIT_REINCARNATION_QUEST_STATUS_2+1,t.PLAYER_BIT_REINCARNATION_TWO_IS_OPEN=t.PLAYER_BIT_REINCARNATION_QUEST_STATUS_3+1,t.PLAYER_BIT_REINCARNATION_TWO_SPECIAL_QUEST_OPEN=t.PLAYER_BIT_REINCARNATION_TWO_IS_OPEN+1,t.PLAYER_BIT_REINCARNATION_TWO_QUEST_STATUS_START=t.PLAYER_BIT_REINCARNATION_TWO_SPECIAL_QUEST_OPEN+1,t.PLAYER_BIT_REINCARNATION_TWO_QUEST_STATUS_END=t.PLAYER_BIT_REINCARNATION_TWO_QUEST_STATUS_START+10,t.PLAYER_BIT_REINCARNATION_TWO_REWARD_STATUS_START=t.PLAYER_BIT_REINCARNATION_TWO_QUEST_STATUS_END+1,t.PLAYER_BIT_REINCARNATION_TWO_REWARD_STATUS_END=t.PLAYER_BIT_REINCARNATION_TWO_REWARD_STATUS_START+10,t.PLAYER_BIT_REINCARNATION_THREE_IS_OPEN=t.PLAYER_BIT_REINCARNATION_TWO_REWARD_STATUS_END+1,t.PLAYER_BIT_REINCARNATION_END=t.PLAYER_BIT_REINCARNATION_IS_OPEN+32,t.PLAYER_BIT_EXPLOIT_BOX=t.PLAYER_BIT_REINCARNATION_END,t.PLAYER_BIT_EXPLOIT_BOX_END=t.PLAYER_BIT_EXPLOIT_BOX+32,t.PLAYER_BIT_PERSONAL_BOSS_REWARD=t.PLAYER_BIT_EXPLOIT_BOX_END,t.PLAYER_BIT_PERSONAL_BOSS_REWARD_END=t.PLAYER_BIT_PERSONAL_BOSS_REWARD+32,t.PLAYER_BIT_INS_FOOTMARK_START=t.PLAYER_BIT_PERSONAL_BOSS_REWARD_END,t.PLAYER_BIT_INS_FOOTMARK_END=t.PLAYER_BIT_INS_FOOTMARK_START+32,t.PLAYER_BIT_OPERATION_START=t.PLAYER_BIT_INS_FOOTMARK_END,t.PLAYER_BIT_INVEST=t.PLAYER_BIT_OPERATION_START,t.PLAYER_BIT_INVEST_END=t.PLAYER_BIT_INVEST+8,t.PLAYER_BIT_XIAN_SHI=t.PLAYER_BIT_INVEST_END,t.PLAYER_BIT_XIAN_SHI_END=t.PLAYER_BIT_XIAN_SHI+8,t.PLAYER_SEVEN_DAY_PAY_REWARD=t.PLAYER_BIT_XIAN_SHI_END,t.PLAYER_SEVEN_DAY_PAY_REWARD_END=t.PLAYER_SEVEN_DAY_PAY_REWARD+8,t.PLAYER_BIT_XIAN_SHI_RECHARGE=t.PLAYER_SEVEN_DAY_PAY_REWARD_END,t.PLAYER_BIT_XIAN_SHI_RECHARGE_END=t.PLAYER_BIT_XIAN_SHI_RECHARGE+8,t.PLAYER_SEVEN_DAY_FINISH_RECHANGE=t.PLAYER_BIT_XIAN_SHI_RECHARGE_END,t.PLAYER_SEVEN_DAY_FINISH_RECHANGE_END=t.PLAYER_SEVEN_DAY_FINISH_RECHANGE+8,t.PLAYER_SEVEN_DAY_RECHANGE_REWARD=t.PLAYER_SEVEN_DAY_FINISH_RECHANGE_END,t.PLAYER_SEVEN_DAY_RECHANGE_REWARD_END=t.PLAYER_SEVEN_DAY_RECHANGE_REWARD+8,t.PLAYER_BIT_OPERATION_END=t.PLAYER_BIT_OPERATION_START+64,t.PLAYER_BIT_SYS_TARGET=t.PLAYER_BIT_OPERATION_END,t.PLAYER_BIT_SYS_TARGET_LAST=t.PLAYER_BIT_SYS_TARGET+12,t.PLAYER_BIT_FIGHT_TARGET_1=t.PLAYER_BIT_SYS_TARGET_LAST,t.PLAYER_BIT_FIGHT_TARGET_2=t.PLAYER_BIT_FIGHT_TARGET_1+1,t.PLAYER_BIT_SYS_TARGET_END=t.PLAYER_BIT_SYS_TARGET+96,t.PLAYER_BIT_INS_DOMINATE_QIN_1=t.PLAYER_BIT_SYS_TARGET_END,t.PLAYER_BIT_INS_DOMINATE_QIN_END=t.PLAYER_BIT_INS_DOMINATE_QIN_1+32,t.PLAYER_BIT_KAIFU_TASK_STAT=t.PLAYER_BIT_INS_DOMINATE_QIN_END,t.PLAYER_BIT_KAIFU_TASK_END=t.PLAYER_BIT_KAIFU_TASK_STAT+96,t.PLAYER_BIT_INS_ANQI_1=t.PLAYER_BIT_KAIFU_TASK_END,t.PLAYER_BIT_INS_ANQI_END=t.PLAYER_BIT_INS_ANQI_1+32,t.PLAYER_BIT_INS_DUN_PAI_1=t.PLAYER_BIT_INS_ANQI_1+12,t.PLAYER_BIT_INS_DUN_PAI_END=t.PLAYER_BIT_INS_DUN_PAI_1+12,t.PLAYER_BIT_INS_FABAO_1=t.PLAYER_BIT_INS_ANQI_END,t.PLAYER_BIT_INS_FABAO_END=t.PLAYER_BIT_INS_FABAO_1+32,t.PLAYER_BIT_GET_ONLINE_REWARD_START=t.PLAYER_BIT_INS_FABAO_END,t.PLAYER_BIT_GET_ONLINE_REWARD_END=t.PLAYER_BIT_GET_ONLINE_REWARD_START+32,t.PLAYER_BIT_INS_BOSS_PERSONAL_START=t.PLAYER_BIT_GET_ONLINE_REWARD_END,t.PLAYER_BIT_INS_BOSS_PERSONAL_END=t.PLAYER_BIT_INS_BOSS_PERSONAL_START+32,t.PLAYER_COUNT_FACTION_QUEST=0,t.PLAYER_COUNT_FACTION_TASK_SYS_REF=t.PLAYER_COUNT_FACTION_QUEST+8,t.PLAYER_COUNT_FACTION_TASK_FINISH_NUM=t.PLAYER_COUNT_FACTION_TASK_SYS_REF+8,t.PLAYER_COUNT_CROSS_1V1=t.PLAYER_COUNT_FACTION_TASK_FINISH_NUM+8,t.PLAYER_COUNT_CROSS_1V1_WIN=t.PLAYER_COUNT_CROSS_1V1+8,t.PLAYER_COUNT_PERSONAL_BOSS=t.PLAYER_COUNT_CROSS_1V1_WIN+8,t.PLAYER_COUNT_PARTAKE_WORLDBOSS=t.PLAYER_COUNT_PERSONAL_BOSS+8,t.PLAYER_COUNT_QUEST_DAILY=64,t.PLAYER_COUNT_INS_EQUIP_BOSS=t.PLAYER_COUNT_QUEST_DAILY+8,t.PLAYER_COUNT_INS_CHALLENGE=t.PLAYER_COUNT_INS_EQUIP_BOSS+8,t.PLAYER_COUNT_INS_MOUNT=t.PLAYER_COUNT_INS_CHALLENGE+8,t.PLAYER_COUNT_INS_PET=t.PLAYER_COUNT_INS_MOUNT+8,t.PLAYER_COUNT_INS_LINGZHEN=t.PLAYER_COUNT_INS_PET+8,t.PLAYER_COUNT_INS_COIN=t.PLAYER_COUNT_INS_LINGZHEN+8,t.PLAYER_COUNT_INS_EXP=t.PLAYER_COUNT_INS_COIN+8,t.PLAYER_COUNT_INS_JIANGHULEITAI=t.PLAYER_COUNT_INS_EXP+8,t.PLAYER_COUNT_INS_TANBAO=t.PLAYER_COUNT_INS_JIANGHULEITAI+8,t.PLAYER_COUNT_INS_WORLDBOSS=t.PLAYER_COUNT_INS_TANBAO+8,t.PLAYER_COUNT_INS_QUANFU_BOSS=t.PLAYER_COUNT_INS_WORLDBOSS+8,t.PLAYER_COUNT_CLAN_TASK=t.PLAYER_COUNT_INS_QUANFU_BOSS+8,t.PLAYER_COUNT_CLAN_GIFT=t.PLAYER_COUNT_CLAN_TASK+8,t.PLAYER_COUNT_EXERCISE=t.PLAYER_COUNT_CLAN_GIFT+8,t.PLAYER_COUNT_TODAY_RECHARGE=t.PLAYER_COUNT_EXERCISE+8,t.PLAYER_COUNT_PERSONAL_TREASURE=t.PLAYER_COUNT_TODAY_RECHARGE+8,t.PLAYER_COUNT_INS_TRIMBACK=t.PLAYER_COUNT_PERSONAL_TREASURE+8,t.PLAYER_COUNT_INS_FOOTMARK=t.PLAYER_COUNT_INS_TRIMBACK+8,t.PLAYER_COUNT_CLAN_TASK_COST_REF=t.PLAYER_COUNT_INS_FOOTMARK+8,t.PLAYER_COUNT_GOLD_TREASURE_COUNT=t.PLAYER_COUNT_CLAN_TASK_COST_REF+8,t.PLAYER_COUNT_FREE_REVIVE_COUNT=t.PLAYER_COUNT_GOLD_TREASURE_COUNT+8,t.PLAYER_COUNT_GUAJI_QUEST_COUNT=t.PLAYER_COUNT_FREE_REVIVE_COUNT+8,t.PLAYER_COUNT_INS_ZI_ZUAN=t.PLAYER_COUNT_GUAJI_QUEST_COUNT+8,t.PLAYER_COUNT_INS_DOMINATE_QIN=t.PLAYER_COUNT_INS_ZI_ZUAN+8,t.PLAYER_COUNT_INS_MATERINAL_SYS=t.PLAYER_COUNT_INS_DOMINATE_QIN+8,t.PLAYER_COUNT_INS_UNDERGROUND_BOSS=t.PLAYER_COUNT_INS_MATERINAL_SYS+8,t.PLAYER_DUNGEON_HORSE_TIMES_START=320,t.PLAYER_DUNGEON_HORSE_TIMES_END=t.PLAYER_DUNGEON_HORSE_TIMES_START+96,t.PLAYER_DUNGEON_BOOK_TIMES_START=t.PLAYER_DUNGEON_HORSE_TIMES_END,t.PLAYER_DUNGEON_BOOK_TIMES_END=t.PLAYER_DUNGEON_BOOK_TIMES_START+32,t.PLAYER_DUNGEON_CHALLENGE_TIMES_START=t.PLAYER_DUNGEON_BOOK_TIMES_END,t.PLAYER_DUNGEON_CHALLENGE_TIMES_END=t.PLAYER_DUNGEON_CHALLENGE_TIMES_START+32,t.PLAYER_INS_JING_KUANG=t.PLAYER_DUNGEON_HORSE_TIMES_END,t.PLAYER_INS_JING_KUANG_END=t.PLAYER_INS_JING_KUANG+32,t.PLAYER_INS_CHALLENGE_RESET=t.PLAYER_INS_JING_KUANG_END,t.PLAYER_INS_CHALLENGE_END=t.PLAYER_INS_CHALLENGE_RESET+32,t.PLAYER_INS_CLAN_OPEN_COUNT=t.PLAYER_INS_CHALLENGE_END,t.PLAYER_INS_CLAN_LOTTERY=t.PLAYER_INS_CLAN_OPEN_COUNT+8,t.PLAYER_INS_CLAN_END=t.PLAYER_INS_CLAN_OPEN_COUNT+32,t.PLAYER_COUNT_DAILY_BUY=t.PLAYER_INS_CLAN_END,t.PLAYER_COUNT_DAILY_FINISH=t.PLAYER_COUNT_DAILY_BUY+8,t.PLAYER_COUNT_DAILY_LEVY=t.PLAYER_COUNT_DAILY_FINISH+8,t.PLAYER_COUNT_DAILY_END=t.PLAYER_COUNT_DAILY_BUY+32,t.PLAYER_INS_CLAN_BOSS_CONJURE=t.PLAYER_COUNT_DAILY_END,t.PLAYER_INS_CLAN_BOSS_CONJURE_END=t.PLAYER_INS_CLAN_BOSS_CONJURE+32,t.PLAYER_INS_EXP_FIGHT_COUNT=t.PLAYER_INS_CLAN_BOSS_CONJURE_END,t.PLAYER_INS_EXP_MULTIREWARD=t.PLAYER_INS_EXP_FIGHT_COUNT+1,t.PLAYER_INS_EXP_FIGHT_COUNT_END=t.PLAYER_INS_EXP_FIGHT_COUNT+32,t.PLAYER_INS_PET_1=t.PLAYER_INS_EXP_FIGHT_COUNT_END,t.PLAYER_INS_PET_END=t.PLAYER_INS_PET_1+256,t.PLAYER_INS_LINEUP=t.PLAYER_INS_PET_END,t.PLAYER_INS_LINEUP_END=t.PLAYER_INS_LINEUP+96,t.PLAYER_INS_VIP=t.PLAYER_INS_LINEUP_END,t.PLAYER_INS_VIP_END=t.PLAYER_INS_VIP+96,t.PLAYER_COUNT_RECHARGE_REBATE=t.PLAYER_INS_VIP_END,t.PLAYER_COUNT_RECHARGE_REBATE_END=t.PLAYER_COUNT_RECHARGE_REBATE+16,t.PLAYER_COUNT_SYS_TARGET=t.PLAYER_COUNT_RECHARGE_REBATE_END,t.PLAYER_COUNT_SYS_TARGET_END=t.PLAYER_COUNT_RECHARGE_REBATE+32,t.PLAYER_COUNT_SYS_RANK=t.PLAYER_COUNT_SYS_TARGET_END,t.PLAYER_COUNT_SYS_RANK_END=t.PLAYER_COUNT_SYS_RANK+8,t.PLAYER_COUNT_FIRST_GROUP_RECHARGE=t.PLAYER_COUNT_SYS_RANK_END,t.PLAYER_COUNT_FIRST_GROUP_RECHARGE_END=t.PLAYER_COUNT_FIRST_GROUP_RECHARGE+24,t.PLAYER_COUNT_OPEN_SERVER_END=t.PLAYER_COUNT_SYS_RANK+64,t.PLAYER_AN_QI_BOX_1=t.PLAYER_COUNT_OPEN_SERVER_END,t.PLAYER_AN_QI_BOX_END=t.PLAYER_AN_QI_BOX_1+32,t.PLAYER_INS_VIP_LIMIT_GOODS=t.PLAYER_AN_QI_BOX_END,t.PLAYER_INS_VIP_LIMIT_GOODS_END=t.PLAYER_INS_VIP_LIMIT_GOODS+64,t.PLAYER_INS_COIN_FIGHT_COUNT=t.PLAYER_INS_VIP_LIMIT_GOODS_END,t.PLAYER_INS_COIN_MULTIREWARD=t.PLAYER_INS_COIN_FIGHT_COUNT+1,t.PLAYER_INS_COIN_FIGHT_COUNT_END=t.PLAYER_INS_COIN_FIGHT_COUNT+32,t.PLAYER_LIVENESS_REWARD=t.PLAYER_INS_COIN_FIGHT_COUNT_END,t.PLAYER_LIVENESS_REWARD_END=t.PLAYER_LIVENESS_REWARD+64,t.PLAYER_INS_TRIMBACK_1=t.PLAYER_LIVENESS_REWARD_END,t.PLAYER_INS_TRIMBACK_END=t.PLAYER_INS_TRIMBACK_1+96,t.PLAYER_INS_FOOTMARK_1=t.PLAYER_INS_TRIMBACK_END,t.PLAYER_INS_FOOTMARK_END=t.PLAYER_INS_FOOTMARK_1+96,t.PLAYER_COUNT_WORD_EXCHANGE_1=t.PLAYER_INS_FOOTMARK_END,t.PLAYER_COUNT_WORD_EXCHANGE_END=t.PLAYER_COUNT_WORD_EXCHANGE_1+64,t.PLAYER_COUNT_KAIFU_TASK_CLAN=t.PLAYER_COUNT_WORD_EXCHANGE_END,t.PLAYER_COUNT_KAIFU_TASK_ONLINE_REWARD=t.PLAYER_COUNT_KAIFU_TASK_CLAN+8,t.PLAYER_COUNT_KAIFU_TASK_END=t.PLAYER_COUNT_KAIFU_TASK_CLAN+32,t.PLAYER_COUNT_QIANJIGE_TASK=t.PLAYER_COUNT_KAIFU_TASK_END,t.PLAYER_COUNT_QIANJIGE_END=t.PLAYER_COUNT_QIANJIGE_TASK+32,t.PLAYER_COUNT_EXPLOIT_TASK_ACCEPT=t.PLAYER_COUNT_QIANJIGE_END,t.PLAYER_COUNT_EXPLOIT_TASK_REWARD=t.PLAYER_COUNT_EXPLOIT_TASK_ACCEPT+8,t.PLAYER_COUNT_EXPLOIT_TASK_END=t.PLAYER_COUNT_EXPLOIT_TASK_ACCEPT+32,t.PLAYER_INS_ANQI_1=t.PLAYER_COUNT_EXPLOIT_TASK_END,t.PLAYER_INS_ANQI_END=t.PLAYER_INS_ANQI_1+96,t.PLAYER_INS_FABAO_1=t.PLAYER_INS_ANQI_END,t.PLAYER_INS_FABAO_END=t.PLAYER_INS_FABAO_1+96,t.PLAYER_INS_KAIFU_TASK_1=t.PLAYER_INS_FABAO_END,t.PLAYER_INS_KAIFU_TASK_2=t.PLAYER_INS_KAIFU_TASK_1+7,t.PLAYER_INS_KAIFU_TASK_END=t.PLAYER_INS_KAIFU_TASK_1+96,t.PLAYER_INS_DUN_PAI_COUNT=t.PLAYER_INS_KAIFU_TASK_END,t.PLAYER_INS_DUN_PAI_COUNT_END=t.PLAYER_INS_DUN_PAI_COUNT+96,t._next=0,t.PLAYER_STATI_KILL_PLAYERS=t.next,t.PLAYER_STATI_READ_BOOKS=t.next,t.PLAYER_STATI_TRIMBACKS=t.next,t.PLAYER_STATI_HOLYWEAPON=t.next,t.PLAYER_STATI_QUEST_DAILY=t.next,t.PLAYER_STATI_MOUNT_INST=t.next,t.PLAYER_STATI_COIN_INST=t.next,t.PLAYER_STATI_BOOKS_INST=t.next,t.PLAYER_STATI_ANQI=t.next,t.PLAYER_STATI_INS_EXP=t.next,t.PLAYER_STATI_PERSONAL_BOSS=t.next,t.PLAYER_STATI_DOMINATECITY_NUM=t.next,t.PLAYER_STATI_EQUIP_BOSS=t.next,t.PLAYER_STATI_JOIN_WORLD_BOSS=t.next,t.PLAYER_STATI_BIANJING_MONSTER_KILL=t.next,t.PLAYER_STATI_JOIN_TERRITORY=t.next,t.PLAYER_STATI_GONGCHENGZHAN=t.next,t.PLAYER_STATI_BIANJING_KILL_PLAYER=t.next,t.PLAYER_STATI_BIANJING_JIAOFEI=t.next,t.PLAYER_STATI_BIANJING_BOSS_JOIN=t.next,t.PLAYER_STATI_BIANJING_BOSS=t.next,t.PLAYER_STATI_WABAO=t.next,t.PLAYER_STATI_SENIOR_WABAO=t.next,t.PLAYER_STATI_JOIN_DOMINATE_NINE=t.next,t.PLAYER_STATI_JOIN_UNDER_GROUD_BOSS=t.next,t.PLAYER_STATI_OWN_DOMINATECITY_NUM=t.next,t.PLAYER_STATI_MAX=t.next,t}();t.BitFields=e,__reflect(e.prototype,"game.objects.BitFields")}(e=t.objects||(t.objects={}))}(game||(game={}));var GameServer=function(){function t(){}return Object.defineProperty(t,"serverTime",{get:function(){return t._serverTime+Math.floor(.001*egret.getTimer())},enumerable:!0,configurable:!0}),Object.defineProperty(t,"serverTimeMilli",{get:function(){return 1e3*t._serverTime+egret.getTimer()},enumerable:!0,configurable:!0}),t.setServerTime=function(e){t._serverTime=e-Math.floor(.001*egret.getTimer()),t.ETNER_GAME_TIME||(t.ETNER_GAME_TIME=t._serverTime),this.updateTheDayEndTime()},t.updateTheDayEndTime=function(){var e=new Date(t.serverTimeMilli);e.setHours(23),e.setMinutes(59),e.setSeconds(59),this._dayEndTime=e.getTime();var o=new Date(t.serverTimeMilli);o.setDate(o.getDate()+1),o.setHours(23),o.setMinutes(59),o.setSeconds(59),this._dayEnd2Time=o.getTime();var r=new Date(t.serverTimeMilli);r.setDate(r.getDate()+2),r.setHours(23),r.setMinutes(59),r.setSeconds(59),this._dayEnd3Time=r.getTime()},Object.defineProperty(t,"dayEndTime",{get:function(){return this._dayEndTime},enumerable:!0,configurable:!0}),t.GetSurplusTime=function(t,e,o){void 0===e&&(e=DateUtils.TIME_FORMAT_5),void 0===o&&(o=2);var r=Math.max(0,(t||0)-this.serverTime);return DateUtils.getFormatBySecond(r,e,o)},t.GetPkTime=function(t,e,o){void 0===e&&(e=DateUtils.TIME_FORMAT_11),void 0===o&&(o=2);var r=Math.max(0,(t||0)-this.serverTime);return DateUtils.getFormatBySecond(r,e,o)},t.GettreeTime=function(t,e,o){void 0===e&&(e=DateUtils.TIME_FORMAT_11),void 0===o&&(o=3);var r=Math.max(0,(t||0)-this.serverTime);return DateUtils.getFormatBySecond(r,e,o)},t.Redbag=function(t,e,o){void 0===e&&(e=DateUtils.TIME_FORMAT_15),void 0===o&&(o=3);var r=Math.max(0,t||0);return DateUtils.getFormatBySecond(r,e,o)},t.JfShow=function(t,e,o){void 0===e&&(e=DateUtils.TIME_FORMAT_9),void 0===o&&(o=3);var r=Math.max(0,t||0);return DateUtils.getFormatBySecond(r,e,o)},t.PanTaoHui=function(t,e,o){void 0===e&&(e=DateUtils.TIME_FORMAT_2),void 0===o&&(o=3);var r=Math.max(0,t||0);return DateUtils.getFormatBySecond(r,e,o)},t.JieHun=function(t,e,o){void 0===e&&(e=DateUtils.TIME_FORMAT_14),void 0===o&&(o=3);var r=Math.max(0,t||0);return DateUtils.getFormatBySecond(r,e,o)},t.IsMerge=function(){return this.mergeDay>0},t.prototype._DoBaseReplaceAccount=function(){t.mOtherLogin=!0,alert("你的账号在其它地方登陆")},t._serverTime=0,t.loginDay=1,t.mergeDay=0,t.mOtherLogin=!1,t}();__reflect(GameServer.prototype,"GameServer");var md5=function(){function t(){}return t.hex_md5=function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))},t.b64_md5=function(t){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(t)))},t.any_md5=function(t,e){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(t)),e)},t.hex_hmac_md5=function(t,e){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.b64_hmac_md5=function(t,e){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.any_hmac_md5=function(t,e,o){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)),o)},t.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},t.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},t.rstr_hmac_md5=function(t,e){var o=this.rstr2binl(t);o.length>16&&(o=this.binl_md5(o,8*t.length));for(var r=Array(16),i=Array(16),n=0;16>n;n++)r[n]=909522486^o[n],i[n]=1549556828^o[n];var s=this.binl_md5(r.concat(this.rstr2binl(e)),512+8*e.length);return this.binl2rstr(this.binl_md5(i.concat(s),640))},t.rstr2hex=function(t){try{this.hexcase}catch(e){this.hexcase=0}for(var o,r=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",i="",n=0;n<t.length;n++)o=t.charCodeAt(n),i+=r.charAt(o>>>4&15)+r.charAt(15&o);return i},t.rstr2b64=function(t){try{this.b64pad}catch(e){this.b64pad=""}for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",i=t.length,n=0;i>n;n+=3)for(var s=t.charCodeAt(n)<<16|(i>n+1?t.charCodeAt(n+1)<<8:0)|(i>n+2?t.charCodeAt(n+2):0),a=0;4>a;a++)r+=8*n+6*a>8*t.length?this.b64pad:o.charAt(s>>>6*(3-a)&63);return r},t.rstr2any=function(t,e){var o,r,i,n,s,a=e.length,_=Array(Math.ceil(t.length/2));for(o=0;o<_.length;o++)_[o]=t.charCodeAt(2*o)<<8|t.charCodeAt(2*o+1);var l=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),c=Array(l);for(r=0;l>r;r++){for(s=Array(),n=0,o=0;o<_.length;o++)n=(n<<16)+_[o],i=Math.floor(n/a),n-=i*a,(s.length>0||i>0)&&(s[s.length]=i);c[r]=n,_=s}var u="";for(o=c.length-1;o>=0;o--)u+=e.charAt(c[o]);return u},t.str2rstr_utf8=function(t){for(var e,o,r="",i=-1;++i<t.length;)e=t.charCodeAt(i),o=i+1<t.length?t.charCodeAt(i+1):0,e>=55296&&56319>=e&&o>=56320&&57343>=o&&(e=65536+((1023&e)<<10)+(1023&o),i++),127>=e?r+=String.fromCharCode(e):2047>=e?r+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?r+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(r+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return r},t.str2rstr_utf16le=function(t){for(var e="",o=0;o<t.length;o++)e+=String.fromCharCode(255&t.charCodeAt(o),t.charCodeAt(o)>>>8&255);return e},t.str2rstr_utf16be=function(t){for(var e="",o=0;o<t.length;o++)e+=String.fromCharCode(t.charCodeAt(o)>>>8&255,255&t.charCodeAt(o));return e},t.rstr2binl=function(t){for(var e=Array(t.length>>2),o=0;o<e.length;o++)e[o]=0;for(var o=0;o<8*t.length;o+=8)e[o>>5]|=(255&t.charCodeAt(o/8))<<o%32;return e},t.binl2rstr=function(t){for(var e="",o=0;o<32*t.length;o+=8)e+=String.fromCharCode(t[o>>5]>>>o%32&255);return e},t.binl_md5=function(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var o=1732584193,r=-271733879,i=-1732584194,n=271733878,s=0;s<t.length;s+=16){var a=o,_=r,l=i,c=n;o=this.md5_ff(o,r,i,n,t[s+0],7,-680876936),n=this.md5_ff(n,o,r,i,t[s+1],12,-389564586),i=this.md5_ff(i,n,o,r,t[s+2],17,606105819),r=this.md5_ff(r,i,n,o,t[s+3],22,-1044525330),o=this.md5_ff(o,r,i,n,t[s+4],7,-176418897),n=this.md5_ff(n,o,r,i,t[s+5],12,1200080426),i=this.md5_ff(i,n,o,r,t[s+6],17,-1473231341),r=this.md5_ff(r,i,n,o,t[s+7],22,-45705983),o=this.md5_ff(o,r,i,n,t[s+8],7,1770035416),n=this.md5_ff(n,o,r,i,t[s+9],12,-1958414417),i=this.md5_ff(i,n,o,r,t[s+10],17,-42063),r=this.md5_ff(r,i,n,o,t[s+11],22,-1990404162),o=this.md5_ff(o,r,i,n,t[s+12],7,1804603682),n=this.md5_ff(n,o,r,i,t[s+13],12,-40341101),i=this.md5_ff(i,n,o,r,t[s+14],17,-1502002290),r=this.md5_ff(r,i,n,o,t[s+15],22,1236535329),o=this.md5_gg(o,r,i,n,t[s+1],5,-165796510),n=this.md5_gg(n,o,r,i,t[s+6],9,-1069501632),i=this.md5_gg(i,n,o,r,t[s+11],14,643717713),r=this.md5_gg(r,i,n,o,t[s+0],20,-373897302),o=this.md5_gg(o,r,i,n,t[s+5],5,-701558691),n=this.md5_gg(n,o,r,i,t[s+10],9,38016083),i=this.md5_gg(i,n,o,r,t[s+15],14,-660478335),r=this.md5_gg(r,i,n,o,t[s+4],20,-405537848),o=this.md5_gg(o,r,i,n,t[s+9],5,568446438),n=this.md5_gg(n,o,r,i,t[s+14],9,-1019803690),i=this.md5_gg(i,n,o,r,t[s+3],14,-187363961),r=this.md5_gg(r,i,n,o,t[s+8],20,1163531501),o=this.md5_gg(o,r,i,n,t[s+13],5,-1444681467),n=this.md5_gg(n,o,r,i,t[s+2],9,-51403784),i=this.md5_gg(i,n,o,r,t[s+7],14,1735328473),r=this.md5_gg(r,i,n,o,t[s+12],20,-1926607734),o=this.md5_hh(o,r,i,n,t[s+5],4,-378558),n=this.md5_hh(n,o,r,i,t[s+8],11,-2022574463),i=this.md5_hh(i,n,o,r,t[s+11],16,1839030562),r=this.md5_hh(r,i,n,o,t[s+14],23,-35309556),o=this.md5_hh(o,r,i,n,t[s+1],4,-1530992060),n=this.md5_hh(n,o,r,i,t[s+4],11,1272893353),i=this.md5_hh(i,n,o,r,t[s+7],16,-155497632),r=this.md5_hh(r,i,n,o,t[s+10],23,-1094730640),o=this.md5_hh(o,r,i,n,t[s+13],4,681279174),n=this.md5_hh(n,o,r,i,t[s+0],11,-358537222),i=this.md5_hh(i,n,o,r,t[s+3],16,-722521979),r=this.md5_hh(r,i,n,o,t[s+6],23,76029189),o=this.md5_hh(o,r,i,n,t[s+9],4,-640364487),n=this.md5_hh(n,o,r,i,t[s+12],11,-421815835),i=this.md5_hh(i,n,o,r,t[s+15],16,530742520),r=this.md5_hh(r,i,n,o,t[s+2],23,-995338651),o=this.md5_ii(o,r,i,n,t[s+0],6,-198630844),n=this.md5_ii(n,o,r,i,t[s+7],10,1126891415),i=this.md5_ii(i,n,o,r,t[s+14],15,-1416354905),r=this.md5_ii(r,i,n,o,t[s+5],21,-57434055),o=this.md5_ii(o,r,i,n,t[s+12],6,1700485571),n=this.md5_ii(n,o,r,i,t[s+3],10,-1894986606),i=this.md5_ii(i,n,o,r,t[s+10],15,-1051523),r=this.md5_ii(r,i,n,o,t[s+1],21,-2054922799),o=this.md5_ii(o,r,i,n,t[s+8],6,1873313359),n=this.md5_ii(n,o,r,i,t[s+15],10,-30611744),i=this.md5_ii(i,n,o,r,t[s+6],15,-1560198380),r=this.md5_ii(r,i,n,o,t[s+13],21,1309151649),o=this.md5_ii(o,r,i,n,t[s+4],6,-145523070),n=this.md5_ii(n,o,r,i,t[s+11],10,-1120210379),i=this.md5_ii(i,n,o,r,t[s+2],15,718787259),r=this.md5_ii(r,i,n,o,t[s+9],21,-343485551),o=this.safe_add(o,a),r=this.safe_add(r,_),i=this.safe_add(i,l),n=this.safe_add(n,c)}return[o,r,i,n]},t.md5_cmn=function(t,e,o,r,i,n){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(r,n)),i),o)},t.md5_ff=function(t,e,o,r,i,n,s){return this.md5_cmn(e&o|~e&r,t,e,i,n,s)},t.md5_gg=function(t,e,o,r,i,n,s){return this.md5_cmn(e&r|o&~r,t,e,i,n,s)},t.md5_hh=function(t,e,o,r,i,n,s){return this.md5_cmn(e^o^r,t,e,i,n,s)},t.md5_ii=function(t,e,o,r,i,n,s){return this.md5_cmn(o^(e|~r),t,e,i,n,s)},t.safe_add=function(t,e){var o=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(o>>16);return r<<16|65535&o},t.bit_rol=function(t,e){return t<<e|t>>>32-e},t.hexcase=0,t.b64pad="",t}();__reflect(md5.prototype,"md5");var ObjectPool=function(){function t(){this._objs=new Array}return t.GetColorMat=function(){var t=this.COLOR_MAT.pop();return t||(t=[new egret.ColorMatrixFilter([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0])]),t},t.SetColorMat=function(t){this.COLOR_MAT.push(t)},t.prototype.pushObj=function(t){this._objs.push(t)},t.prototype.popObj=function(){return this._objs.length>0?this._objs.pop():null},t.prototype.clear=function(){for(;this._objs.length>0;)this._objs.pop()},t.pop=function(e){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];t._content[e]||(t._content[e]=[]);var i=t._content[e];if(i.length){var n=i.pop();return n}var s=egret.getDefinitionByName(e),a=o.length,_=void 0;return 0==a?_=new s:1==a?_=new s(o[0]):2==a?_=new s(o[0],o[1]):3==a?_=new s(o[0],o[1],o[2]):4==a?_=new s(o[0],o[1],o[2],o[3]):5==a&&(_=new s(o[0],o[1],o[2],o[3],o[4])),_.ObjectPoolKey=e,_},t.popWithExtraKey=function(e,o){t._content[e]||(t._content[e]=[]);var r,i=t._content[e];if(i.length)for(var n=0;n<i.length;n++)if(i[n].extraKey==o){r=i[n],i.splice(n,1);break}if(!r){var s=egret.getDefinitionByName(e);r=new s(o),r.extraKey=o,r.ObjectPoolKey=e}return r},t.push=function(e){if(null==e)return!1;var o=e.ObjectPoolKey;return!t._content[o]||t._content[o].indexOf(e)>-1?!1:(t._content[o].push(e),!0)},t.clear=function(){t._content={}},t.clearClass=function(e,o){void 0===o&&(o=null);var r=t._content[e];if(null!=r){for(;r&&r.length;){var i=r.pop();o&&i[o](),i=null}t._content[e]=null,delete t._content[e]}},t.dealFunc=function(e,o){var r=t._content[e];if(null!=r){var i=0,n=r.length;for(i;n>i;i++)r[i][o]()}},t.COLOR_MAT=[],t._content={},t}();__reflect(ObjectPool.prototype,"ObjectPool");var ResourceUtils=function(t){function e(){var e=t.call(this)||this;return e._groupIndex=0,e._configs=new Array,e._groups={},RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.onResourceLoadComplete,e),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,e.onResourceLoadProgress,e),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,e.onResourceLoadError,e),e}return __extends(e,t),e.ins=function(){return t.ins.call(this)},e.prototype.addConfig=function(t,e){this._configs.push([t,e])},e.prototype.loadConfig=function(t,e){this._onConfigComplete=t,this._onConfigCompleteTarget=e,this.loadNextConfig()},e.prototype.loadNextConfig=function(){if(0==this._configs.length)return this._onConfigComplete.call(this._onConfigCompleteTarget),this._onConfigComplete=null,void(this._onConfigCompleteTarget=null);var t=this._configs.shift();RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),RES.loadConfig(t[0],t[1])},e.prototype.onConfigCompleteHandle=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),this.loadNextConfig()},e.prototype.loadGroup=function(t,e,o,r){this._groups[t]=[e,o,r],RES.loadGroup(t)},e.prototype.loadGroups=function(t,e,o,r,i){RES.createGroup(t,e,!0),this.loadGroup(t,o,r,i)},e.prototype.pilfererLoadGroup=function(t,e){void 0===e&&(e=null);var o="pilferer_"+t;e||(e=[t]),RES.createGroup(o,e,!0),RES.loadGroup(o,-1)},e.prototype.onResourceLoadComplete=function(t){var e=t.groupName;if(this._groups[e]){var o=this._groups[e][0],r=this._groups[e][2];
null!=o&&o.apply(r,[e]),this._groups[e]=null,delete this._groups[e]}},e.prototype.onResourceLoadProgress=function(t){var e=t.groupName;if(this._groups[e]){var o=this._groups[e][1],r=this._groups[e][2];null!=o&&o.call(r,t.itemsLoaded,t.itemsTotal)}},e.prototype.onResourceLoadError=function(t){console.log(t.groupName+"资源组有资源加载失败"),this.onResourceLoadComplete(t)},e.prototype.loadResource=function(t,e,o,r,i){void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===o&&(o=null),void 0===r&&(r=null),void 0===i&&(i=null);var n=t.concat(e),s="loadGroup"+this._groupIndex++;RES.createGroup(s,n,!0),this._groups[s]=[o,r,i],RES.loadGroup(s)},e.prototype.createGroup=function(t,e){RES.createGroup(t,e,!0)},e.prototype.createResource=function(t,e,o){var r={name:t,type:e,url:o};RES.$addResourceData(r)},e}(BaseClass);__reflect(ResourceUtils.prototype,"ResourceUtils");var ArraySort;!function(t){t[t.UPPER=1]="UPPER",t[t.LOWER=0]="LOWER"}(ArraySort||(ArraySort={}));var SortTools=function(){function t(){}return t.MoreKeysSorter=function(t,e,o){var r=0,i=function(t,n){var s=e[r],a=o[r];return t[s]==n[s]?(r+=1,r>e.length?(r=0,0):i(t,n)):(r=0,a==ArraySort.UPPER?t[s]-n[s]:n[s]-t[s])};t.sort(i)},t.sortMap=function(t,e,o){return void 0===o&&(o=!0),t?(t.sort(function(t,r){return o?t[e]-r[e]:r[e]-t[e]}),t):void 0},t.sortMap2=function(t){return t?(t.sort(function(t,e){return e-t}),t):void 0},t.sortMap3=function(t){return t?(t.sort(function(t,e){return t-e}),t):void 0},t.sortMap1=function(t,e){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];t.sort(function(t,r){if(e){if(1==o.length)return t[o[0]]-r[o[0]];if(2==o.length)return t[o[0]][o[1]]-r[o[0]][o[1]];if(3==o.length)return t[o[0]][o[1]][o[2]]-r[o[0]][o[1]][o[2]]}else{if(1==o.length)return r[o[0]]-t[o[0]];if(2==o.length)return r[o[0]][o[1]]-t[o[0]][o[1]];if(3==o.length)return r[o[0]][o[1]][o[2]]-t[o[0]][o[1]][o[2]]}})},t}();__reflect(SortTools.prototype,"SortTools");var StageUtils=function(t){function e(){var o=t.call(this)||this;return null==e._uiStage&&(e._uiStage=new eui.UILayer,e._uiStage.percentHeight=100,e._uiStage.percentWidth=100,e._uiStage.touchEnabled=!1,o.getStage().addChild(e._uiStage)),o}return __extends(e,t),e.prototype.getHeight=function(){return this.getStage().stageHeight},e.prototype.getWidth=function(){return this.getStage().stageWidth},e.prototype.setTouchChildren=function(t){this.getStage().touchChildren=t},e.prototype.setMaxTouches=function(t){this.getStage().maxTouches=t},e.prototype.setFrameRate=function(t){this.getStage().frameRate=t},e.prototype.setScaleMode=function(t){this.getStage().scaleMode=t},e.prototype.getStage=function(){return egret.MainContext.instance.stage},e.prototype.getUIStage=function(){return e._uiStage},e.prototype.startFullscreenAdaptation=function(t,e,o){this.designWidth=t,this.designHeight=e,this.resizeCallback=o,this.stageOnResize()},e.prototype.stageOnResize=function(){this.getStage().removeEventListener(egret.Event.RESIZE,this.stageOnResize,this);var t=this.designWidth,e=this.designHeight,o=window.innerWidth,r=window.innerHeight,i=o/r,n=t/e,s=i/n;if(i>n){var a=s,_=s;t=Math.floor(t*a),e=Math.floor(e*_)}this.getStage().setContentSize(t,e),this.resizeCallback&&this.resizeCallback(),this.getStage().addEventListener(egret.Event.RESIZE,this.stageOnResize,this)},e.WIDTH=720,e.HEIGHT=1280,e}(BaseClass);__reflect(StageUtils.prototype,"StageUtils");var Util=function(){function t(){}return t.GetClass=function(t){if(!t)return null;var e=t.__class__;return e?egret.getDefinitionByName(e):null},t.DEBUG_TRACE=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];platform.isDebug()&&console.log(t,e)},t.GetParentByType=function(t,e){if(null==t)return null;var o=egret.getQualifiedClassName(e),r=t;if(egret.is(r,o))return r;for(var i=0;10>i;++i){if(r=r.parent,null==r)return null;if(egret.is(r,o))return r}return null},t.Copy=function(t){try{var e=document.createElement("input");return e.value=t,document.body.appendChild(e),e.select(),e.setSelectionRange(0,e.value.length),document.execCommand("Copy"),document.body.removeChild(e),!0}catch(o){console.error("Copy => "+o)}return!1},t}();__reflect(Util.prototype,"Util");var game;!function(t){var e;!function(t){var e=function(){function t(){}return t.CURRENCY_TYPE_RMB=0,t.CURRENCY_TYPE_KEYS=1,t.CURRENCY_TYPE_GOLD=2,t.CURRENCY_TYPE_HAO_GUN_DU=3,t.REWARD_GAIN_NONE=0,t.REWARD_GAIN_SYSTEM=1,t.REWARD_GAIN_RECHARGE=2,t.REWARD_GAIN_GM=3,t.REWARD_GAIN_BUY=4,t.REWARD_GAIN_MAIL=5,t.REWARD_GAIN_MAIL_ALL_PICK=6,t.REWARD_GAIN_STORY_SELECT_REWARD=7,t.REWARD_GAIN_FINISH_LOVE=8,t.REWARD_GAIN_USE_BAG_ITEM=9,t.REWARD_GAIN_DOLL_MACHINE=10,t.REWARD_GAIN_MONTH_CARD=11,t.REWARD_GAIN_DAY_SHARE=12,t.REWARD_GAIN_QIAN_DAO=13,t.REWARD_GAIN_RED_PACKET_GIFT=14,t.REWARD_GAIN_LIMIT_GIFT=15,t.REWARD_GAIN_CHAPTER_UNLOCK=16,t.REWARD_GAIN_CHAPTER_SELECT=17,t.REWARD_GAIN_LOVE_BUY=18,t.REWARD_GAIN_ADVERT_REWARD=19,t.CURRENCY_MODIFY_VIDEO_UNLOCK=300,t.CURRENCY_MODIFY_PIC_UNLOCK=301,t.CURRENCY_MODIFY_CLOTHES_UNLOCK=302,t}();t.CurrencyDefAuto=e,__reflect(e.prototype,"game.objects.CurrencyDefAuto")}(e=t.objects||(t.objects={}))}(game||(game={}));var MathUtils=function(){function t(){}return t.getAngle=function(t){return 180*t/Math.PI},t.getRadian=function(t){return t/180*Math.PI},t.getRadian2=function(t,e,o,r){var i=o-t,n=r-e;return Math.atan2(n,i)},t.getDistance=function(t,e,o,r){var i=o-t,n=r-e,s=i*i+n*n;return Math.sqrt(s)},t.GetDisSqrt=function(t,e,o,r){var i=o-t,n=r-e;return i*i+n*n},t.GetDisSqrt2=function(t,e){var o=t.x-e.x,r=t.y-e.y;return o*o+r*r},t.getDirMove=function(t,e,o){return o=o||new egret.Point,o.x=Math.cos(t*Math.PI/180)*e,o.y=Math.sin(t*Math.PI/180)*e,o},t.limit=function(t,e){t=Math.min(t,e),e=Math.max(t,e);var o=e-t;return t+Math.random()*o},t.limitInteger=function(t,e){return Math.round(this.limit(t,e))},t.randomArray=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},t.RandomArrayData=function(t,e){var o=t.length;if(e>=o)return t;for(var r=[],i=0;e>i;i++){var n=Math.floor(Math.random()*o)%o;--o,r[i]=t[n],t[n]=t[o]}return r},t.RandomArr=function(t,e,o){var r=e-t+1;if(t>e||o>r)return[];for(var i=[],n=t;t+r>n;n++)i[n-t]=n;return this.RandomArrayData(i,o)},t.Clamp=function(t,e,o){return e>t?e:t>o?o:t},t.GetRandomSign=function(){return this.RAN_SIGN[t.limitInteger(0,1)]},t.Normalize=function(t,e,o){var r=Math.sqrt(t*t+e*e);r>99e-7?(o.x=t/r,o.y=e/r):(o.x=0,o.y=0)},t.Lerp=function(t,e,o,r,i,n){i>1?i=1:0>i&&(i=0),n.x=t+(o-t)*i,n.y=e+(r-e)*i},t.VectorMagnitude=function(t,e,o,r){this.Normalize(t,e,this.TEMP_POS),r.x=Math.round(this.TEMP_POS.x*o),r.y=Math.round(this.TEMP_POS.y*o)},t.VectorExtension=function(t,e,o,r,i,n){this.VectorMagnitude(o-t,r-e,i,n),n.x+=o,n.y+=r},t.RAN_SIGN=[-1,1],t.TEMP_POS=new egret.Point,t}();__reflect(MathUtils.prototype,"MathUtils");var SoundBg=function(t){function e(){var e=t.call(this)||this;return e._currBg="",e.isClickOpen=!1,("iOS"==egret.Capabilities.os||"Mac OS"==egret.Capabilities.os)&&(e.isClickOpen=!0),egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,e.clickSound,e),e}return __extends(e,t),e.prototype.clickSound=function(t){},e.prototype.removeSound=function(){egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickSound,this)},e.prototype.isPlay=function(){return null!=this._currSoundChannel},e.prototype.stop=function(){this._currSoundChannel&&this._currSoundChannel.stop(),this._currSoundChannel=null,this._currSound=null,this._currBg="",console.log("关闭了啦啊啊啊")},e.prototype.playEff=function(t){var e=RES.getRes(t);e&&e.play(0,1)},e.prototype.play=function(t){this._currBg!=t&&(this.stop(),this._currBg=t,TimerManager.ins().doNext(this.ChangeSound,this))},e.prototype.ChangeSound=function(){if(this._currBg){var t=this.getSound(this._currBg);t&&this.playSound(t)}},e.prototype.playSound=function(t){t&&(this._currSoundChannel&&this._currSoundChannel.stop(),this._currSound=t,this._currSoundChannel=this._currSound.play(0,0),this._currSoundChannel.volume=1)},e.prototype.setVolume=function(t){this._volume=t,this._currSoundChannel&&(this._currSoundChannel.volume=this._volume)},e.prototype.loadedPlay=function(t){this._currBg==t&&this.playSound(RES.getRes(t))},e.prototype.checkCanClear=function(t){return this._currBg!=t},e}(BaseSound);__reflect(SoundBg.prototype,"SoundBg");var SoundEffects=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.play=function(t){var e=this.getSound(t);e&&this.playSound(e)},e.prototype.playSound=function(t){var e=t.play(0,1);e.volume=this._volume,this._curEff=e},e.prototype.stop=function(){this._curEff&&(this._curEff.stop(),this._currSoundChannel=null,this._currSound=null)},e.prototype.playLoop=function(t){var e=this.getSound(t);e&&this.playLoopSound(e)},e.prototype.playLoopSound=function(t){var e=t.play(0,0);e.volume=this._volume,this._curLoopEff=e},e.prototype.stopLoop=function(){this._curLoopEff&&(this._curLoopEff.stop(),this._currSoundChannel=null,this._currSound=null)},e.prototype.setVolume=function(t){this._volume=t},e.prototype.loadedPlay=function(t){this.playSound(RES.getRes(t))},e}(BaseSound);__reflect(SoundEffects.prototype,"SoundEffects");var SoundManager=function(){function t(){this.bgOn=!1,this.effectOn=!1,this.bgVolume=.5,this.effectVolume=.5,this.m_DelayTime=!1,this.m_DelaySetTime=!1,this._loadingCache=[],this._cache={},this.isPlayEff=!0,this.flag=!1,this.isBgVoice=!0,this.onlyChanel=!1,this.voiceTime=1601,this.bg=new SoundBg,this.bg.setVolume(this.bgVolume),this.effect=new SoundEffects,this.effect.setVolume(this.effectVolume)}return t.prototype.PlayEffect=function(t){this.effect.play(t)},t.prototype.stopEffect=function(){this.effect.stop()},t.prototype.PlayLoopEffect=function(t){this.isPlayEff&&this.effect.playLoop(t)},t.prototype.stopLoopEffect=function(){this.effect.stopLoop()},t.prototype.playUrlVoice=function(t){null!=t&&"0.0"!=t&&this.isBgVoice&&0!=GameGlobal.RoleProxy.settingVo.voiceNumber&&(this.loader=null,this.loader=new egret.URLLoader,this.loader.addEventListener(egret.Event.COMPLETE,this.loadUrlComplete,this),this.loader.dataFormat=egret.URLLoaderDataFormat.SOUND,this.loader.load(new egret.URLRequest("http://"+GameConfig.VIDEO_URL+"/"+t+".mp3")))},t.prototype.onComplete=function(t){},t.prototype.loadUrlComplete=function(){this.isBgVoice&&(this.onlyChanel||GameGlobal.RoleProxy.isPlayVideo||0!=GameGlobal.RoleProxy.settingVo.voiceNumber&&(this.stopUrlVoice(),this.loader&&(this.bgSound=this.loader.data),this.voiceTime&&egret.clearInterval(this.voiceTime),!this.bgSound||this.onlyChanel||this.channel||(this.channel=this.bgSound.play(0,-1),this.onlyChanel=!0,this.channel.volume=0,this.voiceTime=egret.setInterval(function(){(GameGlobal.RoleProxy.isPlayVideo||!this.channel||0==GameGlobal.RoleProxy.settingVo.voiceNumber)&&(egret.clearInterval(this.voiceTime),this.channel&&(this.channel.volume=0)),this.channel&&(this.channel.volume>=.9?(GameGlobal.RoleProxy.isPlayVideo||(this.channel.volume=1),egret.clearInterval(this.voiceTime)):GameGlobal.RoleProxy.isPlayVideo||(this.channel.volume+=.2))},this,400))))},t.prototype.soundComplete=function(){},t.prototype.stopUrlVoice=function(){this.channel&&(this.channel.stop(),this._currSoundChannel=null,this.channel=null,this.onlyChanel=!1,this.bgSound=null)},t.prototype.playClickVoice=function(){},t.prototype.loadSound=function(t){var e=RES.getRes(t);if(e)this._cache[t]&&(this._cache[t]=egret.getTimer());else{if(-1!=this._loadingCache.indexOf(t))return null;t||this._loadingCache.push(t),RES.getResAsync(t,this.onResourceLoadComplete,this)}return e},t.prototype.onResourceLoadComplete=function(t,e){var o=this._loadingCache.indexOf(e);-1!=o&&(this._loadingCache.splice(o,1),this._cache[e]=egret.getTimer(),this.loadedPlay(e))},t.prototype.loadedPlay=function(t){},t.prototype.PlayBg=function(t){return this.currBg=t,this.GetBgOn()?this.m_DelayTime?void(this.m_DelaySetTime&&(this.m_DelaySetTime=null,TimerManager.ins().doTimer(2500,1,this.DelayPlay,this))):void this.bg.play(t):void 0},t.prototype.DelayPlay=function(){this.m_DelayTime=null,this.GetBgOn()&&this.currBg&&this.bg.play(this.currBg)},t.prototype.StopBg=function(){this.bg.stop()},t.prototype.SetEffectOn=function(t){this.effectOn=t},t.prototype.SetBgOn=function(t){this.bgOn=t;var e=this.GetBgOn();e?this.currBg&&(this.PlayBg(this.currBg),this.isPlayEff=!0):(this.StopBg(),this.isPlayEff=!1)},t.prototype.GetBgOn=function(){return this.bgOn},t.prototype.UpdateBgOn=function(){this.SetBgOn(this.bgOn)},t.prototype.SetBgVolume=function(t){t=MathUtils.Clamp(t,0,1),this.bgVolume=t,this.bg.setVolume(this.bgVolume)},t.prototype.getBgVolume=function(){return this.bgVolume},t.prototype.setEffectVolume=function(t){t=MathUtils.Clamp(t,0,1),this.effectVolume=t},t.prototype.getEffectVolume=function(){return this.effectVolume},t.CLEAR_TIME=18e4,t}();__reflect(SoundManager.prototype,"SoundManager");var UserTips=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.ins=function(){return t.ins.call(this)},e.prototype.showTips=function(t){var e=ViewManager.ins().getView(TipsView);e||(e=ViewManager.ins().open(TipsView)),e.showIconTips(t,"")},e.prototype.showContTips=function(t,e){var o=ViewManager.ins().getView(TipsView);o||(o=ViewManager.ins().open(TipsView)),o.showIconTips(t,e)},e}(BaseClass);__reflect(UserTips.prototype,"UserTips");var TipsGoodEquip=function(t){function e(){var e=t.call(this)||this;return e.isUsing=!1,e.skinName="OrangeEquipNoticeSkin",e}return __extends(e,t),Object.defineProperty(e.prototype,"data",{set:function(t){this.itemName.text=t.itemConfig.name},enumerable:!0,configurable:!0}),e}(eui.Component);__reflect(TipsGoodEquip.prototype,"TipsGoodEquip");var TipsGoodsItem=function(t){function e(){var e=t.call(this)||this;return e.endPos=0,e.speed=0,e.step=0,e.time=0,e.skinName="TipsGoodsSkin",e.group.x=0,e.group.width=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"labelText",{set:function(t){this.djName.textFlow=TextFlowMaker.generateTextFlow(t),this.group.y=0,this.step=0,this.time=0,this.alpha=1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconName",{set:function(t){this.icon.source=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LabelCount",{set:function(t){this.djCount.text="+  "+t},enumerable:!0,configurable:!0}),e.prototype.Update=function(t){this.time+=t;var e;if(0==this.step)e=500,this.group.y=-this.height*Math.min(this.time/e,1);else if(1==this.step)e=500;else{if(2!=this.step)return!1;e=200,this.alpha=1-Math.min(this.time/e,1)}return this.time>=e&&(++this.step,this.time=0),!0},e}(eui.Component);__reflect(TipsGoodsItem.prototype,"TipsGoodsItem");var TipsItem=function(t){function e(){var e=t.call(this)||this;return e.endPos=0,e.speed=0,e.step=0,e.time=0,e.skinName="TipsSkin",e.group.x=0,e.group.width=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"labelText",{set:function(t){this.lab.textFlow=TextFlowMaker.generateTextFlow(t),this.bg.width=this.lab.width+200,this.group.y=0,this.step=0,this.time=0,this.alpha=1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconName",{set:function(t){this.icon.source=t},enumerable:!0,configurable:!0}),e.prototype.Update=function(t){this.time+=t;var e;if(0==this.step)e=500,this.group.y=-this.height*Math.min(this.time/e,1);else if(1==this.step)e=500;else{if(2!=this.step)return!1;e=200,this.alpha=1-Math.min(this.time/e,1)}return this.time>=e&&(++this.step,this.time=0),!0},e}(eui.Component);__reflect(TipsItem.prototype,"TipsItem");var TipsView=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labCount=0,e.list=[],e.list2=[],e.goodEquipList=[],e.m_StrList=[],e.m_CacheList=[],e.m_CacheList2=[],e.m_IsUpadte=!1,e.m_PreTime=0,e}return __extends(e,t),e.prototype.initUI=function(){t.prototype.initUI.call(this),this.touchChildren=!1,this.touchEnabled=!1,this.m_Group=new eui.Group,this.m_Group.horizontalCenter=0,this.m_Group.width=0,this.addChild(this.m_Group),this.equipTip1=new TipsGoodEquip,this.equipTip2=new TipsGoodEquip},e.prototype.showTips=function(t){this.m_StrList.push([t]),this._StartUpdate()},e.prototype.showIconTips=function(t,e){this.m_StrList.push([t,e]),this._StartUpdate()},e.prototype._Cache=function(t){var e=this.list[t];e&&(this.m_Group.removeChild(e),this.list.splice(t,1),this.m_CacheList.length<25&&this.m_CacheList.push(e))},e.prototype.CreateTips=function(){if(!(this.m_StrList.length<1)){var t=(egret.getTimer(),this.m_StrList.shift()),e=this.m_CacheList.pop()||new TipsItem;e.labelText=t[0],e.iconName=t[1],this.m_Group.addChild(e),this.list.unshift(e);var o=GameGlobal.StageUtils.getHeight()>>1;e.y=o;for(var r=this.list.length-1;r>=0;--r){var i=this.list[r];i.y<0?this._Cache(r):(i.endPos=o-r*i.height,i.speed=(i.y-i.endPos)/500)}}},e.prototype._StartUpdate=function(){this.m_IsUpadte||(this.m_IsUpadte=!0,this.m_PreTime=egret.getTimer(),egret.startTick(this.Update,this))},e.prototype._StopUpdate=function(){this.m_IsUpadte&&(this.m_IsUpadte=!1,egret.stopTick(this.Update,this))},e.prototype.Update=function(t){var e=t-this.m_PreTime;this.m_PreTime=t;for(var o=this.list.length-1;o>=0;--o){var r=this.list[o],i=r.y-e*r.speed;r.y=Math.max(r.endPos,i),r.Update(e)||this._Cache(o)}return this.CreateTips(),this.m_StrList.length<1&&this.list.length<1&&this._StopUpdate(),!1},e.prototype.showGoodTip=function(t){},e.prototype.showGoodEquipTip=function(t){this.goodEquipList.push(t),TimerManager.ins().isExists(this.goodEquipTimer,this)||TimerManager.ins().doTimer(16,0,this.goodEquipTimer,this)},e.prototype.goodEquipTimer=function(){var t=this;if(0!=this.goodEquipList.length&&!this.isWait){var e=void 0;if(this.equipTip1.isUsing||(e=this.equipTip1),this.equipTip2.isUsing||(e=this.equipTip2),void 0!=e){e.x=-235,e.y=1e3,e.alpha=1,this.m_Group.addChild(e),e.isUsing=!0,this.isWait=!0;var o=this.goodEquipList.pop();e.data=o;var r=egret.Tween.get(e);r.to({y:850},500).call(function(){t.isWait=!1}).wait(1e3).to({alpha:0},1e3).call(function(){e.isUsing=!1,t.m_Group.removeChild(e)});var i;if(i=e==this.equipTip1?this.equipTip2:this.equipTip1,i.isUsing){egret.Tween.removeTweens(i);var n=egret.Tween.get(i);n.to({y:700,alpha:0},1e3).wait(300).call(function(){i.isUsing=!1,t.m_Group.removeChild(i)})}}}},e.LAYER_LEVEL=LayerManager.UI_Tips,e.START_Y=640,e.END_Y_OFFSET=60,e.MAX_ITEMS=15,e}(BaseEuiView);__reflect(TipsView.prototype,"TipsView");var GM=function(t){function e(){var e=t.call(this)||this;return e.skinName="GMSkin",e.y=1400,e.x=0,e}return __extends(e,t),e.prototype.OnOpen=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.AddClick(this.sure,this.sendGM)},e.prototype.sendGM=function(){var t=new protocols.RqstGmCommod(this.msg.text);console.log("GM发送指令："+this.msg.text),SocketMgr.send(t)},e.LAYER_LEVEL=LayerManager.UI_Message,e}(BaseEuiView);__reflect(GM.prototype,"GM");var loadingPanel=function(t){function e(){var e=t.call(this)||this;return e.countGroupError=0,e.creationFlag=0,e.skinName="LoadingSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){},e.prototype.OnOpen=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.creationFlag=t[0];var o="base",r=["preload","public","module","effects"];ResourceUtils.ins().loadGroups(o,r,this.onResourceLoadComplete,this.onResourceLoadProgress,this)},e.prototype.onProgress=function(t,e){this.bar.value=e.itemsLoaded/e.itemsTotal*100,this.barText.text=(e.itemsLoaded/e.itemsTotal*100).toFixed(0)+"%"},e.prototype.onResourceLoadComplete=function(t){egret.setTimeout(function(){ViewManager.ins().close(e),this.creationFlag?EventHelper.call(CreationCmd.SHOW_WINDOW):(EventHelper.call(MainCmd.SHOW_WINDOW),console.log("打开主页")),Log.log("资源加载完成")},this,200)},e.prototype.onResourceLoadProgress=function(t,e){this.bar.value=t/e*100,this.barText.text=(t/e*100).toFixed(0)+"%"},e.LAYER_LEVEL=LayerManager.UI_Popup,e}(BaseEuiView);__reflect(loadingPanel.prototype,"loadingPanel");var LoginCmd=function(){function t(){}return t.SHOW_WINDOW="Login_show_window",t.CLOSE_WINDOW="Login_close_window",t.INIT_DATA="Login_init_data",t}();__reflect(LoginCmd.prototype,"LoginCmd");var LoginController=function(t){function e(){var e=t.call(this)||this;return e.starType=0,e.info=null,e.token=null,e.target=e,e}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case LoginCmd.SHOW_WINDOW:this.showWindow();break;case LoginCmd.CLOSE_WINDOW:this.closeWindow()}},e.prototype.initView=function(){this.AddClick(this.ui.loginBtn,this.btnClick),this.AddClick(this.ui.btnGG,this.btnClick),this.AddClick(this.ui.btnFB,this.btnClick),this.AddClick(this.ui.btnGuest,this.btnClick),this.pxy=this.getProxy(LoginProxy.NAME),this.inited=!0,platform.useLoginApi()&&EventHelper.call(AppCmd.LOGIN),EventHelper.addListener(SysCmd.SOCKET_CONNECTED,this.login,this),EventHelper.addListener(AppCmd.LOGIN_RESULT,this.loginInfo,this),platform.isDebug()?this.ui.group.visible=!0:this.ui.group.visible=!1,this.ui.overseasGroup.visible=platform.getPfId()==PFConfig.PF_MD},e.prototype.loginInfo=function(t,e){var o=JSON.parse(e);1==o.code&&(this.info=o.uid,this.token=o.token,SocketMgr.conn())},e.prototype.showWindow=function(){this.ui=ViewManager.ins().open(LoginUI),this.initView(),platform.getPfId()==PFConfig.PF_YH&&(this.ui.loginBg.source="yh_login_db",this.ui.yhbg.visible=!0),egret.setTimeout(function(){this.ui.zhongGao.visible=!1,this.ui.kuaiJieDengLu.visible=!0},this,1e3)},e.prototype.closeWindow=function(){ViewManager.ins().close(LoginUI)},e.prototype.btnClick=function(t){switch(t.currentTarget){case this.ui.btnGuest:case this.ui.loginBtn:SocketMgr.conn();case this.ui.btnGG:this.call(AppCmd.LOGIN_BY_GOOGLE);break;case this.ui.btnFB:this.call(AppCmd.LOGIN_BY_FACEBOOK)}GameGlobal.SoundManager.PlayEffect("click_mp3")},e.prototype.login=function(){return console.log("进入login"),platform.isDebug()?void(this.pxy.isLogin?(console.log("重新连接啦"),egret.setTimeout(function(){console.log(typeof this.token),this.pxy.sendPacket(protocols.RqstGetSession,0,this.token||"",this.ui.userName.text,PFConfig.getSid(),1,0,"","")},this,400)):""!=this.ui.userName.text?this.pxy.connect||(this.pxy.userName=this.ui.userName.text,GameGlobal.RoleProxy.account=this.ui.userName.text,console.log(typeof this.token),this.pxy.sendPacket(protocols.RqstGetSession,0,this.token||"",this.ui.userName.text,PFConfig.getSid(),1,0,"","")):""==this.ui.msgTxt.text&&(this.ui.msgTxt.text="请输入账号信息",egret.setTimeout(function(){this.ui.msgTxt.text=""},this,1e3))):void(this.pxy.isLogin?(console.log("断线后重新发送getsession"),egret.setTimeout(function(){console.log(typeof this.token),this.pxy.sendPacket(protocols.RqstGetSession,0,this.token||"",this.info,PFConfig.getSid(),1,0,"","")},this,400)):(console.log("发送getsession"),this.pxy.userName=this.info,GameGlobal.RoleProxy.account=this.info,console.log(typeof this.token),this.pxy.sendPacket(protocols.RqstGetSession,0,this.token||"",this.info,PFConfig.getSid(),1,0,"","")))},e.NAME="LoginController",e}(BaseCtr);__reflect(LoginController.prototype,"LoginController");var LoginMgr=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.start=function(){this.isStart||(this.regProxy(LoginProxy.NAME,new LoginProxy),this.regController(LoginController.NAME,new LoginController),this.isStart=!0)},Object.defineProperty(e.prototype,"EventList",{get:function(){return[LoginCmd.SHOW_WINDOW,LoginCmd.CLOSE_WINDOW,LoginCmd.INIT_DATA]},enumerable:!0,configurable:!0}),e.prototype.execute=function(t,e){switch(void 0===e&&(e=null),t){case LoginCmd.INIT_DATA:this.proxy(LoginProxy.NAME,e,t);break;default:this.control(LoginController.NAME,e,t)}},e}(BaseMgr);__reflect(LoginMgr.prototype,"LoginMgr");var LoginProxy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userName=null,e.connect=!1,e.isLogin=!1,e.creationFlag=0,e}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case LoginCmd.INIT_DATA:this.initData()}},e.prototype.init=function(){this.addMsgFunc(2001,this.receive),this.addMsgFunc(MsgId.SMSG_CHAR_LOGIN_RESPONSE,this.roleMsg),this.addMsgFunc(MsgId.SMSG_CREATE_CHAR,this.createRole),this.addMsgFunc(MsgId.SMSG_CREATE_CHAR_RESULT,this.createResult),this.addMsgFunc(MsgId.SMSG_OPERATION_RESULT,this.getOperation)},e.prototype.getOperation=function(t,e){console.log(t+"===>>"+e)},e.prototype.initData=function(){},e.prototype.createResult=function(t,e){0==e.reason?(GameGlobal.RoleProxy.firstCreate=!0,GameGlobal.DotController.callDot(TbDot.getTmplt(2).ID,TbDot.getTmplt(2).record)):2==e.reason&&UserTips.ins().showTips("包含敏感字符，请重新命名")},e.prototype.receive=function(t,e){console.log("ok啦"),this.connect=!0},e.prototype.roleMsg=function(t,e){console.log("角色已经存在，不需要创角------"+t+"----------"+e);var o=e;this.onLoginRecv(o),this.creationFlag?egret.setTimeout(function(){EventHelper.call(MainCmd.SHOW_WINDOW)},this,200):ViewManager.ins().isShow(MainUI)||(ViewManager.ins().open(loadingPanel,0),this.creationFlag=1)},e.prototype.createRole=function(t,e){console.log("需要创角--------"+t+"----------"+e),ViewManager.ins().open(loadingPanel,1),this.creationFlag=1},e.prototype.onLoginRecv=function(t){this.isLogin=!0,this.sendPacket(protocols.RqstCharReady),EventHelper.call(LoginCmd.CLOSE_WINDOW),platform.isDebug()&&ViewManager.ins().open(GM)},e.NAME="LoginProxy",e}(BaseProxy);__reflect(LoginProxy.prototype,"LoginProxy");var LoginUI=function(t){function e(){var e=t.call(this)||this;return e.skinName="LoginPanelSkin",e}return __extends(e,t),e.prototype.playLoginEff=function(){var t=RES.getRes("logo.json"),e=RES.getRes("logo.png"),o=new egret.MovieClipDataFactory(t,e),r=new egret.MovieClip(o.generateMovieClipData("2"));r.scaleX=2.5,r.scaleY=2.5,r.x=0,r.y=0,r.play(1),this.aniGroup.addChild(r)},e.LAYER_LEVEL=LayerManager.UI_Main,e}(BaseEuiView);__reflect(LoginUI.prototype,"LoginUI");var MainCmd=function(){function t(){}return t.SHOW_WINDOW="Main_show_window",t.CLOSE_WINDOW="Main_close_window",t.INIT_DATA="Main_init_data",t.STORY_UPDATE="STORY_UPDATE",t.HAOGAN_PLAY="HAOGAN_PLAY",t}();__reflect(MainCmd.prototype,"MainCmd");var TbChapter=template_def.TbChapter,TbStory=template_def.TbStory,TbChooseStory=template_def.TbChooseStory,TbGameSet=template_def.TbGameSet,PlayerCountDef=protocols.fields.PlayerCountDef,MainController=function(t){function e(){var e=t.call(this)||this;return e.starType=0,e.isNext=!1,e.isShow=!1,e.isClick=!0,e.txtTime=13e3,e.selectTime=1201,e.selectArr=[],e.haoganState=!1,e.showPic=!1,e.isSession=!0,e.curZbPic=null,e.isOpenTh=!1,e.target=e,e}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case MainCmd.SHOW_WINDOW:this.showWindow();break;case MainCmd.CLOSE_WINDOW:this.closeWindow();break;case SysCmd.GOLD_UPDATE:this.updateMsg();break;case SysCmd.KEY_UPDATE:this.updateMsg();break;case MainCmd.STORY_UPDATE:this.updateContent();break;case VideoCmd.VIDEO_EXIT:this.videoEnd();break;case MainCmd.HAOGAN_PLAY:this.haoganState=!0,egret.setTimeout(this.playHaogan,this,100);break;case SysCmd.SOCKET_CLOSE:ViewManager.ins().isShow(MainUI)&&!ViewManager.ins().isShow(OffLinePanel)&&ViewManager.ins().open(OffLinePanel)}},e.prototype.videoEnd=function(){var t;if(t=1==GameGlobal.RoleProxy.settingVo.voiceNumber?!0:!1,GameGlobal.SoundManager.SetBgOn(t),GameGlobal.RoleProxy.isPlayVideo=!1,t?(GameGlobal.SoundManager.isBgVoice=!0,GameGlobal.RoleProxy.isExtraVideo&&(this.curBgMusic=TbGameSet.getTmplt(6).arr_value2[0]),GameGlobal.SoundManager.channel?GameGlobal.SoundManager.channel.volume=1:(GameGlobal.SoundManager.stopUrlVoice(),GameGlobal.RoleProxy.isExtraVideo||(this.curBgMusic=TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).bgm),GameGlobal.SoundManager.playUrlVoice(this.curBgMusic))):GameGlobal.SoundManager.channel&&(GameGlobal.SoundManager.channel.volume=0),!GameGlobal.RoleProxy.isMemory&&!GameGlobal.RoleProxy.isExtraVideo&&!GameGlobal.RoleProxy.isCaidan){if(console.log("视频播放完了"),GameGlobal.RoleProxy.isLoginFirst)return GameGlobal.DotController.callDot(TbDot.getTmplt(4).ID,TbDot.getTmplt(4).record),GameGlobal.DotController.callDot(TbDot.getTmplt(14).ID,TbDot.getTmplt(14).record+GameGlobal.RoleProxy.userInfo.chapter),this.ui.chapterGroup.visible=!0,GameGlobal.RoleProxy.isLoginFirst=!1,this.ui.clickGroup.touchEnabled=!1,egret.Tween.get(this.ui.chapter,{loop:!1}).to({alpha:1},1e3).call(function(){egret.Tween.get(this.ui.title,{loop:!1}).to({alpha:1},1e3)},this),void egret.setTimeout(function(){egret.Tween.get(this.ui.chapterGroup,{loop:!1}).to({alpha:0},1500).call(function(){this.ui.chapterGroup.visible=!1,this.ui.chapterGroup.alpha=1,this.ui.clickGroup.touchEnabled=!0,this.updateContent()},this)},this,3e3);this.ui.clickGroup.touchEnabled=!0,this.pxy.nextStory()}},e.prototype.playHaogan=function(t){console.log("播放好感");var e=DragonHelper.createdb("haogan_dh","Armature");e.animation.play("newAnimation"),e.x=360,e.y=640,this.ui.addChild(e);var o;egret.setTimeout(function(){this.ui.removeChild(e)},this,4e3),egret.setTimeout(function(){if(GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CAI_DAN_MARK))this.ui.caidan.visible=!1;else{var t=RES.getRes("liuguang.json"),e=RES.getRes("liuguang.png"),r=new egret.MovieClipDataFactory(t,e);o=new egret.MovieClip(r.generateMovieClipData("12")),o.scaleX=1,o.scaleY=1,o.x=-32,o.y=-48,o.play(-1),this.ui.caidan.addChildAt(o,1),GameGlobal.RoleProxy.Haogan-this.pxy.hgCount<TbGameSet.getTmplt(9).value1&&(this.ui.add.visible=!0,this.ui.add.text="x+"+this.pxy.hgCount,this.ui.count.alpha=0,egret.Tween.get(this.ui.count,{loop:!1}).to({alpha:1},200),this.ui.count.visible=!0,console.log("现在剧情ID："+GameGlobal.RoleProxy.userInfo.curStory+"--------"+TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).love_add),egret.Tween.get(this.ui.add,{loop:!1}).to({y:110},400).to({y:38},700).to({alpha:0,x:0},100).call(function(){this.ui.add.visible=!1,this.ui.add.y=110,this.ui.add.alpha=1},this),egret.setTimeout(function(){egret.Tween.get(this.ui.count,{loop:!1}).to({alpha:0},1e3).call(function(){this.ui.count.visible=!1,this.ui.count.alpha=1},this)},this,1800))}egret.setTimeout(function(){this.ui.xxBg.y=145-GameGlobal.RoleProxy.Haogan/TbGameSet.getTmplt(9).value1*65,this.ui.count.text=GameGlobal.RoleProxy.Haogan+"/"+TbGameSet.getTmplt(9).value1},this,1100)},this,1700),egret.setTimeout(function(){o&&this.ui.caidan.removeChild(o),this.haoganState=!1},this,2900)},e.prototype.initUi=function(){this.oldStroy=GameGlobal.RoleProxy.userInfo.curStory,this.AddClick(this.ui.setBtn,this.btnClick),this.AddClick(this.ui.keyBtn,this.btnClick),this.AddClick(this.ui.zsBtn,this.btnClick),this.AddClick(this.ui.clickGroup,this.btnClick),this.AddClick(this.ui.keyGroup,this.btnClick),this.AddClick(this.ui.keyBtn,this.btnClick),this.AddClick(this.ui.zsGroup,this.btnClick),this.AddClick(this.ui.zsBtn,this.btnClick),this.AddClick(this.ui.videoBtn,this.btnClick),this.AddClick(this.ui.caidan,this.btnClick),this.pxy=this.getProxy(MainProxy.NAME);var t;t=1==GameGlobal.RoleProxy.settingVo.voiceNumber?!0:!1,GameGlobal.SoundManager.SetBgOn(t),0==GameGlobal.RoleProxy.settingVo.voiceNumber?GameGlobal.SoundManager.isBgVoice=!1:GameGlobal.SoundManager.isBgVoice=!0,(platform.getPfId()==PFConfig.PF_QK||platform.getPfId()==PFConfig.PF_YH)&&EventHelper.call(AppCmd.REPORT_USERINFO_QUICK,JSON.stringify(GameGlobal.DotController.quickDot())),this.ui.xxBg.mask=this.ui.xx,egret.Tween.get(this.ui.xxBg,{loop:!0}).to({rotation:-5},1e3).to({rotation:5},1e3),this.ui.xxBg.y=145-GameGlobal.RoleProxy.Haogan/TbGameSet.getTmplt(9).value1*65,this.ui.count.text=GameGlobal.RoleProxy.Haogan+"/"+TbGameSet.getTmplt(9).value1,this.updateMsg(),this.updateContent(),GameGlobal.RoleProxy.userInfo.getCountField(PlayerCountDef.PLAYER_COUNT_LOGIN_COUNT)<=1&&!this.isOpenTh&&GameGlobal.RoleProxy.userInfo.limitBuyCount<3&&GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_LIMIT_BUY)&&(GameGlobal.RoleProxy.userInfo.getDailyMark(PlayerDailySetDef.DAILY_MARK_IS_OPEN_TEHUI)||(this.isOpenTh=!0,egret.setTimeout(function(){EventHelper.call(DiscountCmd.SHOW_WINDOW)
},this,500)))},e.prototype.updateMsg=function(){this.ui&&(this.ui.gold.text=GameGlobal.RoleProxy.Gold,this.ui.key.text=GameGlobal.RoleProxy.Key+"/"+TbGameSet.getTmplt(3).value1)},e.prototype.updateContent=function(){console.log("当前剧情ID：-----------------"+TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).ID);var t=GameGlobal.RoleProxy.userInfo;if(this.ui.chapter.text="第"+TbStory.getTmplt(t.curStory).chapter_id+"章",this.ui.title.text=TbChapter.getTmplt(TbStory.getTmplt(t.curStory).chapter_id).chapter_name,GameGlobal.RoleProxy.isBegin)return(platform.getPfId()==PFConfig.PF_QK||platform.getPfId()==PFConfig.PF_YH)&&EventHelper.call(AppCmd.REPORT_USERINFO_QUICK,JSON.stringify(GameGlobal.DotController.quickDot())),this.ui.chapterGroup.visible=!0,this.ui.bg.source=TbStory.getTmplt(t.curStory).bg_pic,this.ui.zbPic.source="",this.ui.djBg.source="",this.ui.djPic.source="",ViewManager.ins().isShow(ChaptercompleteUi)&&EventHelper.call(ChaptercompleteCmd.CLOSE_WINDOW),ViewManager.ins().isShow(ReviewchapterUi)&&EventHelper.call(ReviewchapterCmd.CLOSE_WINDOW),ViewManager.ins().isShow(StoryendUi)&&EventHelper.call(StoryendCmd.CLOSE_WINDOW),GameGlobal.DotController.callDot(TbDot.getTmplt(14).ID,TbDot.getTmplt(14).record+GameGlobal.RoleProxy.userInfo.chapter),GameGlobal.RoleProxy.isBegin=!1,GameGlobal.SoundManager.isBgVoice=!1,GameGlobal.SoundManager.stopUrlVoice(),GameGlobal.SoundManager.channel&&(GameGlobal.SoundManager.channel.volume=0),this.curBgMusic=null,this.curStory&&this.moveEff(this.curStory),egret.Tween.get(this.ui.chapter,{loop:!1}).to({alpha:1},1e3).call(function(){egret.Tween.get(this.ui.title,{loop:!1}).to({alpha:1},1e3)},this),void egret.setTimeout(function(){egret.Tween.get(this.ui.chapterGroup,{loop:!1}).to({alpha:0},1500).call(function(){this.ui.chapterGroup.visible=!1,this.ui.chapterGroup.alpha=1,GameGlobal.SoundManager.isBgVoice=!1,GameGlobal.SoundManager.stopUrlVoice(),this.updateContent()},this)},this,3e3);if(this.ui.bg.source=TbStory.getTmplt(t.curStory).bg_pic,this.curStory&&this.moveEff(this.curStory),GameGlobal.RoleProxy.isMemory=!1,GameGlobal.RoleProxy.isExtraVideo=!1,GameGlobal.RoleProxy.isCaidan=!1,this.isClick=!0,this.ui.scGroup.visible=!1,this.ui.storyName.text=TbChapter.getTmplt(t.chapter).chapter_name,GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CAI_DAN_MARK)&&(this.ui.caidan.visible=!1),TbStory.getTmplt(t.curStory).role_pic?TbStory.getTmplt(t.curStory).role_pic!=this.curZbPic&&(this.curZbPic?(this.showPic=!0,egret.Tween.get(this.ui.zbPic,{loop:!1}).to({alpha:0},400).call(function(){this.ui.zbPic.source=TbStory.getTmplt(t.curStory).role_pic,this.curZbPic=TbStory.getTmplt(t.curStory).role_pic,egret.Tween.get(this.ui.zbPic,{loop:!1}).to({alpha:1},400).call(function(){this.showPic=!1},this)},this)):(this.showPic=!0,this.ui.zbPic.source=TbStory.getTmplt(t.curStory).role_pic,this.curZbPic=TbStory.getTmplt(t.curStory).role_pic,egret.Tween.get(this.ui.zbPic,{loop:!1}).to({alpha:1},400).call(function(){this.showPic=!1},this))):this.curZbPic&&(this.showPic=!0,egret.Tween.get(this.ui.zbPic,{loop:!1}).to({alpha:0},400).call(function(){this.showPic=!1,this.ui.zbPic.source="",this.curZbPic=null},this)),TbStory.getTmplt(t.curStory).item_pic?(this.ui.djPic.source=TbStory.getTmplt(t.curStory).item_pic,this.ui.djBg.source="item_dk"):(this.ui.djBg.source="",this.ui.djPic.source=""),TbStory.getTmplt(t.curStory).effect&&GameGlobal.SoundManager.PlayEffect(TbStory.getTmplt(t.curStory).effect+"_mp3"),TbChapter.getTmplt(t.chapter).story_end_id==TbStory.getTmplt(t.curStory).ID&&this.oldStroy==GameGlobal.RoleProxy.userInfo.curStory)return GameGlobal.SoundManager.stopUrlVoice(),this.curBgMusic=TbGameSet.getTmplt(6).arr_value2[0],GameGlobal.SoundManager.playUrlVoice(this.curBgMusic),GameGlobal.RoleProxy.userInfo.chapter==TbChapter.getTb().length?void EventHelper.call(StoryendCmd.SHOW_WINDOW):void EventHelper.call(ChaptercompleteCmd.SHOW_WINDOW);if(GameGlobal.RoleProxy.isLoginFirst){GameGlobal.SoundManager.SetBgOn(!1),GameGlobal.SoundManager.isBgVoice=!1,GameGlobal.RoleProxy.isPlayVideo=!0,GameGlobal.SoundManager.stopUrlVoice(),this.curBgMusic=null;var e=TbGameSet.getTmplt(5).arr_value2[0];return void EventHelper.call(VideoCmd.LOAD_VIDEO,{url:e,noBack:!platform.isDebug()})}if(t.curStory==TbDot.getTmplt(6).value1&&GameGlobal.DotController.callDot(TbDot.getTmplt(6).ID,TbDot.getTmplt(6).record),t.curStory==TbDot.getTmplt(8).value1&&GameGlobal.DotController.callDot(TbDot.getTmplt(8).ID,TbDot.getTmplt(8).record),t.curStory==TbDot.getTmplt(10).value1&&GameGlobal.DotController.callDot(TbDot.getTmplt(10).ID,TbDot.getTmplt(10).record),TbStory.getTmplt(t.curStory).video){GameGlobal.SoundManager.SetBgOn(!1),GameGlobal.SoundManager.isBgVoice=!1,GameGlobal.RoleProxy.isPlayVideo=!0,GameGlobal.SoundManager.channel&&(GameGlobal.SoundManager.channel.volume=0),t.curStory==TbDot.getTmplt(5).value1&&GameGlobal.DotController.callDot(TbDot.getTmplt(5).ID,TbDot.getTmplt(5).record);var e=TbStory.getTmplt(t.curStory).video;return EventHelper.call(VideoCmd.LOAD_VIDEO,{url:e,noBack:!platform.isDebug()}),void this.moveEff(this.curStory)}if(TbStory.getTmplt(t.curStory).bgm!=this.curBgMusic&&(GameGlobal.SoundManager.isBgVoice=!1,egret.setTimeout(function(){GameGlobal.SoundManager.stopUrlVoice(),GameGlobal.SoundManager.isBgVoice=!0,this.curBgMusic=TbStory.getTmplt(t.curStory).bgm,GameGlobal.SoundManager.playUrlVoice(this.curBgMusic)},this,200)),this.showCurStory(),TbStory.getTmplt(t.curStory).choose_story_id){GameGlobal.DotController.callDot(TbDot.getTmplt(11).ID,TbDot.getTmplt(11).record+TbStory.getTmplt(t.curStory).choose_story_id+"");for(var o=TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).content.split(""),r=o.length,i=[],n=TbChooseStory.getTmplt(TbStory.getTmplt(t.curStory).choose_story_id).ID,s=0;s<TbChooseStory.getTmplt(n).arr_cost_type1.length;s++){var a={index:s+1,cost_type:TbChooseStory.getTmplt(n).arr_cost_type1[s],cost:TbChooseStory.getTmplt(n).arr_cost1[s],desc:TbChooseStory.getTmplt(n).arr_desc_1[s],storyId:TbChooseStory.getTmplt(n).arr_story_id_1[s],selectID:TbChooseStory.getTmplt(n).ID,ID:TbStory.getTmplt(t.curStory).chapter_id};i.push(a)}switch(this.selectArr=i,i.length){case 2:this.ui.sc.height=334;break;case 3:this.ui.sc.height=504}this.selectTime=egret.setTimeout(function(){this.ui.scGroup.visible=!0,this.ui.list.dataProvider?this.ui.list.dataProvider.replaceAll(this.selectArr):this.ui.list.dataProvider=new eui.ArrayCollection(this.selectArr)},this,200*r)}},e.prototype.showCurStory=function(){console.log("剧情更新了"),this.curStory=this.ui.createDlgGroup(),0==TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).name_pos?egret.Tween.get(this.curStory,{loop:!1}).to({horizontalCenter:34},200):1==TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).name_pos&&("0.0"==TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).pic?egret.Tween.get(this.curStory,{loop:!1}).to({bottom:290},200,egret.Ease.elasticOut):egret.Tween.get(this.curStory,{loop:!1}).to({horizontalCenter:-32.5},200));var t=this.curStory.$children[2];this.contentEff(t,TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).content,80,this.backFun)},e.prototype.moveEff=function(t){t&&-1!=this.ui.$children.indexOf(t)&&this.ui.removeChild(t)},e.prototype.contentEff=function(t,e,o,r){void 0===r&&(r=null);var i=e.split(""),n=i.length,s=0;egret.clearInterval(this.txtTime),this.txtTime=egret.setInterval(function(){this.isNext?(egret.clearInterval(this.txtTime),t.text=e,this.isClick=!1,this.isNext=!1,this.backFun()):(t.appendText(i[s]),s++,s>=n&&null!=r&&(egret.clearInterval(this.txtTime),this.isClick=!1,r()))},this,100)},e.prototype.showWindow=function(){return ViewManager.ins().isShow(OffLinePanel)?void ViewManager.ins().close(OffLinePanel):(this.ui=ViewManager.ins().open(MainUI),void this.initUi())},e.prototype.closeWindow=function(){this.call(SysCmd.REMOVE_FROM_STAGE,this.ui)},e.prototype.backFun=function(){},e.prototype.btnClick=function(t){switch(t.currentTarget){case this.ui.setBtn:console.log("设置"),ViewManager.ins().open(SetPanel);break;case this.ui.keyGroup:console.log("购买钥匙"),EventHelper.call(ShopCmd.SHOW_WINDOW,0);break;case this.ui.keyBtn:console.log("购买钥匙"),EventHelper.call(ShopCmd.SHOW_WINDOW,0);break;case this.ui.zsGroup:console.log("购买钻石"),EventHelper.call(ShopCmd.SHOW_WINDOW,1);break;case this.ui.zsBtn:console.log("购买钻石"),EventHelper.call(ShopCmd.SHOW_WINDOW,1);break;case this.ui.videoBtn:console.log("珍藏"),EventHelper.call(CollectionCmd.SHOW_WINDOW);break;case this.ui.caidan:if(GameGlobal.RoleProxy.Haogan>=TbGameSet.getTmplt(9).value1&&!GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CAI_DAN_MARK))return void UserTips.ins().showTips("章节结束才可以查看");if(this.ui.count.visible)return;this.ui.count.visible=!0,this.ui.count.alpha=1,egret.setTimeout(function(){egret.Tween.get(this.ui.count,{loop:!1}).to({alpha:0},1e3).call(function(){this.ui.count.visible=!1},this)},this,2e3);break;case this.ui.clickGroup:if(console.log("点击了哈哈哈哈"),this.haoganState)return;if(this.showPic)return;return this.isClick?(this.isNext=!0,void(TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).choose_story_id&&(this.ui.scGroup.visible=!0,egret.clearTimeout(this.selectTime),this.ui.list.dataProvider?this.ui.list.dataProvider.replaceAll(this.selectArr):this.ui.list.dataProvider=new eui.ArrayCollection(this.selectArr)))):void this.nextStory()}GameGlobal.SoundManager.PlayEffect("click_mp3")},e.prototype.nextStory=function(){return this.curStory,egret.clearInterval(this.txtTime),TbChapter.getTmplt(GameGlobal.RoleProxy.userInfo.chapter).story_end_id==TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).ID?(this.moveEff(this.curStory),GameGlobal.SoundManager.stopUrlVoice(),this.curBgMusic=TbGameSet.getTmplt(6).arr_value2[0],GameGlobal.SoundManager.playUrlVoice(this.curBgMusic),void EventHelper.call(ChaptercompleteCmd.SHOW_WINDOW)):void this.pxy.nextStory()},e.NAME="MainController",e}(BaseCtr);__reflect(MainController.prototype,"MainController");var MainMgr=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.start=function(){this.isStart||(this.regProxy(MainProxy.NAME,new MainProxy),this.regController(MainController.NAME,new MainController),this.isStart=!0)},Object.defineProperty(e.prototype,"EventList",{get:function(){return[MainCmd.SHOW_WINDOW,MainCmd.CLOSE_WINDOW,MainCmd.INIT_DATA,SysCmd.GOLD_UPDATE,SysCmd.KEY_UPDATE,MainCmd.STORY_UPDATE,VideoCmd.VIDEO_EXIT,SysCmd.SOCKET_CLOSE,MainCmd.HAOGAN_PLAY]},enumerable:!0,configurable:!0}),e.prototype.execute=function(t,e){switch(void 0===e&&(e=null),t){case MainCmd.INIT_DATA:this.proxy(MainProxy.NAME,e,t);break;default:this.control(MainController.NAME,e,t)}},e}(BaseMgr);__reflect(MainMgr.prototype,"MainMgr");var MainProxy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hgCount=0,e}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case MainCmd.INIT_DATA:this.initData();break;case SysCmd.KEY_UPDATE:this.initData();break;case SysCmd.GOLD_UPDATE:this.initData()}},e.prototype.initData=function(){},e.prototype.init=function(){this.addMsgFunc(MsgId.SMSG_ITEM_SOURCE,this.getAward)},e.prototype.getAward=function(t,e){for(var o=0;o<e.itemInfo.length;o++){if(1==e.itemInfo[o].entryid){var r="+"+e.itemInfo[o].count;UserTips.ins().showContTips(r,"jieshu_jx_1"),GameGlobal.RoleProxy.isCreatOrder&&(this.dotRecord(e.itemInfo[o].entryid,e.itemInfo[o].count),GameGlobal.RoleProxy.isBuy=!0)}if(2==e.itemInfo[o].entryid){this.dotRecord(e.itemInfo[o].entryid,e.itemInfo[o].count);var r="+"+e.itemInfo[o].count;UserTips.ins().showContTips(r,"juqing_zs"),GameGlobal.RoleProxy.isCreatOrder&&(this.dotRecord(e.itemInfo[o].entryid,e.itemInfo[o].count),GameGlobal.RoleProxy.isBuy=!0)}3==e.itemInfo[o].entryid&&(this.hgCount=e.itemInfo[o].count,EventHelper.call(MainCmd.HAOGAN_PLAY))}},e.prototype.dotRecord=function(t,e){for(var o=0;o<TbShop.getTb().length;o++)if(TbShop.getTb()[o].shopType==t&&TbShop.getTb()[o].arr_num[1]==e){2==t?GameGlobal.DotController.callDot(TbDot.getTmplt(20).ID,TbDot.getTmplt(20).record+TbShop.getTb()[o].cost):1==t&&GameGlobal.DotController.callDot(TbDot.getTmplt(18).ID,TbDot.getTmplt(18).record+TbShop.getTb()[o].cost);break}},e.prototype.nextStory=function(){this.sendPacket(protocols.RqstStorySelect)},e.prototype.selectStory=function(t){this.sendPacket(protocols.RqstStoryChoose,t)},e.NAME="MainProxy",e}(BaseProxy);__reflect(MainProxy.prototype,"MainProxy");var MainUI=function(t){function e(){var e=t.call(this)||this;return e.skinName="MainSkin",e.list.itemRenderer=MainSelectItem,e.title.fontFamily="myfont",e.chapter.fontFamily="myfont",e.createEgg(),e.collectEff(),e.caidanEff(),e}return __extends(e,t),e.prototype.createEgg=function(){this.xxBg.mask=this.xx,egret.Tween.get(this.xxBg,{loop:!0}).to({rotation:-5},1e3).to({rotation:5},1e3)},e.prototype.collectEff=function(){var t=DragonHelper.createdb("zhencang_dh","Armature");t.animation.play("newAnimation"),t.x=0,t.y=0,this.videoBtn.addChild(t)},e.prototype.caidanEff=function(){var t=DragonHelper.createdb("aixinbowei","Armature");t.animation.play("newAnimation",1),t.x=57,t.y=48,t.scaleX=1,t.scaleY=1,t.touchEnabled=!1,this.caidan.addChild(t),egret.setInterval(function(){t.animation.play("newAnimation",1)},this,5e3)},e.prototype.createDlgGroup=function(){var t=new eui.Group;t.touchEnabled=!1,t.touchThrough=!0,this.addChild(t);var e=new eui.Label;if(e.size=28,e.fontFamily="Microsoft YaHei",e.textColor=16777215,e.wordWrap=!0,e.width=505,e.height=71,e.lineSpacing=15,e.anchorOffsetX=0,e.touchEnabled=!1,0==TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).name_pos){t.horizontalCenter=700,t.bottom=277;var o=new eui.Image;o.x=0,o.y=0,o.source="juqing_dh_1",o.touchEnabled=!1,t.addChild(o);var r=new eui.Label;r.text=GameGlobal.RoleProxy.userInfo.Name,r.x=496,r.y=34,r.size=30,r.textAlign="center",r.width=125,r.touchEnabled=!1,r.fontFamily="Microsoft YaHei",t.addChild(r),e.x=134,e.y=102,t.addChild(e)}if(1==TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).name_pos)if("0.0"==TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).pic){t.x=83,t.bottom=350;var o=new eui.Image;o.x=0,o.y=2,o.source="juqing_dh_3",o.touchEnabled=!1,t.addChild(o);var i=new eui.Label;i.text="",i.x=0,i.y=0,i.size=30,i.touchEnabled=!1,i.fontFamily="Microsoft YaHei",t.addChild(i),e.x=23,e.y=38,t.addChild(e)}else{t.horizontalCenter=-732,t.bottom=322;var o=new eui.Image;o.x=0,o.y=0,o.source="juqing_dh_2",o.touchEnabled=!1,t.addChild(o);var n=new eui.Label;n.text=TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).pic,n.x=49,n.y=34,n.size=30,n.width=90,n.textAlign="center",n.touchEnabled=!1,n.fontFamily="Microsoft YaHei",t.addChild(n),e.x=14,e.y=100,t.addChild(e)}return t},e.LAYER_LEVEL=LayerManager.UI_Main,e}(BaseEuiView);__reflect(MainUI.prototype,"MainUI");var MainSelectItem=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClick,e),e}return __extends(e,t),e.prototype.childrenCreated=function(){},e.prototype.dataChanged=function(){var t,e=this.data;if(this.data.index%2!=0?(this.group.x=-650,egret.Tween.get(this.group,{loop:!1}).to({x:0},300)):(this.group.x=650,egret.Tween.get(this.group,{loop:!1}).to({x:0},300)),e.desc&&(t=e.desc.replace(/\"/g,"")),this.content.text=t,egret.Tween.get(this.img,{loop:!0}).to({rotation:15},50).to({rotation:-15},100).to({rotation:0},50).to({rotation:0},2e3),1==e.cost_type)this.img.visible=!1,this.priceGroup.visible=!1;else if(2==e.cost_type)for(var o=0;o<TbChapter.getTmplt(e.ID).branch_num;o++){if(GameGlobal.RoleProxy.userInfo.getChoseStoryId(e.ID-1,o)==e.storyId){this.img.visible=!1,this.priceGroup.visible=!1,this.price.text=e.cost;break}this.img.visible=!0,this.priceGroup.visible=!0,this.price.text=e.cost}},e.prototype.onClick=function(){GameGlobal.SoundManager.PlayEffect("click_mp3");for(var t=0;t<TbChapter.getTmplt(this.data.ID).branch_num;t++)if(GameGlobal.RoleProxy.userInfo.getChoseStoryId(this.data.ID-1,t)==this.data.storyId){this.dotRecord();var e=new protocols.RqstStoryChoose(this.data.index);return void SocketMgr.send(e)}if(GameGlobal.RoleProxy.Gold>=this.data.cost){this.dotRecord();var e=new protocols.RqstStoryChoose(this.data.index);SocketMgr.send(e)}else GameGlobal.RoleProxy.isEnough=!0,EventHelper.call(ShopCmd.SHOW_WINDOW,1,!0),UserTips.ins().showTips("钻石不足")},e.prototype.dotRecord=function(){this.data.storyId==TbDot.getTmplt(7).value1&&GameGlobal.DotController.callDot(TbDot.getTmplt(7).ID,TbDot.getTmplt(7).record),this.data.storyId==TbDot.getTmplt(9).value1&&GameGlobal.DotController.callDot(TbDot.getTmplt(9).ID,TbDot.getTmplt(9).record),1==this.data.cost_type?GameGlobal.DotController.callDot(TbDot.getTmplt(13).ID,TbDot.getTmplt(13).record+this.data.selectID):2==this.data.cost_type&&GameGlobal.DotController.callDot(TbDot.getTmplt(12).ID,TbDot.getTmplt(12).record+this.data.selectID)},e}(eui.ItemRenderer);__reflect(MainSelectItem.prototype,"MainSelectItem");var ReviewchapterCmd=function(){function t(){}return t.SHOW_WINDOW="Reviewchapter_show_window",t.CLOSE_WINDOW="Reviewchapter_close_window",t.INIT_DATA="Reviewchapter_init_data",t}();__reflect(ReviewchapterCmd.prototype,"ReviewchapterCmd");var ReviewchapterController=function(t){function e(){var e=t.call(this)||this;return e.starType=0,e.target=e,e}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case ReviewchapterCmd.SHOW_WINDOW:this.showWindow();break;case ReviewchapterCmd.CLOSE_WINDOW:this.closeWindow()}},e.prototype.initUi=function(){this.AddClick(this.ui.clickGroup,this.btnClick),this.pxy=this.getProxy(ReviewchapterProxy.NAME),this.ui.list.dataProvider=new eui.ArrayCollection(this.pxy.chapterData())},e.prototype.showWindow=function(){this.ui=ViewManager.ins().open(ReviewchapterUi),this.initUi()},e.prototype.closeWindow=function(){ViewManager.ins().close(ReviewchapterUi),this.ui.timeSign&&egret.clearInterval(this.ui.timeSign)},e.prototype.btnClick=function(t){switch(t.currentTarget){case this.ui.clickGroup:ViewManager.ins().close(ReviewchapterUi)}GameGlobal.SoundManager.PlayEffect("click_mp3")},e.NAME="ReviewchapterController",e}(BaseCtr);__reflect(ReviewchapterController.prototype,"ReviewchapterController");var ReviewchapterMgr=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.start=function(){this.isStart||(this.regProxy(ReviewchapterProxy.NAME,new ReviewchapterProxy),this.regController(ReviewchapterController.NAME,new ReviewchapterController),this.isStart=!0)},Object.defineProperty(e.prototype,"EventList",{get:function(){return[ReviewchapterCmd.SHOW_WINDOW,ReviewchapterCmd.CLOSE_WINDOW,ReviewchapterCmd.INIT_DATA]},enumerable:!0,configurable:!0}),e.prototype.execute=function(t,e){switch(void 0===e&&(e=null),t){case ReviewchapterCmd.INIT_DATA:this.proxy(ReviewchapterProxy.NAME,e,t);break;default:this.control(ReviewchapterController.NAME,e,t)}},e}(BaseMgr);__reflect(ReviewchapterMgr.prototype,"ReviewchapterMgr");var ReviewchapterProxy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case ReviewchapterCmd.INIT_DATA:this.initData()}},e.prototype.initData=function(){},e.prototype.chapterData=function(){for(var t=[],e=0;e<TbChapter.getTb().length;e++)if(GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CHAPTER_CROSS+e)){var o="isNew",r=!1;TbChapter.getTb()[e][o]=r,t.push(TbChapter.getTb()[e])}if(t.length!=TbChapter.getTb().length){var o="isNew",r=!0;TbChapter.getTb()[t.length][o]=r,t.push(TbChapter.getTb()[t.length])}return t},e.NAME="ReviewchapterProxy",e}(BaseProxy);__reflect(ReviewchapterProxy.prototype,"ReviewchapterProxy");var ReviewchapterUi=function(t){function e(){var e=t.call(this)||this;return e.timeSign=60102,e.skinName="ReviewChapterSkin",e.list.itemRenderer=ReviewChapterItem,e.timeSign&&egret.clearInterval(e.timeSign),e.timeSign=egret.setInterval(e.keyEff,e,3e3),e}return __extends(e,t),e.prototype.keyEff=function(){egret.Tween.get(this.keyImg,{loop:!1}).to({rotation:15},50).to({rotation:-15},100).to({rotation:0},50)},e.LAYER_LEVEL=LayerManager.UI_Popup,e}(BaseEuiView);__reflect(ReviewchapterUi.prototype,"ReviewchapterUi");var ReviewChapterItem=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.reviewChapter,e),e}return __extends(e,t),e.prototype.dataChanged=function(){var t=this.data;this.chapter.text=t.chapter_num,this.title.text=t.chapter_name,this.chapter.fontFamily="myfont",this.title.fontFamily="myfont",this.isNew.visible=t.isNew,this.select1.visible=!1,this.select2.visible=!1,this.group1.visible=!1,this.group2.visible=!1,this.data.ID>4?this.group.alpha=1:egret.setTimeout(function(){egret.Tween.get(this.group,{loop:!1}).to({alpha:1},400)},this,300*(this.data.ID-1)+10),egret.Tween.get(this.isNew,{loop:!0}).to({scaleX:.6,scaleY:.6},1e3).to({scaleX:1,scaleY:1},1e3);for(var e=0;e<t.arr_branch_desc.length;e++)t.arr_branch_desc.length>=1&&(this.group1.visible=!0,this.content1.text=t.arr_branch_desc[0].replace(/\"/g,""),GameGlobal.RoleProxy.userInfo.getChoseStoryId(t.ID-1,e)==TbChapter.getTmplt(t.ID).arr_branch_to_story_id[0]&&(this.select1.visible=!0),TbChapter.getTmplt(t.ID).arr_branch_desc.length>1&&(this.group2.visible=!0,this.content2.text=t.arr_branch_desc[1].replace(/\"/g,""),GameGlobal.RoleProxy.userInfo.getChoseStoryId(t.ID-1,e)==TbChapter.getTmplt(t.ID).arr_branch_to_story_id[1]&&(this.select2.visible=!0)));this.group1.visible||this.group2.visible?this.tip.visible=!1:this.tip.visible=!0,this.select1.visible&&this.select2.visible||1==t.arr_branch_desc.length&&this.select1.visible?this.perfect.visible=!0:this.perfect.visible=!1},e.prototype.reviewChapter=function(){ViewManager.ins().open(ReviewDlg,this.data.ID)},e}(eui.ItemRenderer);__reflect(ReviewChapterItem.prototype,"ReviewChapterItem");var ReviewDlg=function(t){function e(){var e=t.call(this)||this;return e.skinName="ReviewDlgSkin",e}return __extends(e,t),e.prototype.OnOpen=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.data=t[0],this.AddClick(this.clickGroup,this.btnClick),this.AddClick(this.noBtn,this.btnClick),this.AddClick(this.yesBtn,this.btnClick),this.msg.text="重温该章节，需要消耗钥匙*"+TbChapter.getTmplt(this.data).cost_key_num+"，是否确定重温？"},e.prototype.btnClick=function(t){switch(t.currentTarget){case this.clickGroup:ViewManager.ins().close(e);break;case this.noBtn:ViewManager.ins().close(e);break;case this.yesBtn:this.reviewChapter(),ViewManager.ins().close(e)}GameGlobal.SoundManager.PlayEffect("click_mp3")},e.prototype.reviewChapter=function(){if(GameGlobal.RoleProxy.Key>=TbChapter.getTmplt(this.data).cost_key_num){GameGlobal.DotController.callDot(TbDot.getTmplt(27).ID,TbDot.getTmplt(27).record+TbChapter.getTmplt(this.data).ID),GameGlobal.RoleProxy.isBegin=!0;var t=new protocols.RqstChapterRestart(this.data);SocketMgr.send(t)}else GameGlobal.RoleProxy.isEnough=!0,EventHelper.call(ShopCmd.SHOW_WINDOW,0),UserTips.ins().showTips("钥匙不足")},e.LAYER_LEVEL=LayerManager.UI_Popup,e}(BaseEuiView);__reflect(ReviewDlg.prototype,"ReviewDlg");var RoleCmd=function(){function t(){}return t.INIT_DATA="RoleCmd_init_data",t}();__reflect(RoleCmd.prototype,"RoleCmd");var RoleMgr=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.start=function(){this.isStart||(this.regProxy(RoleProxy.NAME,new RoleProxy),this.isStart=!0)},Object.defineProperty(e.prototype,"EventList",{get:function(){return[RoleCmd.INIT_DATA]},enumerable:!0,configurable:!0}),e.prototype.execute=function(t,e){switch(void 0===e&&(e=null),t){case RoleCmd.INIT_DATA:this.proxy(RoleProxy.NAME,e,t)}},e}(BaseMgr);__reflect(RoleMgr.prototype,"RoleMgr");var PlayerSetingInfoVo=protocols.objects.PlayerSetingInfoVo,FiledUpdateMask=game.objmgr.FiledUpdateMask,Handler=game.objmgr.Handler,UInt64=core.net.UInt64,ObjectData=game.objmgr.ObjectData,RqstCharReady=protocols.RqstCharReady,RoleProxy=function(){function t(){this.userName=null,this.connect=!1,this.account=null,this.isLoginFirst=!1,this.isBegin=!1,this.isMemory=!1,this.isExtraVideo=!1,this.isCaidan=!1,this.isEnough=!1,this.openVoice=!0,this.isBuy=!1,this.isCreatOrder=!1,this.firstCreate=!1,this.isPlayVideo=!1,EventHelper.addListener(SysCmd.OBJ_TYPE_PLAYERMSG,this.onPlayerAdd,this),EventHelper.addListener(SysCmd.OBJ_TYPE_SETTING_MSG,this.getSetting,this)}return t.prototype.initData=function(){},t.prototype.onPlayerAdd=function(t,e){var o=e;if(this.userInfo=e,this.firstCreate){var r={server_name:"1",server_id:"2",role_name:GameGlobal.RoleProxy.userInfo.Name,role_id:GameGlobal.RoleProxy.userInfo.guid.toString2(),level:1,create_time:(new Date).getTime().toString()};if(platform.getPfId()==PFConfig.PF_CJ&&EventHelper.call(AppCmd.REPORT_USERINFO,JSON.stringify(r)),platform.getPfId()==PFConfig.PF_QK){var i=JSON.stringify(GameGlobal.DotController.quickDot());EventHelper.call(AppCmd.REPORT_CREATE_ROLE_QUICK,i)}}DbgUtil.isDebug&&console.log(timeStamp()+o.Name),o.addCbFielbChanged(new Handler(this,this.getUserInfo,null,!1)),SocketMgr.send(new RqstCharReady)},t.prototype.getUserInfo=function(t,e,o){var r=protocols.objects.PlayerVo;this.userInfo=t;var i=t,n=i.bakObj;o.GetIntBlock(r.PLAYER_MONEY_KEY)&&EventHelper.call(SysCmd.KEY_UPDATE),o.GetIntBlock(r.PLAYER_MONEY_GOLD)&&EventHelper.call(SysCmd.GOLD_UPDATE),i.curStory!=n.curStory&&EventHelper.call(MainCmd.STORY_UPDATE),o.GetIntBlock(r.PLAYER_LIMIT_BUY_COUNT)&&EventHelper.call(DiscountCmd.COUNT_UPDATE),EventHelper.call(SysCmd.UPDATE_OBJ,i)},Object.defineProperty(t.prototype,"Gold",{get:function(){return this.userInfo.gold},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Key",{get:function(){return this.userInfo.keys},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Haogan",{get:function(){return this.userInfo.haoGunDu},enumerable:!0,configurable:!0}),t.prototype.videoRecord=function(t){for(var e=0;200>e;e++){if(""==this.settingVo.getVideoName(e)){this.setVideoName(e,t),this.SendSaveSetting();break}if(this.settingVo.getVideoName(e)==t)break}},t.prototype.getSetting=function(t,e){this.settingVo=e,this.settingVo.initFisrt||(this.initFisrt=!0,this.voiceNumber=1,this.SendSaveSetting())},Object.defineProperty(t.prototype,"initFisrt",{set:function(t){this.settingVo.SetBool(PlayerSetingInfoVo.PLAYERSETINGINFO_VOIDE,PlayerSetingInfoVo.PLAYERSETINGINFO_VOIDE_INIT_FISRT_OFFSET,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voiceNumber",{set:function(t){this.settingVo.SetUInt16(PlayerSetingInfoVo.PLAYERSETINGINFO_VOIDE,PlayerSetingInfoVo.PLAYERSETINGINFO_VOIDE_VOICE_NUMBER_OFFSET,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLimitBuy",{set:function(t){this.settingVo.SetBool(PlayerSetingInfoVo.PLAYERSETINGINFO_VOIDE,PlayerSetingInfoVo.PLAYERSETINGINFO_VOIDE_FIRST_LIMIT_BUY_OFFSET,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"teHuiFirstTime",{set:function(t){this.settingVo.SetUInt32(PlayerSetingInfoVo.PLAYERSETINGINFO_TE_HUI_FIRST_TIME,t)},enumerable:!0,configurable:!0}),t.prototype.setVideoName=function(t,e){this.settingVo.SetString(PlayerSetingInfoVo.PLAYERSETINGINFO_STR_VIDEO_NAME+t,e)},t.prototype.SendSaveSetting=function(){if(this.settingVo.HaveUpdate()){var t=new protocols.RqstSaveSetting;this.settingVo.createUpdateBlock(SysCmd.OBJ_TYPE_PLAYER_SETTING,t.packet),this.settingVo.ClearUpdate(),SocketMgr.send(t)}},t.NAME="RoleProxy",t}();__reflect(RoleProxy.prototype,"RoleProxy");var OffLinePanel=function(t){function e(){var e=t.call(this)||this;return e.skinName="OffLine",e}return __extends(e,t),e.prototype.OnOpen=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];egret.Tween.get(this.circle,{loop:!0}).to({rotation:360},1e3).to({rotation:720},1e3)},e.LAYER_LEVEL=LayerManager.UI_Popup,e}(BaseEuiView);__reflect(OffLinePanel.prototype,"OffLinePanel");var SetPanel=function(t){function e(){var e=t.call(this)||this;return e.switchFlag=!0,e.skinName="SetSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){},e.prototype.OnOpen=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];egret.Tween.get(this.group,{loop:!1}).to({verticalCenter:-20},800,egret.Ease.elasticOut),this.AddClick(this.btnCwzj,this.btnClick),this.AddClick(this["switch"],this.btnClick),this.AddClick(this.closeBtn,this.btnClick),this.AddClick(this.clickGroup,this.btnClick),this.userName.text=GameGlobal.RoleProxy.userInfo.Name,this.userId.text="ID:"+GameGlobal.RoleProxy.userInfo.guid.toString2(),1==GameGlobal.RoleProxy.settingVo.voiceNumber?this.switchFlag=!0:this.switchFlag=!1,this.switchFlag?this["switch"].source="tanchuang_kg_1":this["switch"].source="tanchuang_kg_2"},e.prototype.switchState=function(){this.switchFlag?(this["switch"].source="tanchuang_kg_1",GameGlobal.RoleProxy.voiceNumber=1,GameGlobal.SoundManager.isBgVoice=!0,TbChapter.getTmplt(GameGlobal.RoleProxy.userInfo.chapter).story_end_id==TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).ID?GameGlobal.SoundManager.playUrlVoice(TbGameSet.getTmplt(6).arr_value2[0]):GameGlobal.SoundManager.playUrlVoice(TbStory.getTmplt(GameGlobal.RoleProxy.userInfo.curStory).bgm),GameGlobal.RoleProxy.SendSaveSetting(),GameGlobal.SoundManager.SetBgOn(!0)):(this["switch"].source="tanchuang_kg_2",GameGlobal.SoundManager.isBgVoice=!1,GameGlobal.RoleProxy.voiceNumber=0,GameGlobal.SoundManager.stopUrlVoice(),GameGlobal.RoleProxy.SendSaveSetting(),GameGlobal.SoundManager.SetBgOn(!1))},e.prototype.btnClick=function(t){switch(t.currentTarget){case this.btnCwzj:console.log("重温章节");break;case this["switch"]:this.switchFlag=!this.switchFlag,this.switchState();break;case this.closeBtn:ViewManager.ins().close(e);break;case this.clickGroup:ViewManager.ins().close(e)}GameGlobal.SoundManager.PlayEffect("click_mp3")},e.LAYER_LEVEL=LayerManager.UI_Popup,e}(BaseEuiView);__reflect(SetPanel.prototype,"SetPanel");var PlatformType=protocols.fields.PlatformType,PayController=function(t){function e(){var e=t.call(this)||this;return EventHelper.addListener(AppCmd.PAY_RESULT,e.payCallBack,e),e}return __extends(e,t),e.prototype.creatOrder=function(t,e,o,r){this.price=t,this.goodId=e,this.goodNum=o;var i={pid:PFConfig.getPid(),sid:PFConfig.getSid(),sname:PFConfig.getSid().toString(),uid:GameGlobal.RoleProxy.account,role_name:GameGlobal.RoleProxy.userInfo.Name,role_id:GameGlobal.RoleProxy.userInfo.guid.toString2(),role_lv:1,good_price:100*t,good_id:e,good_num:o,amount:t*o*100,time:(new Date).getTime(),sign:""},n=i.pid.toString()+i.sid.toString()+i.uid.toString()+i.role_id.toString()+i.good_id.toString()+i.time.toString()+i.good_price.toString()+GameConfig.PAY_KEY+"1",s=md5.hex_md5(n);i.sign=s,HttpHelper.getJson(GameConfig.CREATE_PAY,i,this.creatOrderComplete,this,null,!1)},e.prototype.creatOrderComplete=function(t){if("ok"==t.msg){if(console.log("订单创建成功"),this.ordreID=t.data.order_id,platform.getPfId()==PFConfig.PF_CJ){var e={money:this.price.toString(),goods:"游戏充值",goods_desc:"游戏充值",game_order_sn:t.data.order_id,game_api_url:GameConfig.PAY_API,game_server_id:"1",game_zone:"2",role_id:GameGlobal.RoleProxy.userInfo.guid.toString2(),role_name:GameGlobal.RoleProxy.userInfo.Name,ext:this.goodId+"|1"};EventHelper.call(AppCmd.PAY,JSON.stringify(e))}(platform.getPfId()==PFConfig.PF_QK||platform.getPfId()==PFConfig.PF_YH)&&EventHelper.call(AppCmd.PAY_QUICKSDK,JSON.stringify(this.quickPay()))}else console.log("创建订单失败！")},e.prototype.payCallBack=function(t,e){},e.prototype.quickPay=function(){var t={serverID:PFConfig.getSid().toString(),serverName:"3",gameRoleName:GameGlobal.RoleProxy.userInfo.Name,gameRoleID:GameGlobal.RoleProxy.userInfo.guid.toString2(),gameUserLevel:"1",vipLevel:"1",gameBalance:GameGlobal.RoleProxy.userInfo.gold.toString(),partyName:"美女联盟",cpOrderID:this.ordreID.toString(),goodsName:this.goodId.toString(),count:this.goodNum,amount:this.price,goodsID:this.goodId.toString(),goodsDesc:"无",price:this.price,extrasParams:this.goodId+"|"+this.goodNum};
return t},e}(BaseClass);__reflect(PayController.prototype,"PayController");var ShopCmd=function(){function t(){}return t.SHOW_WINDOW="Shop_show_window",t.CLOSE_WINDOW="Shop_close_window",t.INIT_DATA="Shop_init_data",t.SHOP_BUY_KEY="SHOP_BUY_KEY",t.SHOP_BUY_DIAMONDS="SHOP_BUY_DIAMONDS",t}();__reflect(ShopCmd.prototype,"ShopCmd");var ShopController=function(t){function e(){var e=t.call(this)||this;return e.starType=0,e.timeSign=1601,e.target=e,e}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case ShopCmd.SHOW_WINDOW:this.showWindow(),this.keyOrgold=t,this.btnState(t),GameGlobal.RoleProxy.isEnough&&(GameGlobal.RoleProxy.settingVo.firstLimitBuy||(GameGlobal.RoleProxy.firstLimitBuy=!0,GameGlobal.RoleProxy.teHuiFirstTime=Math.floor((new Date).getTime()/1e3),GameGlobal.RoleProxy.SendSaveSetting(),EventHelper.call(DiscountCmd.SHOW_WINDOW))),GameGlobal.RoleProxy.isEnough=!1;break;case ShopCmd.CLOSE_WINDOW:this.closeWindow();break;case ShopCmd.SHOP_BUY_KEY:console.log("购买钥匙"),console.log("购买id"+this.listData[Number(t)].ID),GameGlobal.RoleProxy.isCreatOrder=!0,platform.isDebug()?this.pxy.sendPacket(protocols.RqstShopBuy,this.listData[Number(t)].ID,1):GameGlobal.PayController.creatOrder(this.listData[Number(t)].cost,this.listData[Number(t)].ID,1,(new Date).getTime());break;case ShopCmd.SHOP_BUY_DIAMONDS:console.log("购买钻石"),console.log("购买id"+this.listData[Number(t)].ID),GameGlobal.RoleProxy.isCreatOrder=!0,platform.isDebug()?this.pxy.sendPacket(protocols.RqstShopBuy,this.listData[Number(t)].ID,1):GameGlobal.PayController.creatOrder(this.listData[Number(t)].cost,this.listData[Number(t)].ID,1,(new Date).getTime())}},e.prototype.initUi=function(){GameGlobal.RoleProxy.isCreatOrder=!1,GameGlobal.RoleProxy.isBuy=!1,this.AddClick(this.ui.closeBtn,this.btnClick),this.AddClick(this.ui.btn1,this.btnClick),this.AddClick(this.ui.btn2,this.btnClick),this.pxy=this.getProxy(ShopProxy.NAME),this.keyTime(),this.timeSign=egret.setInterval(this.keyTime,this,1e3),this.playDb1(),this.playDb2()},e.prototype.playDb1=function(){this.dbEff=DragonHelper.createdb("yaoshi_dh","Armature"),this.dbEff.animation.play("newAnimation"),this.ui.dbGroup.addChild(this.dbEff)},e.prototype.playDb2=function(){this.dbEff2=DragonHelper.createdb("zuanshi_dh","Armature"),this.dbEff2.animation.play("newAnimation"),this.ui.dbGroup.addChild(this.dbEff2)},e.prototype.keyTime=function(){if(GameGlobal.RoleProxy.Key<TbGameSet.getTmplt(3).value1){var t=GameGlobal.RoleProxy.userInfo.keysLastUpdate+TbGameSet.getTmplt(4).value1-Math.floor((new Date).getTime()/1e3);t>0?this.ui.time.text=DateUtils.format_1(1e3*t)+" 后自动+1":(this.ui.time.text="",this.ui.timeGroup.visible=!1)}else this.ui.timeGroup.visible=!1},e.prototype.showWindow=function(){this.ui=ViewManager.ins().open(ShopUi),this.initUi()},e.prototype.closeWindow=function(){GameGlobal.RoleProxy.isBuy||(0==this.keyOrgold?GameGlobal.DotController.callDot(TbDot.getTmplt(17).ID,1):1==this.keyOrgold&&GameGlobal.DotController.callDot(TbDot.getTmplt(19).ID,1)),egret.clearInterval(this.timeSign),ViewManager.ins().close(ShopUi),GameGlobal.RoleProxy.isBuy=!1,GameGlobal.RoleProxy.isCreatOrder=!1},e.prototype.btnState=function(t){if(t){this.dbEff.visible=!1,this.dbEff2.visible=!0,this.ui.btn1.source="shangcheng_ys_1",this.ui.btn2.source="shangcheng_zs_2",this.ui.btn1.TouchEvent=!0,this.ui.btn2.TouchEvent=!1,this.ui.timeGroup.visible=!1,this.listData=[];for(var e=0;e<this.pxy.shopData().length-3;e++)this.listData.push(this.pxy.shopData()[e])}else{GameGlobal.RoleProxy.Key<2&&(this.ui.timeGroup.visible=!0),this.dbEff.visible=!0,this.dbEff2.visible=!1,this.ui.btn1.source="shangcheng_ys_2",this.ui.btn2.source="shangcheng_zs_1",this.ui.btn1.TouchEvent=!0,this.ui.btn2.TouchEvent=!1;this.pxy.shopData()[0];this.listData=[];for(var e=6;e<this.pxy.shopData().length;e++)this.listData.push(this.pxy.shopData()[e])}this.ui.list.itemRenderer=ShopItem,this.ui.list.dataProvider?this.ui.list.dataProvider.replaceAll(this.listData):this.ui.list.dataProvider=new eui.ArrayCollection(this.listData)},e.prototype.btnClick=function(t){switch(t.currentTarget){case this.ui.closeBtn:console.log("关闭商城"),this.closeWindow();break;case this.ui.btn1:console.log("钥匙"),this.btnState(0);break;case this.ui.btn2:console.log("钻石"),this.btnState(1)}GameGlobal.SoundManager.PlayEffect("click_mp3")},e.NAME="ShopController",e}(BaseCtr);__reflect(ShopController.prototype,"ShopController");var ShopItem=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},e.prototype.dataChanged=function(){this.bg.source=this.data.icon,this.price.source="ui_1.je_"+this.data.cost,1==this.data.arr_num[0]?this.num.source="ui_1.ys_"+this.data.arr_num[1]:2==this.data.arr_num[0]&&(this.num.source="ui_1.zs_"+this.data.arr_num[1])},e.prototype.onClick=function(){console.log("列表项索引："+this.itemIndex),GameGlobal.SoundManager.PlayEffect("click_mp3"),1==this.data.arr_num[0]?EventHelper.call(ShopCmd.SHOP_BUY_KEY,this.itemIndex):2==this.data.arr_num[0]&&EventHelper.call(ShopCmd.SHOP_BUY_DIAMONDS,this.itemIndex)},e}(eui.ItemRenderer);__reflect(ShopItem.prototype,"ShopItem");var ShopMgr=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.start=function(){this.isStart||(this.regProxy(ShopProxy.NAME,new ShopProxy),this.regController(ShopController.NAME,new ShopController),this.isStart=!0)},Object.defineProperty(e.prototype,"EventList",{get:function(){return[ShopCmd.SHOW_WINDOW,ShopCmd.CLOSE_WINDOW,ShopCmd.INIT_DATA,ShopCmd.SHOP_BUY_KEY,ShopCmd.SHOP_BUY_DIAMONDS]},enumerable:!0,configurable:!0}),e.prototype.execute=function(t,e){switch(void 0===e&&(e=null),t){case ShopCmd.INIT_DATA:this.proxy(ShopProxy.NAME,e,t);break;default:this.control(ShopController.NAME,e,t)}},e}(BaseMgr);__reflect(ShopMgr.prototype,"ShopMgr");var TbShop=template_def.TbShop,ShopProxy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case ShopCmd.INIT_DATA:this.initData()}},e.prototype.initData=function(){},e.prototype.shopData=function(){for(var t=[],e=0;e<TbShop.getTb().length;e++)(2==TbShop.getTb()[e].shopType||1==TbShop.getTb()[e].shopType)&&t.push(TbShop.getTb()[e]);return t},e.NAME="ShopProxy",e}(BaseProxy);__reflect(ShopProxy.prototype,"ShopProxy");var ShopUi=function(t){function e(){var e=t.call(this)||this;e.skinName="ShopSkin",egret.Tween.get(e.img,{loop:!1}).to({alpha:1,x:0},300);var o=DragonHelper.createdb("sc_shan","Armature");return o.animation.play("newAnimation"),o.x=320,o.y=380,e.dbGroup2.addChild(o),egret.Tween.get(e.body,{loop:!1}).to({alpha:1},500),e}return __extends(e,t),e.LAYER_LEVEL=LayerManager.UI_Popup,e}(BaseEuiView);__reflect(ShopUi.prototype,"ShopUi");var StoryendCmd=function(){function t(){}return t.SHOW_WINDOW="Storyend_show_window",t.CLOSE_WINDOW="Storyend_close_window",t.INIT_DATA="Storyend_init_data",t}();__reflect(StoryendCmd.prototype,"StoryendCmd");var StoryendController=function(t){function e(){var e=t.call(this)||this;return e.starType=0,e.timeSign=52600,e.openFlag=!1,e.discountSign=945,e.playFlag=!1,e.target=e,e}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case StoryendCmd.SHOW_WINDOW:this.showWindow();break;case StoryendCmd.CLOSE_WINDOW:this.closeWindow();break;case SysCmd.GOLD_UPDATE:this.updateMsg();break;case SysCmd.KEY_UPDATE:this.updateMsg();break;case VideoCmd.VIDEO_EXIT:GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CAI_DAN_MARK)&&ViewManager.ins().isShow(StoryendUi)&&(this.ui.caidan.visible=!1,this.ui.tipGroup.visible=!1),this.setContent()}},e.prototype.updateMsg=function(){this.ui&&(this.ui.gold.text=GameGlobal.RoleProxy.Gold,this.ui.key.text=GameGlobal.RoleProxy.Key+"/"+TbGameSet.getTmplt(3).value1)},e.prototype.initUi=function(){this.ui.videoImg.mask=this.ui.mask2,this.ui.videoImg2.mask=this.ui.mask3,this.openFlag=!0,this.playFlag=!0,this.AddClick(this.ui.setBtn,this.btnClick),this.AddClick(this.ui.keyGroup,this.btnClick),this.AddClick(this.ui.goldGroup,this.btnClick),this.AddClick(this.ui.goldBtn,this.btnClick),this.AddClick(this.ui.keyBtn,this.btnClick),this.AddClick(this.ui.videoBtn,this.btnClick),this.AddClick(this.ui.videoGroup,this.btnClick),this.AddClick(this.ui.discountBtn,this.btnClick),this.AddClick(this.ui.caidan,this.btnClick),this.pxy=this.getProxy(StoryendProxy.NAME),this.ui.list.dataProvider=new eui.ArrayCollection(this.pxy.chapterData()),this.updateMsg(),this.setContent(),this.showEgg(),this.showDiscount(),this.discountSign=egret.setInterval(this.showDiscount,this,1e3),GameGlobal.DotController.callDot(TbDot.getTmplt(15).ID,TbDot.getTmplt(15).record+GameGlobal.RoleProxy.userInfo.chapter),GameGlobal.DotController.callDot(TbDot.getTmplt(16).ID,TbDot.getTmplt(16).record+this.pxy.chapterData().length)},e.prototype.showEgg=function(){return GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CAI_DAN_MARK)?void(this.ui.caidan.visible=!1):(this.ui.xxBg.mask=this.ui.xx,egret.Tween.get(this.ui.xxBg,{loop:!0}).to({rotation:-5},1e3).to({rotation:5},1e3),this.ui.xxBg.y=145-GameGlobal.RoleProxy.Haogan/TbGameSet.getTmplt(9).value1*65,this.ui.count.text=GameGlobal.RoleProxy.Haogan+"/"+TbGameSet.getTmplt(9).value1,void(GameGlobal.RoleProxy.Haogan>=TbGameSet.getTmplt(9).value1&&(this.ui.tipGroup.visible=!0,egret.Tween.get(this.ui.tipGroup,{loop:!0}).to({alpha:1},500).to({alpha:1},2e3).to({alpha:0},500).to({alpha:0},5e3))))},e.prototype.showDiscount=function(){if(GameGlobal.RoleProxy.settingVo.firstLimitBuy)if(GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_LIMIT_BUY))GameGlobal.RoleProxy.userInfo.limitBuyCount<3?(this.ui.discountBtn.visible=!0,this.ui.discountBtn.time.visible=!1,GameGlobal.RoleProxy.userInfo.getDailyMark(PlayerDailySetDef.DAILY_MARK_IS_OPEN_TEHUI)?this.ui.discountBtn.state.visible=!1:this.ui.discountBtn.state.visible=!0):(this.ui.discountBtn.visible=!1,egret.clearInterval(this.discountSign));else{var t=GameGlobal.RoleProxy.settingVo.teHuiFirstTime+TbGameSet.getTmplt(10).value1-Math.floor((new Date).getTime()/1e3);t>0?(this.ui.discountBtn.visible=!0,this.ui.discountBtn.time.text=DateUtils.format_1(1e3*t)):(this.ui.discountBtn.visible=!1,egret.clearInterval(this.discountSign))}},e.prototype.playExtralAni=function(){var t=DragonHelper.createdb("fanwaipian_dh","Armature");t.animation.play("newAnimation"),t.x=300,t.y=-40,t.touchEnabled=!1,this.ui.dbGroup.addChild(t)},e.prototype.setContent=function(){if(!GameGlobal.RoleProxy.isMemory&&this.openFlag)if(this.ui.pass.text="完美通关章节："+this.pxy.perfectCount()+"/"+TbChapter.getTb().length,this.timeSign&&egret.clearInterval(this.timeSign),0==this.pxy.extraVideos().length)this.ui.videoGroup.visible=!1,this.ui.videoBg.visible=!1,this.ui.dbGroup.visible=!1;else{this.playFlag&&(this.playExtralAni(),this.playFlag=!1),this.ui.videoImg.source=this.pxy.extraVideos()[0].banner_pic,this.curVideoData=this.pxy.extraVideos()[0],this.ui.videoImg.x=14,this.ui.videoImg2.x=646;var t=0,e=!1;if(1==this.pxy.extraVideos().length)return;this.timeSign=egret.setInterval(function(){t++;var o=this.pxy.extraVideos();t<this.pxy.extraVideos().length?this.curVideoData=o[t]:(t=0,this.curVideoData=o[t]),e?(this.ui.videoImg.source=o[t].banner_pic,egret.Tween.get(this.ui.videoImg,{loop:!1}).to({x:14},300),egret.Tween.get(this.ui.videoImg2,{loop:!1}).to({x:-700},300).call(function(){this.ui.videoImg2.x=646},this),e=!1):(this.ui.videoImg2.source=o[t].banner_pic,egret.Tween.get(this.ui.videoImg2,{loop:!1}).to({x:14},300),egret.Tween.get(this.ui.videoImg,{loop:!1}).to({x:-700},300).call(function(){this.ui.videoImg.x=646},this),e=!0)},this,3e3)}},e.prototype.showWindow=function(){this.ui=ViewManager.ins().open(StoryendUi),this.initUi()},e.prototype.closeWindow=function(){ViewManager.ins().isShow(StoryendUi)&&(egret.clearInterval(this.timeSign),egret.clearInterval(this.discountSign),ViewManager.ins().close(StoryendUi))},e.prototype.btnClick=function(t){switch(t.currentTarget){case this.ui.setBtn:ViewManager.ins().open(SetPanel);break;case this.ui.keyGroup:EventHelper.call(ShopCmd.SHOW_WINDOW,0);break;case this.ui.goldGroup:EventHelper.call(ShopCmd.SHOW_WINDOW,1);break;case this.ui.goldBtn:EventHelper.call(ShopCmd.SHOW_WINDOW,1);break;case this.ui.keyBtn:EventHelper.call(ShopCmd.SHOW_WINDOW,0);break;case this.ui.discountBtn:EventHelper.call(DiscountCmd.SHOW_WINDOW);break;case this.ui.caidan:if(GameGlobal.RoleProxy.Haogan>=TbGameSet.getTmplt(9).value1&&!GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CAI_DAN_MARK)){this.pxy.caidanVideos();var e=TbGameSet.getTmplt(9).arr_value2[0];return GameGlobal.SoundManager.isBgVoice=!1,GameGlobal.RoleProxy.isPlayVideo=!0,GameGlobal.SoundManager.channel&&(GameGlobal.SoundManager.channel.volume=0),void EventHelper.call(VideoCmd.LOAD_VIDEO,{url:e,noBack:!platform.isDebug()})}if(this.ui.count.visible)return;this.ui.count.visible=!0,this.ui.count.alpha=1,egret.setTimeout(function(){egret.Tween.get(this.ui.count,{loop:!1}).to({alpha:0},1e3).call(function(){this.ui.count.visible=!1},this)},this,2e3);break;case this.ui.videoBtn:EventHelper.call(CollectionCmd.SHOW_WINDOW);break;case this.ui.videoGroup:GameGlobal.SoundManager.SetBgOn(!1),GameGlobal.RoleProxy.isExtraVideo=!0,GameGlobal.SoundManager.isBgVoice=!1,GameGlobal.RoleProxy.isPlayVideo=!0,GameGlobal.RoleProxy.isMemory=!1,GameGlobal.SoundManager.channel&&(GameGlobal.SoundManager.channel.volume=0);var o=this.curVideoData.free_video;EventHelper.call(VideoCmd.LOAD_VIDEO,{url:o,noBack:!platform.isDebug()}),egret.clearInterval(this.timeSign),ViewManager.ins().open(ExtraVideoView,this.curVideoData)}GameGlobal.SoundManager.PlayEffect("click_mp3")},e.NAME="StoryendController",e}(BaseCtr);__reflect(StoryendController.prototype,"StoryendController");var StoryendMgr=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.start=function(){this.isStart||(this.regProxy(StoryendProxy.NAME,new StoryendProxy),this.regController(StoryendController.NAME,new StoryendController),this.isStart=!0)},Object.defineProperty(e.prototype,"EventList",{get:function(){return[StoryendCmd.SHOW_WINDOW,StoryendCmd.CLOSE_WINDOW,StoryendCmd.INIT_DATA,SysCmd.GOLD_UPDATE,SysCmd.KEY_UPDATE,VideoCmd.VIDEO_EXIT]},enumerable:!0,configurable:!0}),e.prototype.execute=function(t,e){switch(void 0===e&&(e=null),t){case StoryendCmd.INIT_DATA:this.proxy(StoryendProxy.NAME,e,t);break;default:this.control(StoryendController.NAME,e,t)}},e}(BaseMgr);__reflect(StoryendMgr.prototype,"StoryendMgr");var StoryendProxy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case StoryendCmd.INIT_DATA:this.initData()}},e.prototype.initData=function(){},e.prototype.chapterData=function(){for(var t=[],e=0;e<TbChapter.getTb().length;e++)t.push(TbChapter.getTb()[e]);return t},e.prototype.perfectCount=function(){for(var t=0,e=0;e<TbChapter.getTb().length;e++)for(var o=0,r=0;r<TbChapter.getTb()[e].branch_num;r++)0!=GameGlobal.RoleProxy.userInfo.getChoseStoryId(TbChapter.getTb()[e].ID-1,r)&&o++,o==TbChapter.getTb()[e].branch_num&&t++;return t},e.prototype.extraVideos=function(){for(var t=[],e=[],o=0;o<TbChapter.getTb().length;o++)GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_CHAPTER_CROSS+TbChapter.getTb()[o].ID-1)&&e.push(TbChapter.getTb()[o]);for(var o=0;o<TbSpecialChapter.getTb().length;o++)TbSpecialChapter.getTb()[o].unlock_chapter_id<=e.length&&(GameGlobal.RoleProxy.userInfo.getMark(PlayerBiteSetDef.PLAYER_BIT_SPECIAL_CHAPTER_CROSS+TbSpecialChapter.getTb()[o].ID-1)||t.push(TbSpecialChapter.getTb()[o]));var r=SortTools.sortMap(t,"ID",!1);return r},e.prototype.caidanVideos=function(){this.sendPacket(protocols.RqstCaiDanVideo)},e.NAME="StoryendProxy",e}(BaseProxy);__reflect(StoryendProxy.prototype,"StoryendProxy");var StoryendUi=function(t){function e(){var e=t.call(this)||this;return e.skinName="StoryEndSkin",e.list.itemRenderer=StoryEndItem,e.keyEff(),e.collectEff(),e.caidanEff(),e}return __extends(e,t),e.prototype.caidanEff=function(){var t=DragonHelper.createdb("aixinbowei","Armature");t.animation.play("newAnimation",1),t.x=57,t.y=48,t.scaleX=1,t.scaleY=1,t.touchEnabled=!1,this.caidan.addChild(t);var o=9e3;o=egret.setInterval(function(){t.animation.play("newAnimation",1),ViewManager.ins().isShow(e)||egret.clearInterval(o)},this,5e3)},e.prototype.keyEff=function(){egret.Tween.get(this.keyImg,{loop:!0}).to({rotation:15},50).to({rotation:-15},100).to({rotation:0},50).to({rotation:0},2e3)},e.prototype.collectEff=function(){var t=DragonHelper.createdb("zhencang_dh","Armature");t.animation.play("newAnimation"),t.x=0,t.y=0,this.videoBtn.addChild(t)},e.LAYER_LEVEL=LayerManager.UI_Popup,e}(BaseEuiView);__reflect(StoryendUi.prototype,"StoryendUi");var StoryEndItem=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.reviewChapter,e),e}return __extends(e,t),e.prototype.dataChanged=function(){var t=this.data;this.chapter.text=t.chapter_num,this.title.text=t.chapter_name,this.select1.visible=!1,this.select2.visible=!1,this.group1.visible=!1,this.group2.visible=!1,this.data.ID>4?this.group.alpha=1:egret.setTimeout(function(){egret.Tween.get(this.group,{loop:!1}).to({alpha:1},400)},this,300*(this.data.ID-1)+10);for(var e=0;e<t.arr_branch_desc.length;e++)t.arr_branch_desc.length>=1&&(this.group1.visible=!0,this.content1.text=t.arr_branch_desc[0].replace(/\"/g,""),GameGlobal.RoleProxy.userInfo.getChoseStoryId(t.ID-1,e)==TbChapter.getTmplt(t.ID).arr_branch_to_story_id[0]&&(this.select1.visible=!0),TbChapter.getTmplt(t.ID).arr_branch_desc.length>1&&(this.group2.visible=!0,this.content2.text=t.arr_branch_desc[1].replace(/\"/g,""),GameGlobal.RoleProxy.userInfo.getChoseStoryId(t.ID-1,e)==TbChapter.getTmplt(t.ID).arr_branch_to_story_id[1]&&(this.select2.visible=!0)));this.group1.visible||this.group2.visible?this.tip.visible=!1:this.tip.visible=!0,this.select1.visible&&this.select2.visible||1==t.arr_branch_desc.length&&this.select1.visible?this.perfect.visible=!0:this.perfect.visible=!1},e.prototype.reviewChapter=function(){ViewManager.ins().open(ReviewDlg,this.data.ID)},e}(eui.ItemRenderer);__reflect(StoryEndItem.prototype,"StoryEndItem");var VideoCmd=function(){function t(){}return t.SHOW_WINDOW="Video_show_window",t.CLOSE_WINDOW="Video_close_window",t.UPDATE_DATA="Video_update_data",t.TOUCH="Video_touch",t.LOAD_VIDEO="Video_load_video",t.VIDEO_PLAY_END="Video_play_end",t.VIDEO_EXIT="Video_exit",t.INIT_DATA="Video_init_data",t.JS_VIDEO_PLAY_END="js_video_play_end",t.JS_VIDEO_EXIT="js_video_exit",t}();__reflect(VideoCmd.prototype,"VideoCmd");var VideoController=function(t){function e(){var e=t.call(this)||this;return e.dianJiFlag=!0,e.target=e,e.curTab=e.btnNameList[0],e}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case VideoCmd.SHOW_WINDOW:this.showWindow();break;case VideoCmd.CLOSE_WINDOW:this.closeWindow();break;case VideoCmd.LOAD_VIDEO:this.loadVideo(t);break;case VideoCmd.UPDATE_DATA:case VideoCmd.JS_VIDEO_PLAY_END:this.call(VideoCmd.VIDEO_PLAY_END);break;case VideoCmd.JS_VIDEO_EXIT:this.call(VideoCmd.VIDEO_EXIT)}},e.prototype.initView=function(){this.ui=new VideoUi,this.addClick(this.ui.bg,this.click),this.inited=!0,this.pxy=this.getProxy(VideoProxy.NAME),this.showWindow(),this.pxy.addMsgListen()},e.prototype.showWindow=function(){this.inited||this.initView(),this.call(SysCmd.ADD_TO_STAGE,this.ui)},e.prototype.closeWindow=function(){this.call(SysCmd.REMOVE_FROM_STAGE,this.ui)},e.prototype.click=function(t,e){console.log(t)},e.prototype.loadVideo=function(t){var e;e="string"==typeof t?t:t.url,Log.log("load:"+e),e="http://"+GameConfig.VIDEO_URL+"/"+e+FileType.VIDEO,this._videoUrl=e,play(e,t&&t.noBack)},e.NAME="VideoController",e}(BaseCtr);__reflect(VideoController.prototype,"VideoController");var VideoList=function(t){function e(e){var o=t.call(this,e)||this;return o._row=-1,o._col=-1,o._spacex=20,o._spacey=20,o._itemList=[],o._landscape=!0,o._viewW=720,o._viewH=1280,o._refeaching=!1,o._pos=0,o._useScrollView=!0,o._createIndex=0,o._key="videoList"+999999*Math.random(),o}return __extends(e,t),Object.defineProperty(e.prototype,"renderItem",{set:function(t){this._renderItem=t},enumerable:!0,configurable:!0}),e.prototype.setSelectHandle=function(t,e){this._selectHandle=t,this._target=e},Object.defineProperty(e.prototype,"xFunc",{set:function(t){this._xFunc=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yFunc",{set:function(t){this._yFunc=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"datasource",{set:function(t){this._renderItem&&(this._data=t,this._col=this._landscape?t.length:1,this._row=this._landscape?1:t.length,this.createItem())},enumerable:!0,configurable:!0}),e.prototype.createItem=function(t){void 0===t&&(t=0),this._pos=t,this._refeaching=!1;for(var e=(Math.ceil(this._data.length/this._row),0);e<this._data.length;e++){var o=void 0;if(this._itemList[e])if(o=this._itemList[e],o.x+t+2*o.width<0)o.parent&&o.parent.removeChild(o),o.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.itemSelect,this);else{if(o.x+t>this._viewW+2*o.width)return o.parent&&o.parent.removeChild(o),o.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.itemSelect,this),void Log.log("item"+e+o.visible+" 结束");this.addChild(o),o.addEventListener(egret.TouchEvent.TOUCH_TAP,this.itemSelect,this)}else if(o=this.createPanel(this.moduleName,this._renderItem),o.touchEnabled=!0,this._itemList[e]=o,o.x=this._xFunc?this._xFunc(e):this._landscape?e*(o.width+this._spacex):0,o.y=this._yFunc?this._yFunc(e):this._landscape?0:e*(o.height+this._spacey),o.datasource=this._data[e],this.addChild(o),o.addEventListener(egret.TouchEvent.TOUCH_TAP,this.itemSelect,this),o.x+t>this._viewW+2*o.width)return void Log.log("item"+e+" 结束")}},e.prototype.scrollItem=function(){},e.prototype.refeach=function(){for(var t=0;t<this._itemList.length;t++)this._itemList[t].datasource=this._data[t]},e.prototype.itemSelect=function(t){t.target.selected=!0,this._target&&this._selectHandle.apply(this._target,[t])},e.prototype.renderHandle=function(t){Log.log("刷新列表"),this.createItem(0-t.scrollLeft)},e}(BaseV);__reflect(VideoList.prototype,"VideoList");var VideoMgr=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.start=function(){this.isStart||(this.regProxy(VideoProxy.NAME,new VideoProxy),this.regController(VideoController.NAME,new VideoController),this.isStart=!0)},Object.defineProperty(e.prototype,"EventList",{get:function(){return[VideoCmd.SHOW_WINDOW,VideoCmd.CLOSE_WINDOW,VideoCmd.LOAD_VIDEO,VideoCmd.UPDATE_DATA,VideoCmd.INIT_DATA,VideoCmd.JS_VIDEO_PLAY_END,VideoCmd.JS_VIDEO_EXIT]},enumerable:!0,configurable:!0}),e.prototype.execute=function(t,e){switch(void 0===e&&(e=null),t){case VideoCmd.INIT_DATA:this.proxy(VideoProxy.NAME,e,t);break;default:this.control(VideoController.NAME,e,t)}},e}(BaseMgr);__reflect(VideoMgr.prototype,"VideoMgr");var OperationRsltType=protocols.fields.OperationRsltType,VideoProxy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.size=500,e}return __extends(e,t),e.prototype.execute=function(t,e){switch(void 0===t&&(t=null),void 0===e&&(e=null),e){case VideoCmd.INIT_DATA:}},e.prototype.init=function(){},e.prototype.addMsgListen=function(){},e.prototype.updateObj=function(t){this.call(VideoCmd.UPDATE_DATA)},e.NAME="VideoProxy",e}(BaseProxy);__reflect(VideoProxy.prototype,"VideoProxy");var VideoUi=function(t){function e(){var e=t.call(this)||this;return e.bg=new egret.Sprite,e.bg.name="btn",e.bg.graphics.beginFill(16777215,1),e.bg.graphics.drawRect(50,50,100,100),e.bg.graphics.endFill(),e.bg.touchEnabled=!0,e.addChild(e.bg),e}return __extends(e,t),e.prototype.onAddToStage=function(t){},e}(BaseUI);__reflect(VideoUi.prototype,"VideoUi");